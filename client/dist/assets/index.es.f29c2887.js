import{t as gr,e as Qe,s as re,r as K0,a as tl,b as el,c as rl,d as il,f as nl,g as sl,h as al,i as ol,j as La}from"./index.ab0617da.js";import{a8 as Vt,a9 as ne,g as fl,aa as Zt,ab as or,ac as se,ad as $r,ae as ka,af as Ua,ag as We,ah as je,ai as Ma,aj as hl}from"./index.0708ba85.js";const ul=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,cl=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,ll=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function dl(f,s){if(f==="__proto__"||f==="constructor"&&s&&typeof s=="object"&&"prototype"in s){pl(f);return}return s}function pl(f){console.warn(`[destr] Dropping "${f}" key to prevent prototype pollution.`)}function Hi(f,s={}){if(typeof f!="string")return f;const h=f.trim();if(f[0]==='"'&&f.at(-1)==='"'&&!f.includes("\\"))return h.slice(1,-1);if(h.length<=9){const o=h.toLowerCase();if(o==="true")return!0;if(o==="false")return!1;if(o==="undefined")return;if(o==="null")return null;if(o==="nan")return Number.NaN;if(o==="infinity")return Number.POSITIVE_INFINITY;if(o==="-infinity")return Number.NEGATIVE_INFINITY}if(!ll.test(f)){if(s.strict)throw new SyntaxError("[destr] Invalid JSON");return f}try{if(ul.test(f)||cl.test(f)){if(s.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(f,dl)}return JSON.parse(f)}catch(o){if(s.strict)throw o;return f}}function vl(f){return!f||typeof f.then!="function"?Promise.resolve(f):f}function Pe(f,...s){try{return vl(f(...s))}catch(h){return Promise.reject(h)}}function ml(f){const s=typeof f;return f===null||s!=="object"&&s!=="function"}function gl(f){const s=Object.getPrototypeOf(f);return!s||s.isPrototypeOf(Object)}function rn(f){if(ml(f))return String(f);if(gl(f)||Array.isArray(f))return JSON.stringify(f);if(typeof f.toJSON=="function")return rn(f.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function H0(){if(typeof Vt.Buffer===void 0)throw new TypeError("[unstorage] Buffer is not supported!")}const _a="base64:";function bl(f){if(typeof f=="string")return f;H0();const s=Vt.Buffer.from(f).toString("base64");return _a+s}function yl(f){return typeof f!="string"||!f.startsWith(_a)?f:(H0(),Vt.Buffer.from(f.slice(_a.length),"base64"))}function Ge(f){return f?f.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function wl(...f){return Ge(f.join(":"))}function ji(f){return f=Ge(f),f?f+":":""}const Ml="memory",_l=()=>{const f=new Map;return{name:Ml,options:{},hasItem(s){return f.has(s)},getItem(s){var h;return(h=f.get(s))!=null?h:null},getItemRaw(s){var h;return(h=f.get(s))!=null?h:null},setItem(s,h){f.set(s,h)},setItemRaw(s,h){f.set(s,h)},removeItem(s){f.delete(s)},getKeys(){return Array.from(f.keys())},clear(){f.clear()},dispose(){f.clear()}}};function xl(f={}){const s={mounts:{"":f.driver||_l()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},h=g=>{for(const m of s.mountpoints)if(g.startsWith(m))return{base:m,relativeKey:g.slice(m.length),driver:s.mounts[m]};return{base:"",relativeKey:g,driver:s.mounts[""]}},o=(g,m)=>s.mountpoints.filter(_=>_.startsWith(g)||m&&g.startsWith(_)).map(_=>({relativeBase:g.length>_.length?g.slice(_.length):void 0,mountpoint:_,driver:s.mounts[_]})),p=(g,m)=>{if(!!s.watching){m=Ge(m);for(const _ of s.watchListeners)_(g,m)}},i=async()=>{if(!s.watching){s.watching=!0;for(const g in s.mounts)s.unwatch[g]=await To(s.mounts[g],p,g)}},M=async()=>{if(!!s.watching){for(const g in s.unwatch)await s.unwatch[g]();s.unwatch={},s.watching=!1}},w=(g,m,_)=>{const x=new Map,E=S=>{let R=x.get(S.base);return R||(R={driver:S.driver,base:S.base,items:[]},x.set(S.base,R)),R};for(const S of g){const R=typeof S=="string",P=Ge(R?S:S.key),O=R?void 0:S.value,B=R||!S.options?m:{...m,...S.options},C=h(P);E(C).items.push({key:P,value:O,relativeKey:C.relativeKey,options:B})}return Promise.all([...x.values()].map(S=>_(S))).then(S=>S.flat())},y={hasItem(g,m={}){g=Ge(g);const{relativeKey:_,driver:x}=h(g);return Pe(x.hasItem,_,m)},getItem(g,m={}){g=Ge(g);const{relativeKey:_,driver:x}=h(g);return Pe(x.getItem,_,m).then(E=>Hi(E))},getItems(g,m){return w(g,m,_=>_.driver.getItems?Pe(_.driver.getItems,_.items.map(x=>({key:x.relativeKey,options:x.options})),m).then(x=>x.map(E=>({key:wl(_.base,E.key),value:Hi(E.value)}))):Promise.all(_.items.map(x=>Pe(_.driver.getItem,x.relativeKey,x.options).then(E=>({key:x.key,value:Hi(E)})))))},getItemRaw(g,m={}){g=Ge(g);const{relativeKey:_,driver:x}=h(g);return x.getItemRaw?Pe(x.getItemRaw,_,m):Pe(x.getItem,_,m).then(E=>yl(E))},async setItem(g,m,_={}){if(m===void 0)return y.removeItem(g);g=Ge(g);const{relativeKey:x,driver:E}=h(g);!E.setItem||(await Pe(E.setItem,x,rn(m),_),E.watch||p("update",g))},async setItems(g,m){await w(g,m,async _=>{_.driver.setItems&&await Pe(_.driver.setItems,_.items.map(x=>({key:x.relativeKey,value:rn(x.value),options:x.options})),m),_.driver.setItem&&await Promise.all(_.items.map(x=>Pe(_.driver.setItem,x.relativeKey,rn(x.value),x.options)))})},async setItemRaw(g,m,_={}){if(m===void 0)return y.removeItem(g,_);g=Ge(g);const{relativeKey:x,driver:E}=h(g);if(E.setItemRaw)await Pe(E.setItemRaw,x,m,_);else if(E.setItem)await Pe(E.setItem,x,bl(m),_);else return;E.watch||p("update",g)},async removeItem(g,m={}){typeof m=="boolean"&&(m={removeMeta:m}),g=Ge(g);const{relativeKey:_,driver:x}=h(g);!x.removeItem||(await Pe(x.removeItem,_,m),(m.removeMeta||m.removeMata)&&await Pe(x.removeItem,_+"$",m),x.watch||p("remove",g))},async getMeta(g,m={}){typeof m=="boolean"&&(m={nativeOnly:m}),g=Ge(g);const{relativeKey:_,driver:x}=h(g),E=Object.create(null);if(x.getMeta&&Object.assign(E,await Pe(x.getMeta,_,m)),!m.nativeOnly){const S=await Pe(x.getItem,_+"$",m).then(R=>Hi(R));S&&typeof S=="object"&&(typeof S.atime=="string"&&(S.atime=new Date(S.atime)),typeof S.mtime=="string"&&(S.mtime=new Date(S.mtime)),Object.assign(E,S))}return E},setMeta(g,m,_={}){return this.setItem(g+"$",m,_)},removeMeta(g,m={}){return this.removeItem(g+"$",m)},async getKeys(g,m={}){g=ji(g);const _=o(g,!0);let x=[];const E=[];for(const S of _){const P=(await Pe(S.driver.getKeys,S.relativeBase,m)).map(O=>S.mountpoint+Ge(O)).filter(O=>!x.some(B=>O.startsWith(B)));E.push(...P),x=[S.mountpoint,...x.filter(O=>!O.startsWith(S.mountpoint))]}return g?E.filter(S=>S.startsWith(g)&&!S.endsWith("$")):E.filter(S=>!S.endsWith("$"))},async clear(g,m={}){g=ji(g),await Promise.all(o(g,!1).map(async _=>{if(_.driver.clear)return Pe(_.driver.clear,_.relativeBase,m);if(_.driver.removeItem){const x=await _.driver.getKeys(_.relativeBase||"",m);return Promise.all(x.map(E=>_.driver.removeItem(E,m)))}}))},async dispose(){await Promise.all(Object.values(s.mounts).map(g=>No(g)))},async watch(g){return await i(),s.watchListeners.push(g),async()=>{s.watchListeners=s.watchListeners.filter(m=>m!==g),s.watchListeners.length===0&&await M()}},async unwatch(){s.watchListeners=[],await M()},mount(g,m){if(g=ji(g),g&&s.mounts[g])throw new Error(`already mounted at ${g}`);return g&&(s.mountpoints.push(g),s.mountpoints.sort((_,x)=>x.length-_.length)),s.mounts[g]=m,s.watching&&Promise.resolve(To(m,p,g)).then(_=>{s.unwatch[g]=_}).catch(console.error),y},async unmount(g,m=!0){g=ji(g),!(!g||!s.mounts[g])&&(s.watching&&g in s.unwatch&&(s.unwatch[g](),delete s.unwatch[g]),m&&await No(s.mounts[g]),s.mountpoints=s.mountpoints.filter(_=>_!==g),delete s.mounts[g])},getMount(g=""){g=Ge(g)+":";const m=h(g);return{driver:m.driver,base:m.base}},getMounts(g="",m={}){return g=Ge(g),o(g,m.parents).map(x=>({driver:x.driver,base:x.mountpoint}))}};return y}function To(f,s,h){return f.watch?f.watch((o,p)=>s(o,h+p)):()=>{}}async function No(f){typeof f.dispose=="function"&&await Pe(f.dispose)}function Kr(f){return new Promise((s,h)=>{f.oncomplete=f.onsuccess=()=>s(f.result),f.onabort=f.onerror=()=>h(f.error)})}function j0(f,s){const h=indexedDB.open(f);h.onupgradeneeded=()=>h.result.createObjectStore(s);const o=Kr(h);return(p,i)=>o.then(M=>i(M.transaction(s,p).objectStore(s)))}let Tn;function Bi(){return Tn||(Tn=j0("keyval-store","keyval")),Tn}function Oo(f,s=Bi()){return s("readonly",h=>Kr(h.get(f)))}function El(f,s,h=Bi()){return h("readwrite",o=>(o.put(s,f),Kr(o.transaction)))}function Sl(f,s=Bi()){return s("readwrite",h=>(h.delete(f),Kr(h.transaction)))}function Al(f=Bi()){return f("readwrite",s=>(s.clear(),Kr(s.transaction)))}function Il(f,s){return f.openCursor().onsuccess=function(){!this.result||(s(this.result),this.result.continue())},Kr(f.transaction)}function Rl(f=Bi()){return f("readonly",s=>{if(s.getAllKeys)return Kr(s.getAllKeys());const h=[];return Il(s,o=>h.push(o.key)).then(()=>h)})}const Bl=f=>JSON.stringify(f,(s,h)=>typeof h=="bigint"?h.toString()+"n":h),Pl=f=>{const s=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,h=f.replace(s,'$1"$2n"$3');return JSON.parse(h,(o,p)=>typeof p=="string"&&p.match(/^\d+n$/)?BigInt(p.substring(0,p.length-1)):p)};function dn(f){if(typeof f!="string")throw new Error(`Cannot safe json parse value of type ${typeof f}`);try{return Pl(f)}catch{return f}}function Pi(f){return typeof f=="string"?f:Bl(f)||""}const Tl="idb-keyval";var Nl=(f={})=>{const s=f.base&&f.base.length>0?`${f.base}:`:"",h=p=>s+p;let o;return f.dbName&&f.storeName&&(o=j0(f.dbName,f.storeName)),{name:Tl,options:f,async hasItem(p){return!(typeof await Oo(h(p),o)>"u")},async getItem(p){var i;return(i=await Oo(h(p),o))!=null?i:null},setItem(p,i){return El(h(p),i,o)},removeItem(p){return Sl(h(p),o)},getKeys(){return Rl(o)},clear(){return Al(o)}}};const Ol="WALLET_CONNECT_V2_INDEXED_DB",ql="keyvaluestorage";class Cl{constructor(){this.indexedDb=xl({driver:Nl({dbName:Ol,storeName:ql})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(s=>[s.key,s.value])}async getItem(s){const h=await this.indexedDb.getItem(s);if(h!==null)return h}async setItem(s,h){await this.indexedDb.setItem(s,Pi(h))}async removeItem(s){await this.indexedDb.removeItem(s)}}var Nn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof ne<"u"?ne:typeof self<"u"?self:{},nn={exports:{}};(function(){let f;function s(){}f=s,f.prototype.getItem=function(h){return this.hasOwnProperty(h)?String(this[h]):null},f.prototype.setItem=function(h,o){this[h]=String(o)},f.prototype.removeItem=function(h){delete this[h]},f.prototype.clear=function(){const h=this;Object.keys(h).forEach(function(o){h[o]=void 0,delete h[o]})},f.prototype.key=function(h){return h=h||0,Object.keys(this)[h]},f.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Nn<"u"&&Nn.localStorage?nn.exports=Nn.localStorage:typeof window<"u"&&window.localStorage?nn.exports=window.localStorage:nn.exports=new s})();function Dl(f){var s;return[f[0],dn((s=f[1])!=null?s:"")]}class Ll{constructor(){this.localStorage=nn.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(Dl)}async getItem(s){const h=this.localStorage.getItem(s);if(h!==null)return dn(h)}async setItem(s,h){this.localStorage.setItem(s,Pi(h))}async removeItem(s){this.localStorage.removeItem(s)}}const kl="wc_storage_version",qo=1,Ul=async(f,s,h)=>{const o=kl,p=await s.getItem(o);if(p&&p>=qo){h(s);return}const i=await f.getKeys();if(!i.length){h(s);return}const M=[];for(;i.length;){const w=i.shift();if(!w)continue;const y=w.toLowerCase();if(y.includes("wc@")||y.includes("walletconnect")||y.includes("wc_")||y.includes("wallet_connect")){const g=await f.getItem(w);await s.setItem(w,g),M.push(w)}}await s.setItem(o,qo),h(s),Fl(f,M)},Fl=async(f,s)=>{s.length&&s.forEach(async h=>{await f.removeItem(h)})};class zl{constructor(){this.initialized=!1,this.setInitialized=h=>{this.storage=h,this.initialized=!0};const s=new Ll;this.storage=s;try{const h=new Cl;Ul(s,h,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(s){return await this.initialize(),this.storage.getItem(s)}async setItem(s,h){return await this.initialize(),this.storage.setItem(s,h)}async removeItem(s){return await this.initialize(),this.storage.removeItem(s)}async initialize(){this.initialized||await new Promise(s=>{const h=setInterval(()=>{this.initialized&&(clearInterval(h),s())},20)})}}var ti={},fi={},Ot={},On={},hi={},Co;function $l(){if(Co)return hi;Co=1,Object.defineProperty(hi,"__esModule",{value:!0}),hi.delay=void 0;function f(s){return new Promise(h=>{setTimeout(()=>{h(!0)},s)})}return hi.delay=f,hi}var qr={},qn={},Cr={},Do;function Kl(){return Do||(Do=1,Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.ONE_THOUSAND=Cr.ONE_HUNDRED=void 0,Cr.ONE_HUNDRED=100,Cr.ONE_THOUSAND=1e3),Cr}var Cn={},Lo;function Hl(){return Lo||(Lo=1,function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.ONE_YEAR=f.FOUR_WEEKS=f.THREE_WEEKS=f.TWO_WEEKS=f.ONE_WEEK=f.THIRTY_DAYS=f.SEVEN_DAYS=f.FIVE_DAYS=f.THREE_DAYS=f.ONE_DAY=f.TWENTY_FOUR_HOURS=f.TWELVE_HOURS=f.SIX_HOURS=f.THREE_HOURS=f.ONE_HOUR=f.SIXTY_MINUTES=f.THIRTY_MINUTES=f.TEN_MINUTES=f.FIVE_MINUTES=f.ONE_MINUTE=f.SIXTY_SECONDS=f.THIRTY_SECONDS=f.TEN_SECONDS=f.FIVE_SECONDS=f.ONE_SECOND=void 0,f.ONE_SECOND=1,f.FIVE_SECONDS=5,f.TEN_SECONDS=10,f.THIRTY_SECONDS=30,f.SIXTY_SECONDS=60,f.ONE_MINUTE=f.SIXTY_SECONDS,f.FIVE_MINUTES=f.ONE_MINUTE*5,f.TEN_MINUTES=f.ONE_MINUTE*10,f.THIRTY_MINUTES=f.ONE_MINUTE*30,f.SIXTY_MINUTES=f.ONE_MINUTE*60,f.ONE_HOUR=f.SIXTY_MINUTES,f.THREE_HOURS=f.ONE_HOUR*3,f.SIX_HOURS=f.ONE_HOUR*6,f.TWELVE_HOURS=f.ONE_HOUR*12,f.TWENTY_FOUR_HOURS=f.ONE_HOUR*24,f.ONE_DAY=f.TWENTY_FOUR_HOURS,f.THREE_DAYS=f.ONE_DAY*3,f.FIVE_DAYS=f.ONE_DAY*5,f.SEVEN_DAYS=f.ONE_DAY*7,f.THIRTY_DAYS=f.ONE_DAY*30,f.ONE_WEEK=f.SEVEN_DAYS,f.TWO_WEEKS=f.ONE_WEEK*2,f.THREE_WEEKS=f.ONE_WEEK*3,f.FOUR_WEEKS=f.ONE_WEEK*4,f.ONE_YEAR=f.ONE_DAY*365}(Cn)),Cn}var ko;function V0(){return ko||(ko=1,function(f){Object.defineProperty(f,"__esModule",{value:!0});const s=gr.exports;s.__exportStar(Kl(),f),s.__exportStar(Hl(),f)}(qn)),qn}var Uo;function jl(){if(Uo)return qr;Uo=1,Object.defineProperty(qr,"__esModule",{value:!0}),qr.fromMiliseconds=qr.toMiliseconds=void 0;const f=V0();function s(o){return o*f.ONE_THOUSAND}qr.toMiliseconds=s;function h(o){return Math.floor(o/f.ONE_THOUSAND)}return qr.fromMiliseconds=h,qr}var Fo;function Vl(){return Fo||(Fo=1,function(f){Object.defineProperty(f,"__esModule",{value:!0});const s=gr.exports;s.__exportStar($l(),f),s.__exportStar(jl(),f)}(On)),On}var Zr={},zo;function Gl(){if(zo)return Zr;zo=1,Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.Watch=void 0;class f{constructor(){this.timestamps=new Map}start(h){if(this.timestamps.has(h))throw new Error(`Watch already started for label: ${h}`);this.timestamps.set(h,{started:Date.now()})}stop(h){const o=this.get(h);if(typeof o.elapsed<"u")throw new Error(`Watch already stopped for label: ${h}`);const p=Date.now()-o.started;this.timestamps.set(h,{started:o.started,elapsed:p})}get(h){const o=this.timestamps.get(h);if(typeof o>"u")throw new Error(`No timestamp found for label: ${h}`);return o}elapsed(h){const o=this.get(h);return o.elapsed||Date.now()-o.started}}return Zr.Watch=f,Zr.default=f,Zr}var Dn={},ui={},$o;function Zl(){if($o)return ui;$o=1,Object.defineProperty(ui,"__esModule",{value:!0}),ui.IWatch=void 0;class f{}return ui.IWatch=f,ui}var Ko;function Wl(){return Ko||(Ko=1,function(f){Object.defineProperty(f,"__esModule",{value:!0}),gr.exports.__exportStar(Zl(),f)}(Dn)),Dn}(function(f){Object.defineProperty(f,"__esModule",{value:!0});const s=gr.exports;s.__exportStar(Vl(),f),s.__exportStar(Gl(),f),s.__exportStar(Wl(),f),s.__exportStar(V0(),f)})(Ot);var Ln={},ci={};class Hr{}const Yl=Object.freeze(Object.defineProperty({__proto__:null,IEvents:Hr},Symbol.toStringTag,{value:"Module"})),Jl=fl(Yl);var Ho;function Xl(){if(Ho)return ci;Ho=1,Object.defineProperty(ci,"__esModule",{value:!0}),ci.IHeartBeat=void 0;const f=Jl;class s extends f.IEvents{constructor(o){super()}}return ci.IHeartBeat=s,ci}var jo;function G0(){return jo||(jo=1,function(f){Object.defineProperty(f,"__esModule",{value:!0}),gr.exports.__exportStar(Xl(),f)}(Ln)),Ln}var kn={},Dr={},Vo;function Ql(){if(Vo)return Dr;Vo=1,Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.HEARTBEAT_EVENTS=Dr.HEARTBEAT_INTERVAL=void 0;const f=Ot;return Dr.HEARTBEAT_INTERVAL=f.FIVE_SECONDS,Dr.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"},Dr}var Go;function Z0(){return Go||(Go=1,function(f){Object.defineProperty(f,"__esModule",{value:!0}),gr.exports.__exportStar(Ql(),f)}(kn)),kn}var Zo;function td(){if(Zo)return fi;Zo=1,Object.defineProperty(fi,"__esModule",{value:!0}),fi.HeartBeat=void 0;const f=gr.exports,s=Qe.exports,h=Ot,o=G0(),p=Z0();class i extends o.IHeartBeat{constructor(w){super(w),this.events=new s.EventEmitter,this.interval=p.HEARTBEAT_INTERVAL,this.interval=(w==null?void 0:w.interval)||p.HEARTBEAT_INTERVAL}static init(w){return f.__awaiter(this,void 0,void 0,function*(){const y=new i(w);return yield y.init(),y})}init(){return f.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(w,y){this.events.on(w,y)}once(w,y){this.events.once(w,y)}off(w,y){this.events.off(w,y)}removeListener(w,y){this.events.removeListener(w,y)}initialize(){return f.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),h.toMiliseconds(this.interval))})}pulse(){this.events.emit(p.HEARTBEAT_EVENTS.pulse)}}return fi.HeartBeat=i,fi}(function(f){Object.defineProperty(f,"__esModule",{value:!0});const s=gr.exports;s.__exportStar(td(),f),s.__exportStar(G0(),f),s.__exportStar(Z0(),f)})(ti);var Qt={},Un,Wo;function ed(){if(Wo)return Un;Wo=1;function f(h){try{return JSON.stringify(h)}catch{return'"[Circular]"'}}Un=s;function s(h,o,p){var i=p&&p.stringify||f,M=1;if(typeof h=="object"&&h!==null){var w=o.length+M;if(w===1)return h;var y=new Array(w);y[0]=i(h);for(var g=1;g<w;g++)y[g]=i(o[g]);return y.join(" ")}if(typeof h!="string")return h;var m=o.length;if(m===0)return h;for(var _="",x=1-M,E=-1,S=h&&h.length||0,R=0;R<S;){if(h.charCodeAt(R)===37&&R+1<S){switch(E=E>-1?E:0,h.charCodeAt(R+1)){case 100:case 102:if(x>=m||o[x]==null)break;E<R&&(_+=h.slice(E,R)),_+=Number(o[x]),E=R+2,R++;break;case 105:if(x>=m||o[x]==null)break;E<R&&(_+=h.slice(E,R)),_+=Math.floor(Number(o[x])),E=R+2,R++;break;case 79:case 111:case 106:if(x>=m||o[x]===void 0)break;E<R&&(_+=h.slice(E,R));var P=typeof o[x];if(P==="string"){_+="'"+o[x]+"'",E=R+2,R++;break}if(P==="function"){_+=o[x].name||"<anonymous>",E=R+2,R++;break}_+=i(o[x]),E=R+2,R++;break;case 115:if(x>=m)break;E<R&&(_+=h.slice(E,R)),_+=String(o[x]),E=R+2,R++;break;case 37:E<R&&(_+=h.slice(E,R)),_+="%",E=R+2,R++,x--;break}++x}++R}return E===-1?h:(E<S&&(_+=h.slice(E)),_)}return Un}var Fn,Yo;function rd(){if(Yo)return Fn;Yo=1;const f=ed();Fn=p;const s=F().console||{},h={mapHttpRequest:S,mapHttpResponse:S,wrapRequestSerializer:R,wrapResponseSerializer:R,wrapErrorSerializer:R,req:S,res:S,err:x};function o(D,I){return Array.isArray(D)?D.filter(function(K){return K!=="!stdSerializers.err"}):D===!0?Object.keys(I):!1}function p(D){D=D||{},D.browser=D.browser||{};const I=D.browser.transmit;if(I&&typeof I.send!="function")throw Error("pino: transmit option must have a send function");const k=D.browser.write||s;D.browser.write&&(D.browser.asObject=!0);const K=D.serializers||{},Y=o(D.browser.serialize,K);let d=D.browser.serialize;Array.isArray(D.browser.serialize)&&D.browser.serialize.indexOf("!stdSerializers.err")>-1&&(d=!1);const t=["error","fatal","warn","info","debug","trace"];typeof k=="function"&&(k.error=k.fatal=k.warn=k.info=k.debug=k.trace=k),D.enabled===!1&&(D.level="silent");const r=D.level||"info",n=Object.create(k);n.log||(n.log=P),Object.defineProperty(n,"levelVal",{get:l}),Object.defineProperty(n,"level",{get:v,set:b});const a={transmit:I,serialize:Y,asObject:D.browser.asObject,levels:t,timestamp:E(D)};n.levels=p.levels,n.level=r,n.setMaxListeners=n.getMaxListeners=n.emit=n.addListener=n.on=n.prependListener=n.once=n.prependOnceListener=n.removeListener=n.removeAllListeners=n.listeners=n.listenerCount=n.eventNames=n.write=n.flush=P,n.serializers=K,n._serialize=Y,n._stdErrSerialize=d,n.child=u,I&&(n._logEvent=_());function l(){return this.level==="silent"?1/0:this.levels.values[this.level]}function v(){return this._level}function b(e){if(e!=="silent"&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,i(a,n,"error","log"),i(a,n,"fatal","error"),i(a,n,"warn","error"),i(a,n,"info","log"),i(a,n,"debug","log"),i(a,n,"trace","log")}function u(e,c){if(!e)throw new Error("missing bindings for child Pino");c=c||{},Y&&e.serializers&&(c.serializers=e.serializers);const q=c.serializers;if(Y&&q){var N=Object.assign({},K,q),L=D.browser.serialize===!0?Object.keys(N):Y;delete e.serializers,y([e],L,N,this._stdErrSerialize)}function $(V){this._childLevel=(V._childLevel|0)+1,this.error=g(V,e,"error"),this.fatal=g(V,e,"fatal"),this.warn=g(V,e,"warn"),this.info=g(V,e,"info"),this.debug=g(V,e,"debug"),this.trace=g(V,e,"trace"),N&&(this.serializers=N,this._serialize=L),I&&(this._logEvent=_([].concat(V._logEvent.bindings,e)))}return $.prototype=this,new $(this)}return n}p.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},p.stdSerializers=h,p.stdTimeFunctions=Object.assign({},{nullTime:O,epochTime:B,unixTime:C,isoTime:T});function i(D,I,k,K){const Y=Object.getPrototypeOf(I);I[k]=I.levelVal>I.levels.values[k]?P:Y[k]?Y[k]:s[k]||s[K]||P,M(D,I,k)}function M(D,I,k){!D.transmit&&I[k]===P||(I[k]=function(K){return function(){const d=D.timestamp(),t=new Array(arguments.length),r=Object.getPrototypeOf&&Object.getPrototypeOf(this)===s?s:this;for(var n=0;n<t.length;n++)t[n]=arguments[n];if(D.serialize&&!D.asObject&&y(t,this._serialize,this.serializers,this._stdErrSerialize),D.asObject?K.call(r,w(this,k,t,d)):K.apply(r,t),D.transmit){const a=D.transmit.level||I.level,l=p.levels.values[a],v=p.levels.values[k];if(v<l)return;m(this,{ts:d,methodLevel:k,methodValue:v,transmitLevel:a,transmitValue:p.levels.values[D.transmit.level||I.level],send:D.transmit.send,val:I.levelVal},t)}}}(I[k]))}function w(D,I,k,K){D._serialize&&y(k,D._serialize,D.serializers,D._stdErrSerialize);const Y=k.slice();let d=Y[0];const t={};K&&(t.time=K),t.level=p.levels.values[I];let r=(D._childLevel|0)+1;if(r<1&&(r=1),d!==null&&typeof d=="object"){for(;r--&&typeof Y[0]=="object";)Object.assign(t,Y.shift());d=Y.length?f(Y.shift(),Y):void 0}else typeof d=="string"&&(d=f(Y.shift(),Y));return d!==void 0&&(t.msg=d),t}function y(D,I,k,K){for(const Y in D)if(K&&D[Y]instanceof Error)D[Y]=p.stdSerializers.err(D[Y]);else if(typeof D[Y]=="object"&&!Array.isArray(D[Y]))for(const d in D[Y])I&&I.indexOf(d)>-1&&d in k&&(D[Y][d]=k[d](D[Y][d]))}function g(D,I,k){return function(){const K=new Array(1+arguments.length);K[0]=I;for(var Y=1;Y<K.length;Y++)K[Y]=arguments[Y-1];return D[k].apply(this,K)}}function m(D,I,k){const K=I.send,Y=I.ts,d=I.methodLevel,t=I.methodValue,r=I.val,n=D._logEvent.bindings;y(k,D._serialize||Object.keys(D.serializers),D.serializers,D._stdErrSerialize===void 0?!0:D._stdErrSerialize),D._logEvent.ts=Y,D._logEvent.messages=k.filter(function(a){return n.indexOf(a)===-1}),D._logEvent.level.label=d,D._logEvent.level.value=t,K(d,D._logEvent,r),D._logEvent=_(n)}function _(D){return{ts:0,messages:[],bindings:D||[],level:{label:"",value:0}}}function x(D){const I={type:D.constructor.name,msg:D.message,stack:D.stack};for(const k in D)I[k]===void 0&&(I[k]=D[k]);return I}function E(D){return typeof D.timestamp=="function"?D.timestamp:D.timestamp===!1?O:B}function S(){return{}}function R(D){return D}function P(){}function O(){return!1}function B(){return Date.now()}function C(){return Math.round(Date.now()/1e3)}function T(){return new Date(Date.now()).toISOString()}function F(){function D(I){return typeof I<"u"&&I}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return D(self)||D(window)||D(this)||{}}}return Fn}var Lr={},Jo;function W0(){return Jo||(Jo=1,Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.PINO_CUSTOM_CONTEXT_KEY=Lr.PINO_LOGGER_DEFAULTS=void 0,Lr.PINO_LOGGER_DEFAULTS={level:"info"},Lr.PINO_CUSTOM_CONTEXT_KEY="custom_context"),Lr}var $e={},Xo;function id(){if(Xo)return $e;Xo=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.generateChildLogger=$e.formatChildLoggerContext=$e.getLoggerContext=$e.setBrowserLoggerContext=$e.getBrowserLoggerContext=$e.getDefaultLoggerOptions=void 0;const f=W0();function s(w){return Object.assign(Object.assign({},w),{level:(w==null?void 0:w.level)||f.PINO_LOGGER_DEFAULTS.level})}$e.getDefaultLoggerOptions=s;function h(w,y=f.PINO_CUSTOM_CONTEXT_KEY){return w[y]||""}$e.getBrowserLoggerContext=h;function o(w,y,g=f.PINO_CUSTOM_CONTEXT_KEY){return w[g]=y,w}$e.setBrowserLoggerContext=o;function p(w,y=f.PINO_CUSTOM_CONTEXT_KEY){let g="";return typeof w.bindings>"u"?g=h(w,y):g=w.bindings().context||"",g}$e.getLoggerContext=p;function i(w,y,g=f.PINO_CUSTOM_CONTEXT_KEY){const m=p(w,g);return m.trim()?`${m}/${y}`:y}$e.formatChildLoggerContext=i;function M(w,y,g=f.PINO_CUSTOM_CONTEXT_KEY){const m=i(w,y,g),_=w.child({context:m});return o(_,m,g)}return $e.generateChildLogger=M,$e}(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.pino=void 0;const s=gr.exports,h=s.__importDefault(rd());Object.defineProperty(f,"pino",{enumerable:!0,get:function(){return h.default}}),s.__exportStar(W0(),f),s.__exportStar(id(),f)})(Qt);class nd extends Hr{constructor(s){super(),this.opts=s,this.protocol="wc",this.version=2}}class sd extends Hr{constructor(s,h){super(),this.core=s,this.logger=h,this.records=new Map}}class ad{constructor(s,h){this.logger=s,this.core=h}}class od extends Hr{constructor(s,h){super(),this.relayer=s,this.logger=h}}class fd extends Hr{constructor(s){super()}}class hd{constructor(s,h,o,p){this.core=s,this.logger=h,this.name=o}}class ud extends Hr{constructor(s,h){super(),this.relayer=s,this.logger=h}}class cd extends Hr{constructor(s,h){super(),this.core=s,this.logger=h}}class ld{constructor(s,h){this.projectId=s,this.logger=h}}class dd{constructor(s){this.opts=s,this.protocol="wc",this.version=2}}class pd{constructor(s){this.client=s}}var Fa={},ei={},pn={},vn={};Object.defineProperty(vn,"__esModule",{value:!0});vn.BrowserRandomSource=void 0;const Qo=65536;class vd{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const s=typeof self<"u"?self.crypto||self.msCrypto:null;s&&s.getRandomValues!==void 0&&(this._crypto=s,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(s){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const h=new Uint8Array(s);for(let o=0;o<h.length;o+=Qo)this._crypto.getRandomValues(h.subarray(o,o+Math.min(h.length-o,Qo)));return h}}vn.BrowserRandomSource=vd;function md(f){throw new Error('Could not dynamically require "'+f+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var mn={},tr={};Object.defineProperty(tr,"__esModule",{value:!0});function gd(f){for(var s=0;s<f.length;s++)f[s]=0;return f}tr.wipe=gd;var jt={},Vi={exports:{}},tf;function ri(){if(tf)return Vi.exports;tf=1;var f=65536,s=4294967295;function h(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var o=re.exports.Buffer,p=Zt.crypto||Zt.msCrypto;p&&p.getRandomValues?Vi.exports=i:Vi.exports=h;function i(M,w){if(M>s)throw new RangeError("requested too many random bytes");var y=o.allocUnsafe(M);if(M>0)if(M>f)for(var g=0;g<M;g+=f)p.getRandomValues(y.slice(g,g+f));else p.getRandomValues(y);return typeof w=="function"?or.exports.nextTick(function(){w(null,y)}):y}return Vi.exports}var on=re.exports.Buffer,Y0=K0().Transform,bd=se.exports;function yd(f,s){if(!on.isBuffer(f)&&typeof f!="string")throw new TypeError(s+" must be a string or a buffer")}function Br(f){Y0.call(this),this._block=on.allocUnsafe(f),this._blockSize=f,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}bd(Br,Y0);Br.prototype._transform=function(f,s,h){var o=null;try{this.update(f,s)}catch(p){o=p}h(o)};Br.prototype._flush=function(f){var s=null;try{this.push(this.digest())}catch(h){s=h}f(s)};Br.prototype.update=function(f,s){if(yd(f,"Data"),this._finalized)throw new Error("Digest already called");on.isBuffer(f)||(f=on.from(f,s));for(var h=this._block,o=0;this._blockOffset+f.length-o>=this._blockSize;){for(var p=this._blockOffset;p<this._blockSize;)h[p++]=f[o++];this._update(),this._blockOffset=0}for(;o<f.length;)h[this._blockOffset++]=f[o++];for(var i=0,M=f.length*8;M>0;++i)this._length[i]+=M,M=this._length[i]/4294967296|0,M>0&&(this._length[i]-=4294967296*M);return this};Br.prototype._update=function(){throw new Error("_update is not implemented")};Br.prototype.digest=function(f){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var s=this._digest();f!==void 0&&(s=s.toString(f)),this._block.fill(0),this._blockOffset=0;for(var h=0;h<4;++h)this._length[h]=0;return s};Br.prototype._digest=function(){throw new Error("_digest is not implemented")};var J0=Br,wd=se.exports,X0=J0,Md=re.exports.Buffer,_d=new Array(16);function gn(){X0.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}wd(gn,X0);gn.prototype._update=function(){for(var f=_d,s=0;s<16;++s)f[s]=this._block.readInt32LE(s*4);var h=this._a,o=this._b,p=this._c,i=this._d;h=De(h,o,p,i,f[0],3614090360,7),i=De(i,h,o,p,f[1],3905402710,12),p=De(p,i,h,o,f[2],606105819,17),o=De(o,p,i,h,f[3],3250441966,22),h=De(h,o,p,i,f[4],4118548399,7),i=De(i,h,o,p,f[5],1200080426,12),p=De(p,i,h,o,f[6],2821735955,17),o=De(o,p,i,h,f[7],4249261313,22),h=De(h,o,p,i,f[8],1770035416,7),i=De(i,h,o,p,f[9],2336552879,12),p=De(p,i,h,o,f[10],4294925233,17),o=De(o,p,i,h,f[11],2304563134,22),h=De(h,o,p,i,f[12],1804603682,7),i=De(i,h,o,p,f[13],4254626195,12),p=De(p,i,h,o,f[14],2792965006,17),o=De(o,p,i,h,f[15],1236535329,22),h=Le(h,o,p,i,f[1],4129170786,5),i=Le(i,h,o,p,f[6],3225465664,9),p=Le(p,i,h,o,f[11],643717713,14),o=Le(o,p,i,h,f[0],3921069994,20),h=Le(h,o,p,i,f[5],3593408605,5),i=Le(i,h,o,p,f[10],38016083,9),p=Le(p,i,h,o,f[15],3634488961,14),o=Le(o,p,i,h,f[4],3889429448,20),h=Le(h,o,p,i,f[9],568446438,5),i=Le(i,h,o,p,f[14],3275163606,9),p=Le(p,i,h,o,f[3],4107603335,14),o=Le(o,p,i,h,f[8],1163531501,20),h=Le(h,o,p,i,f[13],2850285829,5),i=Le(i,h,o,p,f[2],4243563512,9),p=Le(p,i,h,o,f[7],1735328473,14),o=Le(o,p,i,h,f[12],2368359562,20),h=ke(h,o,p,i,f[5],4294588738,4),i=ke(i,h,o,p,f[8],2272392833,11),p=ke(p,i,h,o,f[11],1839030562,16),o=ke(o,p,i,h,f[14],4259657740,23),h=ke(h,o,p,i,f[1],2763975236,4),i=ke(i,h,o,p,f[4],1272893353,11),p=ke(p,i,h,o,f[7],4139469664,16),o=ke(o,p,i,h,f[10],3200236656,23),h=ke(h,o,p,i,f[13],681279174,4),i=ke(i,h,o,p,f[0],3936430074,11),p=ke(p,i,h,o,f[3],3572445317,16),o=ke(o,p,i,h,f[6],76029189,23),h=ke(h,o,p,i,f[9],3654602809,4),i=ke(i,h,o,p,f[12],3873151461,11),p=ke(p,i,h,o,f[15],530742520,16),o=ke(o,p,i,h,f[2],3299628645,23),h=Ue(h,o,p,i,f[0],4096336452,6),i=Ue(i,h,o,p,f[7],1126891415,10),p=Ue(p,i,h,o,f[14],2878612391,15),o=Ue(o,p,i,h,f[5],4237533241,21),h=Ue(h,o,p,i,f[12],1700485571,6),i=Ue(i,h,o,p,f[3],2399980690,10),p=Ue(p,i,h,o,f[10],4293915773,15),o=Ue(o,p,i,h,f[1],2240044497,21),h=Ue(h,o,p,i,f[8],1873313359,6),i=Ue(i,h,o,p,f[15],4264355552,10),p=Ue(p,i,h,o,f[6],2734768916,15),o=Ue(o,p,i,h,f[13],1309151649,21),h=Ue(h,o,p,i,f[4],4149444226,6),i=Ue(i,h,o,p,f[11],3174756917,10),p=Ue(p,i,h,o,f[2],718787259,15),o=Ue(o,p,i,h,f[9],3951481745,21),this._a=this._a+h|0,this._b=this._b+o|0,this._c=this._c+p|0,this._d=this._d+i|0};gn.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var f=Md.allocUnsafe(16);return f.writeInt32LE(this._a,0),f.writeInt32LE(this._b,4),f.writeInt32LE(this._c,8),f.writeInt32LE(this._d,12),f};function bn(f,s){return f<<s|f>>>32-s}function De(f,s,h,o,p,i,M){return bn(f+(s&h|~s&o)+p+i|0,M)+s|0}function Le(f,s,h,o,p,i,M){return bn(f+(s&o|h&~o)+p+i|0,M)+s|0}function ke(f,s,h,o,p,i,M){return bn(f+(s^h^o)+p+i|0,M)+s|0}function Ue(f,s,h,o,p,i,M){return bn(f+(h^(s|~o))+p+i|0,M)+s|0}var za=gn,zn=Vt.Buffer,xd=se.exports,Q0=J0,Ed=new Array(16),li=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],di=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],pi=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],vi=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],mi=[0,1518500249,1859775393,2400959708,2840853838],gi=[1352829926,1548603684,1836072691,2053994217,0];function yn(){Q0.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}xd(yn,Q0);yn.prototype._update=function(){for(var f=Ed,s=0;s<16;++s)f[s]=this._block.readInt32LE(s*4);for(var h=this._a|0,o=this._b|0,p=this._c|0,i=this._d|0,M=this._e|0,w=this._a|0,y=this._b|0,g=this._c|0,m=this._d|0,_=this._e|0,x=0;x<80;x+=1){var E,S;x<16?(E=ef(h,o,p,i,M,f[li[x]],mi[0],pi[x]),S=af(w,y,g,m,_,f[di[x]],gi[0],vi[x])):x<32?(E=rf(h,o,p,i,M,f[li[x]],mi[1],pi[x]),S=sf(w,y,g,m,_,f[di[x]],gi[1],vi[x])):x<48?(E=nf(h,o,p,i,M,f[li[x]],mi[2],pi[x]),S=nf(w,y,g,m,_,f[di[x]],gi[2],vi[x])):x<64?(E=sf(h,o,p,i,M,f[li[x]],mi[3],pi[x]),S=rf(w,y,g,m,_,f[di[x]],gi[3],vi[x])):(E=af(h,o,p,i,M,f[li[x]],mi[4],pi[x]),S=ef(w,y,g,m,_,f[di[x]],gi[4],vi[x])),h=M,M=i,i=zr(p,10),p=o,o=E,w=_,_=m,m=zr(g,10),g=y,y=S}var R=this._b+p+m|0;this._b=this._c+i+_|0,this._c=this._d+M+w|0,this._d=this._e+h+y|0,this._e=this._a+o+g|0,this._a=R};yn.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var f=zn.alloc?zn.alloc(20):new zn(20);return f.writeInt32LE(this._a,0),f.writeInt32LE(this._b,4),f.writeInt32LE(this._c,8),f.writeInt32LE(this._d,12),f.writeInt32LE(this._e,16),f};function zr(f,s){return f<<s|f>>>32-s}function ef(f,s,h,o,p,i,M,w){return zr(f+(s^h^o)+i+M|0,w)+p|0}function rf(f,s,h,o,p,i,M,w){return zr(f+(s&h|~s&o)+i+M|0,w)+p|0}function nf(f,s,h,o,p,i,M,w){return zr(f+((s|~h)^o)+i+M|0,w)+p|0}function sf(f,s,h,o,p,i,M,w){return zr(f+(s&o|h&~o)+i+M|0,w)+p|0}function af(f,s,h,o,p,i,M,w){return zr(f+(s^(h|~o))+i+M|0,w)+p|0}var $a=yn,Sd=fr,Ka=Qe.exports.EventEmitter,Ad=se.exports;Ad(fr,Ka);fr.Readable=tl();fr.Writable=el();fr.Duplex=rl();fr.Transform=il();fr.PassThrough=nl();fr.finished=sl();fr.pipeline=al();fr.Stream=fr;function fr(){Ka.call(this)}fr.prototype.pipe=function(f,s){var h=this;function o(m){f.writable&&f.write(m)===!1&&h.pause&&h.pause()}h.on("data",o);function p(){h.readable&&h.resume&&h.resume()}f.on("drain",p),!f._isStdio&&(!s||s.end!==!1)&&(h.on("end",M),h.on("close",w));var i=!1;function M(){i||(i=!0,f.end())}function w(){i||(i=!0,typeof f.destroy=="function"&&f.destroy())}function y(m){if(g(),Ka.listenerCount(this,"error")===0)throw m}h.on("error",y),f.on("error",y);function g(){h.removeListener("data",o),f.removeListener("drain",p),h.removeListener("end",M),h.removeListener("close",w),h.removeListener("error",y),f.removeListener("error",y),h.removeListener("end",g),h.removeListener("close",g),f.removeListener("close",g)}return h.on("end",g),h.on("close",g),f.on("close",g),f.emit("pipe",h),f};var tu=re.exports.Buffer,eu=Sd.Transform,Id=ol.StringDecoder,Rd=se.exports;function pr(f){eu.call(this),this.hashMode=typeof f=="string",this.hashMode?this[f]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}Rd(pr,eu);pr.prototype.update=function(f,s,h){typeof f=="string"&&(f=tu.from(f,s));var o=this._update(f);return this.hashMode?this:(h&&(o=this._toString(o,h)),o)};pr.prototype.setAutoPadding=function(){};pr.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};pr.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};pr.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};pr.prototype._transform=function(f,s,h){var o;try{this.hashMode?this._update(f):this.push(this._update(f))}catch(p){o=p}finally{h(o)}};pr.prototype._flush=function(f){var s;try{this.push(this.__final())}catch(h){s=h}f(s)};pr.prototype._finalOrDigest=function(f){var s=this.__final()||tu.alloc(0);return f&&(s=this._toString(s,f,!0)),s};pr.prototype._toString=function(f,s,h){if(this._decoder||(this._decoder=new Id(s),this._encoding=s),this._encoding!==s)throw new Error("can't switch encodings");var o=this._decoder.write(f);return h&&(o+=this._decoder.end()),o};var Pr=pr,Bd=se.exports,Pd=za,Td=$a,Nd=La.exports,ru=Pr;function wn(f){ru.call(this,"digest"),this._hash=f}Bd(wn,ru);wn.prototype._update=function(f){this._hash.update(f)};wn.prototype._final=function(){return this._hash.digest()};var Ti=function(s){return s=s.toLowerCase(),s==="md5"?new Pd:s==="rmd160"||s==="ripemd160"?new Td:new wn(Nd(s))},$n,of;function Od(){if(of)return $n;of=1;var f=se.exports,s=re.exports.Buffer,h=Pr,o=s.alloc(128),p=64;function i(M,w){h.call(this,"digest"),typeof w=="string"&&(w=s.from(w)),this._alg=M,this._key=w,w.length>p?w=M(w):w.length<p&&(w=s.concat([w,o],p));for(var y=this._ipad=s.allocUnsafe(p),g=this._opad=s.allocUnsafe(p),m=0;m<p;m++)y[m]=w[m]^54,g[m]=w[m]^92;this._hash=[y]}return f(i,h),i.prototype._update=function(M){this._hash.push(M)},i.prototype._final=function(){var M=this._alg(s.concat(this._hash));return this._alg(s.concat([this._opad,M]))},$n=i,$n}var Kn,ff;function iu(){if(ff)return Kn;ff=1;var f=za;return Kn=function(s){return new f().update(s).digest()},Kn}var Hn,hf;function nu(){if(hf)return Hn;hf=1;var f=se.exports,s=Od(),h=Pr,o=re.exports.Buffer,p=iu(),i=$a,M=La.exports,w=o.alloc(128);function y(g,m){h.call(this,"digest"),typeof m=="string"&&(m=o.from(m));var _=g==="sha512"||g==="sha384"?128:64;if(this._alg=g,this._key=m,m.length>_){var x=g==="rmd160"?new i:M(g);m=x.update(m).digest()}else m.length<_&&(m=o.concat([m,w],_));for(var E=this._ipad=o.allocUnsafe(_),S=this._opad=o.allocUnsafe(_),R=0;R<_;R++)E[R]=m[R]^54,S[R]=m[R]^92;this._hash=g==="rmd160"?new i:M(g),this._hash.update(E)}return f(y,h),y.prototype._update=function(g){this._hash.update(g)},y.prototype._final=function(){var g=this._hash.digest(),m=this._alg==="rmd160"?new i:M(this._alg);return m.update(this._opad).update(g).digest()},Hn=function(m,_){return m=m.toLowerCase(),m==="rmd160"||m==="ripemd160"?new y("rmd160",_):m==="md5"?new s(p,_):new y(m,_)},Hn}var jn={exports:{}};const qd={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},Cd={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},Dd={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},Ld={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},kd={sign:"ecdsa",hash:"sha256",id:""},Ud={sign:"ecdsa",hash:"sha224",id:""},Fd={sign:"ecdsa",hash:"sha384",id:""},zd={sign:"ecdsa",hash:"sha512",id:""},$d={sign:"dsa",hash:"sha1",id:""},Kd={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},Hd={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},su={sha224WithRSAEncryption:qd,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:Cd,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:Dd,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:Ld,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:kd,sha224:Ud,sha384:Fd,sha512:zd,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:$d,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:Kd,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:Hd,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var uf;function jd(){return uf||(uf=1,function(f){f.exports=su}(jn)),jn.exports}var Gi={},Vn,cf;function au(){if(cf)return Vn;cf=1;var f=Math.pow(2,30)-1;return Vn=function(s,h){if(typeof s!="number")throw new TypeError("Iterations not a number");if(s<0)throw new TypeError("Bad iterations");if(typeof h!="number")throw new TypeError("Key length not a number");if(h<0||h>f||h!==h)throw new TypeError("Bad key length")},Vn}var Gn,lf;function ou(){if(lf)return Gn;lf=1;var f;if(Zt.process&&Zt.process.browser)f="utf-8";else if(Zt.process&&Zt.process.version){var s=parseInt(or.exports.version.split(".")[0].slice(1),10);f=s>=6?"utf-8":"binary"}else f="utf-8";return Gn=f,Gn}var Zn,df;function fu(){if(df)return Zn;df=1;var f=re.exports.Buffer;return Zn=function(s,h,o){if(f.isBuffer(s))return s;if(typeof s=="string")return f.from(s,h);if(ArrayBuffer.isView(s))return f.from(s.buffer);throw new TypeError(o+" must be a string, a Buffer, a typed array or a DataView")},Zn}var Wn,pf;function hu(){if(pf)return Wn;pf=1;var f=iu(),s=$a,h=La.exports,o=re.exports.Buffer,p=au(),i=ou(),M=fu(),w=o.alloc(128),y={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function g(x,E,S){var R=m(x),P=x==="sha512"||x==="sha384"?128:64;E.length>P?E=R(E):E.length<P&&(E=o.concat([E,w],P));for(var O=o.allocUnsafe(P+y[x]),B=o.allocUnsafe(P+y[x]),C=0;C<P;C++)O[C]=E[C]^54,B[C]=E[C]^92;var T=o.allocUnsafe(P+S+4);O.copy(T,0,0,P),this.ipad1=T,this.ipad2=O,this.opad=B,this.alg=x,this.blocksize=P,this.hash=R,this.size=y[x]}g.prototype.run=function(x,E){x.copy(E,this.blocksize);var S=this.hash(E);return S.copy(this.opad,this.blocksize),this.hash(this.opad)};function m(x){function E(R){return h(x).update(R).digest()}function S(R){return new s().update(R).digest()}return x==="rmd160"||x==="ripemd160"?S:x==="md5"?f:E}function _(x,E,S,R,P){p(S,R),x=M(x,i,"Password"),E=M(E,i,"Salt"),P=P||"sha1";var O=new g(P,x,E.length),B=o.allocUnsafe(R),C=o.allocUnsafe(E.length+4);E.copy(C,0,0,E.length);for(var T=0,F=y[P],D=Math.ceil(R/F),I=1;I<=D;I++){C.writeUInt32BE(I,E.length);for(var k=O.run(C,O.ipad1),K=k,Y=1;Y<S;Y++){K=O.run(K,O.ipad2);for(var d=0;d<F;d++)k[d]^=K[d]}k.copy(B,T),T+=F}return B}return Wn=_,Wn}var Yn,vf;function Vd(){if(vf)return Yn;vf=1;var f=re.exports.Buffer,s=au(),h=ou(),o=hu(),p=fu(),i,M=Zt.crypto&&Zt.crypto.subtle,w={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},y=[];function g(S){if(Zt.process&&!Zt.process.browser||!M||!M.importKey||!M.deriveBits)return Promise.resolve(!1);if(y[S]!==void 0)return y[S];i=i||f.alloc(8);var R=x(i,i,10,128,S).then(function(){return!0}).catch(function(){return!1});return y[S]=R,R}var m;function _(){return m||(Zt.process&&Zt.process.nextTick?m=Zt.process.nextTick:Zt.queueMicrotask?m=Zt.queueMicrotask:Zt.setImmediate?m=Zt.setImmediate:m=Zt.setTimeout,m)}function x(S,R,P,O,B){return M.importKey("raw",S,{name:"PBKDF2"},!1,["deriveBits"]).then(function(C){return M.deriveBits({name:"PBKDF2",salt:R,iterations:P,hash:{name:B}},C,O<<3)}).then(function(C){return f.from(C)})}function E(S,R){S.then(function(P){_()(function(){R(null,P)})},function(P){_()(function(){R(P)})})}return Yn=function(S,R,P,O,B,C){typeof B=="function"&&(C=B,B=void 0),B=B||"sha1";var T=w[B.toLowerCase()];if(!T||typeof Zt.Promise!="function"){_()(function(){var F;try{F=o(S,R,P,O,B)}catch(D){return C(D)}C(null,F)});return}if(s(P,O),S=p(S,h,"Password"),R=p(R,h,"Salt"),typeof C!="function")throw new Error("No callback provided to pbkdf2");E(g(T).then(function(F){return F?x(S,R,P,O,T):o(S,R,P,O,B)}),C)},Yn}var mf;function uu(){return mf||(mf=1,Gi.pbkdf2=Vd(),Gi.pbkdf2Sync=hu()),Gi}var ir={},kr={},Je={},gf;function cu(){if(gf)return Je;gf=1,Je.readUInt32BE=function(p,i){var M=p[0+i]<<24|p[1+i]<<16|p[2+i]<<8|p[3+i];return M>>>0},Je.writeUInt32BE=function(p,i,M){p[0+M]=i>>>24,p[1+M]=i>>>16&255,p[2+M]=i>>>8&255,p[3+M]=i&255},Je.ip=function(p,i,M,w){for(var y=0,g=0,m=6;m>=0;m-=2){for(var _=0;_<=24;_+=8)y<<=1,y|=i>>>_+m&1;for(var _=0;_<=24;_+=8)y<<=1,y|=p>>>_+m&1}for(var m=6;m>=0;m-=2){for(var _=1;_<=25;_+=8)g<<=1,g|=i>>>_+m&1;for(var _=1;_<=25;_+=8)g<<=1,g|=p>>>_+m&1}M[w+0]=y>>>0,M[w+1]=g>>>0},Je.rip=function(p,i,M,w){for(var y=0,g=0,m=0;m<4;m++)for(var _=24;_>=0;_-=8)y<<=1,y|=i>>>_+m&1,y<<=1,y|=p>>>_+m&1;for(var m=4;m<8;m++)for(var _=24;_>=0;_-=8)g<<=1,g|=i>>>_+m&1,g<<=1,g|=p>>>_+m&1;M[w+0]=y>>>0,M[w+1]=g>>>0},Je.pc1=function(p,i,M,w){for(var y=0,g=0,m=7;m>=5;m--){for(var _=0;_<=24;_+=8)y<<=1,y|=i>>_+m&1;for(var _=0;_<=24;_+=8)y<<=1,y|=p>>_+m&1}for(var _=0;_<=24;_+=8)y<<=1,y|=i>>_+m&1;for(var m=1;m<=3;m++){for(var _=0;_<=24;_+=8)g<<=1,g|=i>>_+m&1;for(var _=0;_<=24;_+=8)g<<=1,g|=p>>_+m&1}for(var _=0;_<=24;_+=8)g<<=1,g|=p>>_+m&1;M[w+0]=y>>>0,M[w+1]=g>>>0},Je.r28shl=function(p,i){return p<<i&268435455|p>>>28-i};var f=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];Je.pc2=function(p,i,M,w){for(var y=0,g=0,m=f.length>>>1,_=0;_<m;_++)y<<=1,y|=p>>>f[_]&1;for(var _=m;_<f.length;_++)g<<=1,g|=i>>>f[_]&1;M[w+0]=y>>>0,M[w+1]=g>>>0},Je.expand=function(p,i,M){var w=0,y=0;w=(p&1)<<5|p>>>27;for(var g=23;g>=15;g-=4)w<<=6,w|=p>>>g&63;for(var g=11;g>=3;g-=4)y|=p>>>g&63,y<<=6;y|=(p&31)<<1|p>>>31,i[M+0]=w>>>0,i[M+1]=y>>>0};var s=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];Je.substitute=function(p,i){for(var M=0,w=0;w<4;w++){var y=p>>>18-w*6&63,g=s[w*64+y];M<<=4,M|=g}for(var w=0;w<4;w++){var y=i>>>18-w*6&63,g=s[4*64+w*64+y];M<<=4,M|=g}return M>>>0};var h=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return Je.permute=function(p){for(var i=0,M=0;M<h.length;M++)i<<=1,i|=p>>>h[M]&1;return i>>>0},Je.padSplit=function(p,i,M){for(var w=p.toString(2);w.length<i;)w="0"+w;for(var y=[],g=0;g<i;g+=M)y.push(w.slice(g,g+M));return y.join(" ")},Je}var Jn,bf;function Ha(){if(bf)return Jn;bf=1;var f=$r;function s(h){this.options=h,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=h.padding!==!1}return Jn=s,s.prototype._init=function(){},s.prototype.update=function(o){return o.length===0?[]:this.type==="decrypt"?this._updateDecrypt(o):this._updateEncrypt(o)},s.prototype._buffer=function(o,p){for(var i=Math.min(this.buffer.length-this.bufferOff,o.length-p),M=0;M<i;M++)this.buffer[this.bufferOff+M]=o[p+M];return this.bufferOff+=i,i},s.prototype._flushBuffer=function(o,p){return this._update(this.buffer,0,o,p),this.bufferOff=0,this.blockSize},s.prototype._updateEncrypt=function(o){var p=0,i=0,M=(this.bufferOff+o.length)/this.blockSize|0,w=new Array(M*this.blockSize);this.bufferOff!==0&&(p+=this._buffer(o,p),this.bufferOff===this.buffer.length&&(i+=this._flushBuffer(w,i)));for(var y=o.length-(o.length-p)%this.blockSize;p<y;p+=this.blockSize)this._update(o,p,w,i),i+=this.blockSize;for(;p<o.length;p++,this.bufferOff++)this.buffer[this.bufferOff]=o[p];return w},s.prototype._updateDecrypt=function(o){for(var p=0,i=0,M=Math.ceil((this.bufferOff+o.length)/this.blockSize)-1,w=new Array(M*this.blockSize);M>0;M--)p+=this._buffer(o,p),i+=this._flushBuffer(w,i);return p+=this._buffer(o,p),w},s.prototype.final=function(o){var p;o&&(p=this.update(o));var i;return this.type==="encrypt"?i=this._finalEncrypt():i=this._finalDecrypt(),p?p.concat(i):i},s.prototype._pad=function(o,p){if(p===0)return!1;for(;p<o.length;)o[p++]=0;return!0},s.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var o=new Array(this.blockSize);return this._update(this.buffer,0,o,0),o},s.prototype._unpad=function(o){return o},s.prototype._finalDecrypt=function(){f.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var o=new Array(this.blockSize);return this._flushBuffer(o,0),this._unpad(o)},Jn}var Xn,yf;function lu(){if(yf)return Xn;yf=1;var f=$r,s=se.exports,h=cu(),o=Ha();function p(){this.tmp=new Array(2),this.keys=null}function i(w){o.call(this,w);var y=new p;this._desState=y,this.deriveKeys(y,w.key)}s(i,o),Xn=i,i.create=function(y){return new i(y)};var M=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return i.prototype.deriveKeys=function(y,g){y.keys=new Array(16*2),f.equal(g.length,this.blockSize,"Invalid key length");var m=h.readUInt32BE(g,0),_=h.readUInt32BE(g,4);h.pc1(m,_,y.tmp,0),m=y.tmp[0],_=y.tmp[1];for(var x=0;x<y.keys.length;x+=2){var E=M[x>>>1];m=h.r28shl(m,E),_=h.r28shl(_,E),h.pc2(m,_,y.keys,x)}},i.prototype._update=function(y,g,m,_){var x=this._desState,E=h.readUInt32BE(y,g),S=h.readUInt32BE(y,g+4);h.ip(E,S,x.tmp,0),E=x.tmp[0],S=x.tmp[1],this.type==="encrypt"?this._encrypt(x,E,S,x.tmp,0):this._decrypt(x,E,S,x.tmp,0),E=x.tmp[0],S=x.tmp[1],h.writeUInt32BE(m,E,_),h.writeUInt32BE(m,S,_+4)},i.prototype._pad=function(y,g){if(this.padding===!1)return!1;for(var m=y.length-g,_=g;_<y.length;_++)y[_]=m;return!0},i.prototype._unpad=function(y){if(this.padding===!1)return y;for(var g=y[y.length-1],m=y.length-g;m<y.length;m++)f.equal(y[m],g);return y.slice(0,y.length-g)},i.prototype._encrypt=function(y,g,m,_,x){for(var E=g,S=m,R=0;R<y.keys.length;R+=2){var P=y.keys[R],O=y.keys[R+1];h.expand(S,y.tmp,0),P^=y.tmp[0],O^=y.tmp[1];var B=h.substitute(P,O),C=h.permute(B),T=S;S=(E^C)>>>0,E=T}h.rip(S,E,_,x)},i.prototype._decrypt=function(y,g,m,_,x){for(var E=m,S=g,R=y.keys.length-2;R>=0;R-=2){var P=y.keys[R],O=y.keys[R+1];h.expand(E,y.tmp,0),P^=y.tmp[0],O^=y.tmp[1];var B=h.substitute(P,O),C=h.permute(B),T=E;E=(S^C)>>>0,S=T}h.rip(E,S,_,x)},Xn}var Qn={},wf;function Gd(){if(wf)return Qn;wf=1;var f=$r,s=se.exports,h={};function o(i){f.equal(i.length,8,"Invalid IV length"),this.iv=new Array(8);for(var M=0;M<this.iv.length;M++)this.iv[M]=i[M]}function p(i){function M(m){i.call(this,m),this._cbcInit()}s(M,i);for(var w=Object.keys(h),y=0;y<w.length;y++){var g=w[y];M.prototype[g]=h[g]}return M.create=function(_){return new M(_)},M}return Qn.instantiate=p,h._cbcInit=function(){var M=new o(this.options.iv);this._cbcState=M},h._update=function(M,w,y,g){var m=this._cbcState,_=this.constructor.super_.prototype,x=m.iv;if(this.type==="encrypt"){for(var E=0;E<this.blockSize;E++)x[E]^=M[w+E];_._update.call(this,x,0,y,g);for(var E=0;E<this.blockSize;E++)x[E]=y[g+E]}else{_._update.call(this,M,w,y,g);for(var E=0;E<this.blockSize;E++)y[g+E]^=x[E];for(var E=0;E<this.blockSize;E++)x[E]=M[w+E]}},Qn}var ts,Mf;function Zd(){if(Mf)return ts;Mf=1;var f=$r,s=se.exports,h=Ha(),o=lu();function p(M,w){f.equal(w.length,24,"Invalid key length");var y=w.slice(0,8),g=w.slice(8,16),m=w.slice(16,24);M==="encrypt"?this.ciphers=[o.create({type:"encrypt",key:y}),o.create({type:"decrypt",key:g}),o.create({type:"encrypt",key:m})]:this.ciphers=[o.create({type:"decrypt",key:m}),o.create({type:"encrypt",key:g}),o.create({type:"decrypt",key:y})]}function i(M){h.call(this,M);var w=new p(this.type,this.options.key);this._edeState=w}return s(i,h),ts=i,i.create=function(w){return new i(w)},i.prototype._update=function(w,y,g,m){var _=this._edeState;_.ciphers[0]._update(w,y,g,m),_.ciphers[1]._update(g,m,g,m),_.ciphers[2]._update(g,m,g,m)},i.prototype._pad=o.prototype._pad,i.prototype._unpad=o.prototype._unpad,ts}var _f;function Wd(){return _f||(_f=1,kr.utils=cu(),kr.Cipher=Ha(),kr.DES=lu(),kr.CBC=Gd(),kr.EDE=Zd()),kr}var es,xf;function Yd(){if(xf)return es;xf=1;var f=Pr,s=Wd(),h=se.exports,o=re.exports.Buffer,p={"des-ede3-cbc":s.CBC.instantiate(s.EDE),"des-ede3":s.EDE,"des-ede-cbc":s.CBC.instantiate(s.EDE),"des-ede":s.EDE,"des-cbc":s.CBC.instantiate(s.DES),"des-ecb":s.DES};p.des=p["des-cbc"],p.des3=p["des-ede3-cbc"],es=i,h(i,f);function i(M){f.call(this);var w=M.mode.toLowerCase(),y=p[w],g;M.decrypt?g="decrypt":g="encrypt";var m=M.key;o.isBuffer(m)||(m=o.from(m)),(w==="des-ede"||w==="des-ede-cbc")&&(m=o.concat([m,m.slice(0,8)]));var _=M.iv;o.isBuffer(_)||(_=o.from(_)),this._des=y.create({key:m,iv:_,type:g})}return i.prototype._update=function(M){return o.from(this._des.update(M))},i.prototype._final=function(){return o.from(this._des.final())},es}var nr={},Zi={},Wi={},Ef;function Jd(){return Ef||(Ef=1,Wi.encrypt=function(f,s){return f._cipher.encryptBlock(s)},Wi.decrypt=function(f,s){return f._cipher.decryptBlock(s)}),Wi}var Yi={},rs,Sf;function Ni(){return Sf||(Sf=1,rs=function(s,h){for(var o=Math.min(s.length,h.length),p=new Vt.Buffer(o),i=0;i<o;++i)p[i]=s[i]^h[i];return p}),rs}var Af;function Xd(){if(Af)return Yi;Af=1;var f=Ni();return Yi.encrypt=function(s,h){var o=f(h,s._prev);return s._prev=s._cipher.encryptBlock(o),s._prev},Yi.decrypt=function(s,h){var o=s._prev;s._prev=h;var p=s._cipher.decryptBlock(h);return f(p,o)},Yi}var is={},If;function Qd(){if(If)return is;If=1;var f=re.exports.Buffer,s=Ni();function h(o,p,i){var M=p.length,w=s(p,o._cache);return o._cache=o._cache.slice(M),o._prev=f.concat([o._prev,i?p:w]),w}return is.encrypt=function(o,p,i){for(var M=f.allocUnsafe(0),w;p.length;)if(o._cache.length===0&&(o._cache=o._cipher.encryptBlock(o._prev),o._prev=f.allocUnsafe(0)),o._cache.length<=p.length)w=o._cache.length,M=f.concat([M,h(o,p.slice(0,w),i)]),p=p.slice(w);else{M=f.concat([M,h(o,p,i)]);break}return M},is}var ns={},Rf;function t1(){if(Rf)return ns;Rf=1;var f=re.exports.Buffer;function s(h,o,p){var i=h._cipher.encryptBlock(h._prev),M=i[0]^o;return h._prev=f.concat([h._prev.slice(1),f.from([p?o:M])]),M}return ns.encrypt=function(h,o,p){for(var i=o.length,M=f.allocUnsafe(i),w=-1;++w<i;)M[w]=s(h,o[w],p);return M},ns}var ss={},Bf;function e1(){if(Bf)return ss;Bf=1;var f=re.exports.Buffer;function s(o,p,i){for(var M,w=-1,y=8,g=0,m,_;++w<y;)M=o._cipher.encryptBlock(o._prev),m=p&1<<7-w?128:0,_=M[0]^m,g+=(_&128)>>w%8,o._prev=h(o._prev,i?m:_);return g}function h(o,p){var i=o.length,M=-1,w=f.allocUnsafe(o.length);for(o=f.concat([o,f.from([p])]);++M<i;)w[M]=o[M]<<1|o[M+1]>>7;return w}return ss.encrypt=function(o,p,i){for(var M=p.length,w=f.allocUnsafe(M),y=-1;++y<M;)w[y]=s(o,p[y],i);return w},ss}var as={},Pf;function r1(){if(Pf)return as;Pf=1;var f=Ni();function s(h){return h._prev=h._cipher.encryptBlock(h._prev),h._prev}return as.encrypt=function(h,o){for(;h._cache.length<o.length;)h._cache=Vt.Buffer.concat([h._cache,s(h)]);var p=h._cache.slice(0,o.length);return h._cache=h._cache.slice(o.length),f(o,p)},as}var os={},fs,Tf;function du(){if(Tf)return fs;Tf=1;function f(s){for(var h=s.length,o;h--;)if(o=s.readUInt8(h),o===255)s.writeUInt8(0,h);else{o++,s.writeUInt8(o,h);break}}return fs=f,fs}var Nf;function Of(){if(Nf)return os;Nf=1;var f=Ni(),s=re.exports.Buffer,h=du();function o(i){var M=i._cipher.encryptBlockRaw(i._prev);return h(i._prev),M}var p=16;return os.encrypt=function(i,M){var w=Math.ceil(M.length/p),y=i._cache.length;i._cache=s.concat([i._cache,s.allocUnsafe(w*p)]);for(var g=0;g<w;g++){var m=o(i),_=y+g*p;i._cache.writeUInt32BE(m[0],_+0),i._cache.writeUInt32BE(m[1],_+4),i._cache.writeUInt32BE(m[2],_+8),i._cache.writeUInt32BE(m[3],_+12)}var x=i._cache.slice(0,M.length);return i._cache=i._cache.slice(M.length),f(M,x)},os}const i1={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},n1={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},s1={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},pu={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:i1,aes192:n1,aes256:s1,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var hs,qf;function ja(){if(qf)return hs;qf=1;var f={ECB:Jd(),CBC:Xd(),CFB:Qd(),CFB8:t1(),CFB1:e1(),OFB:r1(),CTR:Of(),GCM:Of()},s=pu;for(var h in s)s[h].module=f[s[h].mode];return hs=s,hs}var us={},Cf;function Mn(){if(Cf)return us;Cf=1;var f=re.exports.Buffer;function s(w){f.isBuffer(w)||(w=f.from(w));for(var y=w.length/4|0,g=new Array(y),m=0;m<y;m++)g[m]=w.readUInt32BE(m*4);return g}function h(w){for(var y=0;y<w.length;w++)w[y]=0}function o(w,y,g,m,_){for(var x=g[0],E=g[1],S=g[2],R=g[3],P=w[0]^y[0],O=w[1]^y[1],B=w[2]^y[2],C=w[3]^y[3],T,F,D,I,k=4,K=1;K<_;K++)T=x[P>>>24]^E[O>>>16&255]^S[B>>>8&255]^R[C&255]^y[k++],F=x[O>>>24]^E[B>>>16&255]^S[C>>>8&255]^R[P&255]^y[k++],D=x[B>>>24]^E[C>>>16&255]^S[P>>>8&255]^R[O&255]^y[k++],I=x[C>>>24]^E[P>>>16&255]^S[O>>>8&255]^R[B&255]^y[k++],P=T,O=F,B=D,C=I;return T=(m[P>>>24]<<24|m[O>>>16&255]<<16|m[B>>>8&255]<<8|m[C&255])^y[k++],F=(m[O>>>24]<<24|m[B>>>16&255]<<16|m[C>>>8&255]<<8|m[P&255])^y[k++],D=(m[B>>>24]<<24|m[C>>>16&255]<<16|m[P>>>8&255]<<8|m[O&255])^y[k++],I=(m[C>>>24]<<24|m[P>>>16&255]<<16|m[O>>>8&255]<<8|m[B&255])^y[k++],T=T>>>0,F=F>>>0,D=D>>>0,I=I>>>0,[T,F,D,I]}var p=[0,1,2,4,8,16,32,64,128,27,54],i=function(){for(var w=new Array(256),y=0;y<256;y++)y<128?w[y]=y<<1:w[y]=y<<1^283;for(var g=[],m=[],_=[[],[],[],[]],x=[[],[],[],[]],E=0,S=0,R=0;R<256;++R){var P=S^S<<1^S<<2^S<<3^S<<4;P=P>>>8^P&255^99,g[E]=P,m[P]=E;var O=w[E],B=w[O],C=w[B],T=w[P]*257^P*16843008;_[0][E]=T<<24|T>>>8,_[1][E]=T<<16|T>>>16,_[2][E]=T<<8|T>>>24,_[3][E]=T,T=C*16843009^B*65537^O*257^E*16843008,x[0][P]=T<<24|T>>>8,x[1][P]=T<<16|T>>>16,x[2][P]=T<<8|T>>>24,x[3][P]=T,E===0?E=S=1:(E=O^w[w[w[C^O]]],S^=w[w[S]])}return{SBOX:g,INV_SBOX:m,SUB_MIX:_,INV_SUB_MIX:x}}();function M(w){this._key=s(w),this._reset()}return M.blockSize=4*4,M.keySize=256/8,M.prototype.blockSize=M.blockSize,M.prototype.keySize=M.keySize,M.prototype._reset=function(){for(var w=this._key,y=w.length,g=y+6,m=(g+1)*4,_=[],x=0;x<y;x++)_[x]=w[x];for(x=y;x<m;x++){var E=_[x-1];x%y===0?(E=E<<8|E>>>24,E=i.SBOX[E>>>24]<<24|i.SBOX[E>>>16&255]<<16|i.SBOX[E>>>8&255]<<8|i.SBOX[E&255],E^=p[x/y|0]<<24):y>6&&x%y===4&&(E=i.SBOX[E>>>24]<<24|i.SBOX[E>>>16&255]<<16|i.SBOX[E>>>8&255]<<8|i.SBOX[E&255]),_[x]=_[x-y]^E}for(var S=[],R=0;R<m;R++){var P=m-R,O=_[P-(R%4?0:4)];R<4||P<=4?S[R]=O:S[R]=i.INV_SUB_MIX[0][i.SBOX[O>>>24]]^i.INV_SUB_MIX[1][i.SBOX[O>>>16&255]]^i.INV_SUB_MIX[2][i.SBOX[O>>>8&255]]^i.INV_SUB_MIX[3][i.SBOX[O&255]]}this._nRounds=g,this._keySchedule=_,this._invKeySchedule=S},M.prototype.encryptBlockRaw=function(w){return w=s(w),o(w,this._keySchedule,i.SUB_MIX,i.SBOX,this._nRounds)},M.prototype.encryptBlock=function(w){var y=this.encryptBlockRaw(w),g=f.allocUnsafe(16);return g.writeUInt32BE(y[0],0),g.writeUInt32BE(y[1],4),g.writeUInt32BE(y[2],8),g.writeUInt32BE(y[3],12),g},M.prototype.decryptBlock=function(w){w=s(w);var y=w[1];w[1]=w[3],w[3]=y;var g=o(w,this._invKeySchedule,i.INV_SUB_MIX,i.INV_SBOX,this._nRounds),m=f.allocUnsafe(16);return m.writeUInt32BE(g[0],0),m.writeUInt32BE(g[3],4),m.writeUInt32BE(g[2],8),m.writeUInt32BE(g[1],12),m},M.prototype.scrub=function(){h(this._keySchedule),h(this._invKeySchedule),h(this._key)},us.AES=M,us}var cs,Df;function a1(){if(Df)return cs;Df=1;var f=re.exports.Buffer,s=f.alloc(16,0);function h(i){return[i.readUInt32BE(0),i.readUInt32BE(4),i.readUInt32BE(8),i.readUInt32BE(12)]}function o(i){var M=f.allocUnsafe(16);return M.writeUInt32BE(i[0]>>>0,0),M.writeUInt32BE(i[1]>>>0,4),M.writeUInt32BE(i[2]>>>0,8),M.writeUInt32BE(i[3]>>>0,12),M}function p(i){this.h=i,this.state=f.alloc(16,0),this.cache=f.allocUnsafe(0)}return p.prototype.ghash=function(i){for(var M=-1;++M<i.length;)this.state[M]^=i[M];this._multiply()},p.prototype._multiply=function(){for(var i=h(this.h),M=[0,0,0,0],w,y,g,m=-1;++m<128;){for(y=(this.state[~~(m/8)]&1<<7-m%8)!==0,y&&(M[0]^=i[0],M[1]^=i[1],M[2]^=i[2],M[3]^=i[3]),g=(i[3]&1)!==0,w=3;w>0;w--)i[w]=i[w]>>>1|(i[w-1]&1)<<31;i[0]=i[0]>>>1,g&&(i[0]=i[0]^225<<24)}this.state=o(M)},p.prototype.update=function(i){this.cache=f.concat([this.cache,i]);for(var M;this.cache.length>=16;)M=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(M)},p.prototype.final=function(i,M){return this.cache.length&&this.ghash(f.concat([this.cache,s],16)),this.ghash(o([0,i,0,M])),this.state},cs=p,cs}var ls,Lf;function vu(){if(Lf)return ls;Lf=1;var f=Mn(),s=re.exports.Buffer,h=Pr,o=se.exports,p=a1(),i=Ni(),M=du();function w(m,_){var x=0;m.length!==_.length&&x++;for(var E=Math.min(m.length,_.length),S=0;S<E;++S)x+=m[S]^_[S];return x}function y(m,_,x){if(_.length===12)return m._finID=s.concat([_,s.from([0,0,0,1])]),s.concat([_,s.from([0,0,0,2])]);var E=new p(x),S=_.length,R=S%16;E.update(_),R&&(R=16-R,E.update(s.alloc(R,0))),E.update(s.alloc(8,0));var P=S*8,O=s.alloc(8);O.writeUIntBE(P,0,8),E.update(O),m._finID=E.state;var B=s.from(m._finID);return M(B),B}function g(m,_,x,E){h.call(this);var S=s.alloc(4,0);this._cipher=new f.AES(_);var R=this._cipher.encryptBlock(S);this._ghash=new p(R),x=y(this,x,R),this._prev=s.from(x),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=E,this._alen=0,this._len=0,this._mode=m,this._authTag=null,this._called=!1}return o(g,h),g.prototype._update=function(m){if(!this._called&&this._alen){var _=16-this._alen%16;_<16&&(_=s.alloc(_,0),this._ghash.update(_))}this._called=!0;var x=this._mode.encrypt(this,m);return this._decrypt?this._ghash.update(m):this._ghash.update(x),this._len+=m.length,x},g.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var m=i(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&w(m,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=m,this._cipher.scrub()},g.prototype.getAuthTag=function(){if(this._decrypt||!s.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},g.prototype.setAuthTag=function(_){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=_},g.prototype.setAAD=function(_){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(_),this._alen+=_.length},ls=g,ls}var ds,kf;function mu(){if(kf)return ds;kf=1;var f=Mn(),s=re.exports.Buffer,h=Pr,o=se.exports;function p(i,M,w,y){h.call(this),this._cipher=new f.AES(M),this._prev=s.from(w),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=y,this._mode=i}return o(p,h),p.prototype._update=function(i){return this._mode.encrypt(this,i,this._decrypt)},p.prototype._final=function(){this._cipher.scrub()},ds=p,ds}var ps,Uf;function _n(){if(Uf)return ps;Uf=1;var f=re.exports.Buffer,s=za;function h(o,p,i,M){if(f.isBuffer(o)||(o=f.from(o,"binary")),p&&(f.isBuffer(p)||(p=f.from(p,"binary")),p.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var w=i/8,y=f.alloc(w),g=f.alloc(M||0),m=f.alloc(0);w>0||M>0;){var _=new s;_.update(m),_.update(o),p&&_.update(p),m=_.digest();var x=0;if(w>0){var E=y.length-w;x=Math.min(w,m.length),m.copy(y,E,0,x),w-=x}if(x<m.length&&M>0){var S=g.length-M,R=Math.min(M,m.length-x);m.copy(g,S,x,x+R),M-=R}}return m.fill(0),{key:y,iv:g}}return ps=h,ps}var Ff;function o1(){if(Ff)return Zi;Ff=1;var f=ja(),s=vu(),h=re.exports.Buffer,o=mu(),p=Pr,i=Mn(),M=_n(),w=se.exports;function y(E,S,R){p.call(this),this._cache=new m,this._cipher=new i.AES(S),this._prev=h.from(R),this._mode=E,this._autopadding=!0}w(y,p),y.prototype._update=function(E){this._cache.add(E);for(var S,R,P=[];S=this._cache.get();)R=this._mode.encrypt(this,S),P.push(R);return h.concat(P)};var g=h.alloc(16,16);y.prototype._final=function(){var E=this._cache.flush();if(this._autopadding)return E=this._mode.encrypt(this,E),this._cipher.scrub(),E;if(!E.equals(g))throw this._cipher.scrub(),new Error("data not multiple of block length")},y.prototype.setAutoPadding=function(E){return this._autopadding=!!E,this};function m(){this.cache=h.allocUnsafe(0)}m.prototype.add=function(E){this.cache=h.concat([this.cache,E])},m.prototype.get=function(){if(this.cache.length>15){var E=this.cache.slice(0,16);return this.cache=this.cache.slice(16),E}return null},m.prototype.flush=function(){for(var E=16-this.cache.length,S=h.allocUnsafe(E),R=-1;++R<E;)S.writeUInt8(E,R);return h.concat([this.cache,S])};function _(E,S,R){var P=f[E.toLowerCase()];if(!P)throw new TypeError("invalid suite type");if(typeof S=="string"&&(S=h.from(S)),S.length!==P.key/8)throw new TypeError("invalid key length "+S.length);if(typeof R=="string"&&(R=h.from(R)),P.mode!=="GCM"&&R.length!==P.iv)throw new TypeError("invalid iv length "+R.length);return P.type==="stream"?new o(P.module,S,R):P.type==="auth"?new s(P.module,S,R):new y(P.module,S,R)}function x(E,S){var R=f[E.toLowerCase()];if(!R)throw new TypeError("invalid suite type");var P=M(S,!1,R.key,R.iv);return _(E,P.key,P.iv)}return Zi.createCipheriv=_,Zi.createCipher=x,Zi}var Ji={},zf;function f1(){if(zf)return Ji;zf=1;var f=vu(),s=re.exports.Buffer,h=ja(),o=mu(),p=Pr,i=Mn(),M=_n(),w=se.exports;function y(E,S,R){p.call(this),this._cache=new g,this._last=void 0,this._cipher=new i.AES(S),this._prev=s.from(R),this._mode=E,this._autopadding=!0}w(y,p),y.prototype._update=function(E){this._cache.add(E);for(var S,R,P=[];S=this._cache.get(this._autopadding);)R=this._mode.decrypt(this,S),P.push(R);return s.concat(P)},y.prototype._final=function(){var E=this._cache.flush();if(this._autopadding)return m(this._mode.decrypt(this,E));if(E)throw new Error("data not multiple of block length")},y.prototype.setAutoPadding=function(E){return this._autopadding=!!E,this};function g(){this.cache=s.allocUnsafe(0)}g.prototype.add=function(E){this.cache=s.concat([this.cache,E])},g.prototype.get=function(E){var S;if(E){if(this.cache.length>16)return S=this.cache.slice(0,16),this.cache=this.cache.slice(16),S}else if(this.cache.length>=16)return S=this.cache.slice(0,16),this.cache=this.cache.slice(16),S;return null},g.prototype.flush=function(){if(this.cache.length)return this.cache};function m(E){var S=E[15];if(S<1||S>16)throw new Error("unable to decrypt data");for(var R=-1;++R<S;)if(E[R+(16-S)]!==S)throw new Error("unable to decrypt data");if(S!==16)return E.slice(0,16-S)}function _(E,S,R){var P=h[E.toLowerCase()];if(!P)throw new TypeError("invalid suite type");if(typeof R=="string"&&(R=s.from(R)),P.mode!=="GCM"&&R.length!==P.iv)throw new TypeError("invalid iv length "+R.length);if(typeof S=="string"&&(S=s.from(S)),S.length!==P.key/8)throw new TypeError("invalid key length "+S.length);return P.type==="stream"?new o(P.module,S,R,!0):P.type==="auth"?new f(P.module,S,R,!0):new y(P.module,S,R)}function x(E,S){var R=h[E.toLowerCase()];if(!R)throw new TypeError("invalid suite type");var P=M(S,!1,R.key,R.iv);return _(E,P.key,P.iv)}return Ji.createDecipher=x,Ji.createDecipheriv=_,Ji}var $f;function Va(){if($f)return nr;$f=1;var f=o1(),s=f1(),h=pu;function o(){return Object.keys(h)}return nr.createCipher=nr.Cipher=f.createCipher,nr.createCipheriv=nr.Cipheriv=f.createCipheriv,nr.createDecipher=nr.Decipher=s.createDecipher,nr.createDecipheriv=nr.Decipheriv=s.createDecipheriv,nr.listCiphers=nr.getCiphers=o,nr}var vs={},Kf;function h1(){return Kf||(Kf=1,function(f){f["des-ecb"]={key:8,iv:0},f["des-cbc"]=f.des={key:8,iv:8},f["des-ede3-cbc"]=f.des3={key:24,iv:8},f["des-ede3"]={key:24,iv:0},f["des-ede-cbc"]={key:16,iv:8},f["des-ede"]={key:16,iv:0}}(vs)),vs}var Hf;function u1(){if(Hf)return ir;Hf=1;var f=Yd(),s=Va(),h=ja(),o=h1(),p=_n();function i(m,_){m=m.toLowerCase();var x,E;if(h[m])x=h[m].key,E=h[m].iv;else if(o[m])x=o[m].key*8,E=o[m].iv;else throw new TypeError("invalid suite type");var S=p(_,!1,x,E);return w(m,S.key,S.iv)}function M(m,_){m=m.toLowerCase();var x,E;if(h[m])x=h[m].key,E=h[m].iv;else if(o[m])x=o[m].key*8,E=o[m].iv;else throw new TypeError("invalid suite type");var S=p(_,!1,x,E);return y(m,S.key,S.iv)}function w(m,_,x){if(m=m.toLowerCase(),h[m])return s.createCipheriv(m,_,x);if(o[m])return new f({key:_,iv:x,mode:m});throw new TypeError("invalid suite type")}function y(m,_,x){if(m=m.toLowerCase(),h[m])return s.createDecipheriv(m,_,x);if(o[m])return new f({key:_,iv:x,mode:m,decrypt:!0});throw new TypeError("invalid suite type")}function g(){return Object.keys(o).concat(s.getCiphers())}return ir.createCipher=ir.Cipher=i,ir.createCipheriv=ir.Cipheriv=w,ir.createDecipher=ir.Decipher=M,ir.createDecipheriv=ir.Decipheriv=y,ir.listCiphers=ir.getCiphers=g,ir}var Ur={},ms={exports:{}},jf;function gu(){return jf||(jf=1,function(f){(function(s,h){function o(d,t){if(!d)throw new Error(t||"Assertion failed")}function p(d,t){d.super_=t;var r=function(){};r.prototype=t.prototype,d.prototype=new r,d.prototype.constructor=d}function i(d,t,r){if(i.isBN(d))return d;this.negative=0,this.words=null,this.length=0,this.red=null,d!==null&&((t==="le"||t==="be")&&(r=t,t=10),this._init(d||0,t||10,r||"be"))}typeof s=="object"?s.exports=i:h.BN=i,i.BN=i,i.wordSize=26;var M;try{typeof window<"u"&&typeof window.Buffer<"u"?M=window.Buffer:M=Vt.Buffer}catch{}i.isBN=function(t){return t instanceof i?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,r){return t.cmp(r)>0?t:r},i.min=function(t,r){return t.cmp(r)<0?t:r},i.prototype._init=function(t,r,n){if(typeof t=="number")return this._initNumber(t,r,n);if(typeof t=="object")return this._initArray(t,r,n);r==="hex"&&(r=16),o(r===(r|0)&&r>=2&&r<=36),t=t.toString().replace(/\s+/g,"");var a=0;t[0]==="-"&&(a++,this.negative=1),a<t.length&&(r===16?this._parseHex(t,a,n):(this._parseBase(t,r,a),n==="le"&&this._initArray(this.toArray(),r,n)))},i.prototype._initNumber=function(t,r,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(o(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),n==="le"&&this._initArray(this.toArray(),r,n)},i.prototype._initArray=function(t,r,n){if(o(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var l,v,b=0;if(n==="be")for(a=t.length-1,l=0;a>=0;a-=3)v=t[a]|t[a-1]<<8|t[a-2]<<16,this.words[l]|=v<<b&67108863,this.words[l+1]=v>>>26-b&67108863,b+=24,b>=26&&(b-=26,l++);else if(n==="le")for(a=0,l=0;a<t.length;a+=3)v=t[a]|t[a+1]<<8|t[a+2]<<16,this.words[l]|=v<<b&67108863,this.words[l+1]=v>>>26-b&67108863,b+=24,b>=26&&(b-=26,l++);return this.strip()};function w(d,t){var r=d.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function y(d,t,r){var n=w(d,r);return r-1>=t&&(n|=w(d,r-1)<<4),n}i.prototype._parseHex=function(t,r,n){this.length=Math.ceil((t.length-r)/6),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var l=0,v=0,b;if(n==="be")for(a=t.length-1;a>=r;a-=2)b=y(t,r,a)<<l,this.words[v]|=b&67108863,l>=18?(l-=18,v+=1,this.words[v]|=b>>>26):l+=8;else{var u=t.length-r;for(a=u%2===0?r+1:r;a<t.length;a+=2)b=y(t,r,a)<<l,this.words[v]|=b&67108863,l>=18?(l-=18,v+=1,this.words[v]|=b>>>26):l+=8}this.strip()};function g(d,t,r,n){for(var a=0,l=Math.min(d.length,r),v=t;v<l;v++){var b=d.charCodeAt(v)-48;a*=n,b>=49?a+=b-49+10:b>=17?a+=b-17+10:a+=b}return a}i.prototype._parseBase=function(t,r,n){this.words=[0],this.length=1;for(var a=0,l=1;l<=67108863;l*=r)a++;a--,l=l/r|0;for(var v=t.length-n,b=v%a,u=Math.min(v,v-b)+n,e=0,c=n;c<u;c+=a)e=g(t,c,c+a,r),this.imuln(l),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e);if(b!==0){var q=1;for(e=g(t,c,t.length,r),c=0;c<b;c++)q*=r;this.imuln(q),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e)}this.strip()},i.prototype.copy=function(t){t.words=new Array(this.length);for(var r=0;r<this.length;r++)t.words[r]=this.words[r];t.length=this.length,t.negative=this.negative,t.red=this.red},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(t,r){t=t||10,r=r|0||1;var n;if(t===16||t==="hex"){n="";for(var a=0,l=0,v=0;v<this.length;v++){var b=this.words[v],u=((b<<a|l)&16777215).toString(16);l=b>>>24-a&16777215,l!==0||v!==this.length-1?n=m[6-u.length]+u+n:n=u+n,a+=2,a>=26&&(a-=26,v--)}for(l!==0&&(n=l.toString(16)+n);n.length%r!==0;)n="0"+n;return this.negative!==0&&(n="-"+n),n}if(t===(t|0)&&t>=2&&t<=36){var e=_[t],c=x[t];n="";var q=this.clone();for(q.negative=0;!q.isZero();){var N=q.modn(c).toString(t);q=q.idivn(c),q.isZero()?n=N+n:n=m[e-N.length]+N+n}for(this.isZero()&&(n="0"+n);n.length%r!==0;)n="0"+n;return this.negative!==0&&(n="-"+n),n}o(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(t,r){return o(typeof M<"u"),this.toArrayLike(M,t,r)},i.prototype.toArray=function(t,r){return this.toArrayLike(Array,t,r)},i.prototype.toArrayLike=function(t,r,n){var a=this.byteLength(),l=n||Math.max(1,a);o(a<=l,"byte array longer than desired length"),o(l>0,"Requested array length <= 0"),this.strip();var v=r==="le",b=new t(l),u,e,c=this.clone();if(v){for(e=0;!c.isZero();e++)u=c.andln(255),c.iushrn(8),b[e]=u;for(;e<l;e++)b[e]=0}else{for(e=0;e<l-a;e++)b[e]=0;for(e=0;!c.isZero();e++)u=c.andln(255),c.iushrn(8),b[l-e-1]=u}return b},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var r=t,n=0;return r>=4096&&(n+=13,r>>>=13),r>=64&&(n+=7,r>>>=7),r>=8&&(n+=4,r>>>=4),r>=2&&(n+=2,r>>>=2),n+r},i.prototype._zeroBits=function(t){if(t===0)return 26;var r=t,n=0;return(r&8191)===0&&(n+=13,r>>>=13),(r&127)===0&&(n+=7,r>>>=7),(r&15)===0&&(n+=4,r>>>=4),(r&3)===0&&(n+=2,r>>>=2),(r&1)===0&&n++,n},i.prototype.bitLength=function(){var t=this.words[this.length-1],r=this._countBits(t);return(this.length-1)*26+r};function E(d){for(var t=new Array(d.bitLength()),r=0;r<t.length;r++){var n=r/26|0,a=r%26;t[r]=(d.words[n]&1<<a)>>>a}return t}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,r=0;r<this.length;r++){var n=this._zeroBits(this.words[r]);if(t+=n,n!==26)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]|t.words[r];return this.strip()},i.prototype.ior=function(t){return o((this.negative|t.negative)===0),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var r;this.length>t.length?r=t:r=this;for(var n=0;n<r.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=r.length,this.strip()},i.prototype.iand=function(t){return o((this.negative|t.negative)===0),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var r,n;this.length>t.length?(r=this,n=t):(r=t,n=this);for(var a=0;a<n.length;a++)this.words[a]=r.words[a]^n.words[a];if(this!==r)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=r.length,this.strip()},i.prototype.ixor=function(t){return o((this.negative|t.negative)===0),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){o(typeof t=="number"&&t>=0);var r=Math.ceil(t/26)|0,n=t%26;this._expand(r),n>0&&r--;for(var a=0;a<r;a++)this.words[a]=~this.words[a]&67108863;return n>0&&(this.words[a]=~this.words[a]&67108863>>26-n),this.strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,r){o(typeof t=="number"&&t>=0);var n=t/26|0,a=t%26;return this._expand(n+1),r?this.words[n]=this.words[n]|1<<a:this.words[n]=this.words[n]&~(1<<a),this.strip()},i.prototype.iadd=function(t){var r;if(this.negative!==0&&t.negative===0)return this.negative=0,r=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,r=this.isub(t),t.negative=1,r._normSign();var n,a;this.length>t.length?(n=this,a=t):(n=t,a=this);for(var l=0,v=0;v<a.length;v++)r=(n.words[v]|0)+(a.words[v]|0)+l,this.words[v]=r&67108863,l=r>>>26;for(;l!==0&&v<n.length;v++)r=(n.words[v]|0)+l,this.words[v]=r&67108863,l=r>>>26;if(this.length=n.length,l!==0)this.words[this.length]=l,this.length++;else if(n!==this)for(;v<n.length;v++)this.words[v]=n.words[v];return this},i.prototype.add=function(t){var r;return t.negative!==0&&this.negative===0?(t.negative=0,r=this.sub(t),t.negative^=1,r):t.negative===0&&this.negative!==0?(this.negative=0,r=t.sub(this),this.negative=1,r):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var r=this.iadd(t);return t.negative=1,r._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n=this.cmp(t);if(n===0)return this.negative=0,this.length=1,this.words[0]=0,this;var a,l;n>0?(a=this,l=t):(a=t,l=this);for(var v=0,b=0;b<l.length;b++)r=(a.words[b]|0)-(l.words[b]|0)+v,v=r>>26,this.words[b]=r&67108863;for(;v!==0&&b<a.length;b++)r=(a.words[b]|0)+v,v=r>>26,this.words[b]=r&67108863;if(v===0&&b<a.length&&a!==this)for(;b<a.length;b++)this.words[b]=a.words[b];return this.length=Math.max(this.length,b),a!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(t){return this.clone().isub(t)};function S(d,t,r){r.negative=t.negative^d.negative;var n=d.length+t.length|0;r.length=n,n=n-1|0;var a=d.words[0]|0,l=t.words[0]|0,v=a*l,b=v&67108863,u=v/67108864|0;r.words[0]=b;for(var e=1;e<n;e++){for(var c=u>>>26,q=u&67108863,N=Math.min(e,t.length-1),L=Math.max(0,e-d.length+1);L<=N;L++){var $=e-L|0;a=d.words[$]|0,l=t.words[L]|0,v=a*l+q,c+=v/67108864|0,q=v&67108863}r.words[e]=q|0,u=c|0}return u!==0?r.words[e]=u|0:r.length--,r.strip()}var R=function(t,r,n){var a=t.words,l=r.words,v=n.words,b=0,u,e,c,q=a[0]|0,N=q&8191,L=q>>>13,$=a[1]|0,V=$&8191,z=$>>>13,G=a[2]|0,U=G&8191,A=G>>>13,j=a[3]|0,Z=j&8191,W=j>>>13,Dt=a[4]|0,at=Dt&8191,nt=Dt>>>13,Ft=a[5]|0,lt=Ft&8191,ut=Ft>>>13,kt=a[6]|0,st=kt&8191,it=kt>>>13,Ct=a[7]|0,et=Ct&8191,tt=Ct>>>13,qt=a[8]|0,X=qt&8191,rt=qt>>>13,Lt=a[9]|0,Q=Lt&8191,ot=Lt>>>13,Ut=l[0]|0,ft=Ut&8191,ht=Ut>>>13,zt=l[1]|0,Et=zt&8191,St=zt>>>13,ae=l[2]|0,xt=ae&8191,At=ae>>>13,Ee=l[3]|0,It=Ee&8191,dt=Ee>>>13,Gt=l[4]|0,pt=Gt&8191,vt=Gt>>>13,Wt=l[5]|0,ct=Wt&8191,bt=Wt>>>13,Yt=l[6]|0,yt=Yt&8191,wt=Yt>>>13,Jt=l[7]|0,gt=Jt&8191,mt=Jt>>>13,$t=l[8]|0,Mt=$t&8191,_t=$t>>>13,Re=l[9]|0,Rt=Re&8191,Bt=Re>>>13;n.negative=t.negative^r.negative,n.length=19,u=Math.imul(N,ft),e=Math.imul(N,ht),e=e+Math.imul(L,ft)|0,c=Math.imul(L,ht);var Xt=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,u=Math.imul(V,ft),e=Math.imul(V,ht),e=e+Math.imul(z,ft)|0,c=Math.imul(z,ht),u=u+Math.imul(N,Et)|0,e=e+Math.imul(N,St)|0,e=e+Math.imul(L,Et)|0,c=c+Math.imul(L,St)|0;var fe=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(fe>>>26)|0,fe&=67108863,u=Math.imul(U,ft),e=Math.imul(U,ht),e=e+Math.imul(A,ft)|0,c=Math.imul(A,ht),u=u+Math.imul(V,Et)|0,e=e+Math.imul(V,St)|0,e=e+Math.imul(z,Et)|0,c=c+Math.imul(z,St)|0,u=u+Math.imul(N,xt)|0,e=e+Math.imul(N,At)|0,e=e+Math.imul(L,xt)|0,c=c+Math.imul(L,At)|0;var he=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(he>>>26)|0,he&=67108863,u=Math.imul(Z,ft),e=Math.imul(Z,ht),e=e+Math.imul(W,ft)|0,c=Math.imul(W,ht),u=u+Math.imul(U,Et)|0,e=e+Math.imul(U,St)|0,e=e+Math.imul(A,Et)|0,c=c+Math.imul(A,St)|0,u=u+Math.imul(V,xt)|0,e=e+Math.imul(V,At)|0,e=e+Math.imul(z,xt)|0,c=c+Math.imul(z,At)|0,u=u+Math.imul(N,It)|0,e=e+Math.imul(N,dt)|0,e=e+Math.imul(L,It)|0,c=c+Math.imul(L,dt)|0;var ue=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ue>>>26)|0,ue&=67108863,u=Math.imul(at,ft),e=Math.imul(at,ht),e=e+Math.imul(nt,ft)|0,c=Math.imul(nt,ht),u=u+Math.imul(Z,Et)|0,e=e+Math.imul(Z,St)|0,e=e+Math.imul(W,Et)|0,c=c+Math.imul(W,St)|0,u=u+Math.imul(U,xt)|0,e=e+Math.imul(U,At)|0,e=e+Math.imul(A,xt)|0,c=c+Math.imul(A,At)|0,u=u+Math.imul(V,It)|0,e=e+Math.imul(V,dt)|0,e=e+Math.imul(z,It)|0,c=c+Math.imul(z,dt)|0,u=u+Math.imul(N,pt)|0,e=e+Math.imul(N,vt)|0,e=e+Math.imul(L,pt)|0,c=c+Math.imul(L,vt)|0;var ce=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ce>>>26)|0,ce&=67108863,u=Math.imul(lt,ft),e=Math.imul(lt,ht),e=e+Math.imul(ut,ft)|0,c=Math.imul(ut,ht),u=u+Math.imul(at,Et)|0,e=e+Math.imul(at,St)|0,e=e+Math.imul(nt,Et)|0,c=c+Math.imul(nt,St)|0,u=u+Math.imul(Z,xt)|0,e=e+Math.imul(Z,At)|0,e=e+Math.imul(W,xt)|0,c=c+Math.imul(W,At)|0,u=u+Math.imul(U,It)|0,e=e+Math.imul(U,dt)|0,e=e+Math.imul(A,It)|0,c=c+Math.imul(A,dt)|0,u=u+Math.imul(V,pt)|0,e=e+Math.imul(V,vt)|0,e=e+Math.imul(z,pt)|0,c=c+Math.imul(z,vt)|0,u=u+Math.imul(N,ct)|0,e=e+Math.imul(N,bt)|0,e=e+Math.imul(L,ct)|0,c=c+Math.imul(L,bt)|0;var le=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(le>>>26)|0,le&=67108863,u=Math.imul(st,ft),e=Math.imul(st,ht),e=e+Math.imul(it,ft)|0,c=Math.imul(it,ht),u=u+Math.imul(lt,Et)|0,e=e+Math.imul(lt,St)|0,e=e+Math.imul(ut,Et)|0,c=c+Math.imul(ut,St)|0,u=u+Math.imul(at,xt)|0,e=e+Math.imul(at,At)|0,e=e+Math.imul(nt,xt)|0,c=c+Math.imul(nt,At)|0,u=u+Math.imul(Z,It)|0,e=e+Math.imul(Z,dt)|0,e=e+Math.imul(W,It)|0,c=c+Math.imul(W,dt)|0,u=u+Math.imul(U,pt)|0,e=e+Math.imul(U,vt)|0,e=e+Math.imul(A,pt)|0,c=c+Math.imul(A,vt)|0,u=u+Math.imul(V,ct)|0,e=e+Math.imul(V,bt)|0,e=e+Math.imul(z,ct)|0,c=c+Math.imul(z,bt)|0,u=u+Math.imul(N,yt)|0,e=e+Math.imul(N,wt)|0,e=e+Math.imul(L,yt)|0,c=c+Math.imul(L,wt)|0;var ee=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ee>>>26)|0,ee&=67108863,u=Math.imul(et,ft),e=Math.imul(et,ht),e=e+Math.imul(tt,ft)|0,c=Math.imul(tt,ht),u=u+Math.imul(st,Et)|0,e=e+Math.imul(st,St)|0,e=e+Math.imul(it,Et)|0,c=c+Math.imul(it,St)|0,u=u+Math.imul(lt,xt)|0,e=e+Math.imul(lt,At)|0,e=e+Math.imul(ut,xt)|0,c=c+Math.imul(ut,At)|0,u=u+Math.imul(at,It)|0,e=e+Math.imul(at,dt)|0,e=e+Math.imul(nt,It)|0,c=c+Math.imul(nt,dt)|0,u=u+Math.imul(Z,pt)|0,e=e+Math.imul(Z,vt)|0,e=e+Math.imul(W,pt)|0,c=c+Math.imul(W,vt)|0,u=u+Math.imul(U,ct)|0,e=e+Math.imul(U,bt)|0,e=e+Math.imul(A,ct)|0,c=c+Math.imul(A,bt)|0,u=u+Math.imul(V,yt)|0,e=e+Math.imul(V,wt)|0,e=e+Math.imul(z,yt)|0,c=c+Math.imul(z,wt)|0,u=u+Math.imul(N,gt)|0,e=e+Math.imul(N,mt)|0,e=e+Math.imul(L,gt)|0,c=c+Math.imul(L,mt)|0;var de=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(de>>>26)|0,de&=67108863,u=Math.imul(X,ft),e=Math.imul(X,ht),e=e+Math.imul(rt,ft)|0,c=Math.imul(rt,ht),u=u+Math.imul(et,Et)|0,e=e+Math.imul(et,St)|0,e=e+Math.imul(tt,Et)|0,c=c+Math.imul(tt,St)|0,u=u+Math.imul(st,xt)|0,e=e+Math.imul(st,At)|0,e=e+Math.imul(it,xt)|0,c=c+Math.imul(it,At)|0,u=u+Math.imul(lt,It)|0,e=e+Math.imul(lt,dt)|0,e=e+Math.imul(ut,It)|0,c=c+Math.imul(ut,dt)|0,u=u+Math.imul(at,pt)|0,e=e+Math.imul(at,vt)|0,e=e+Math.imul(nt,pt)|0,c=c+Math.imul(nt,vt)|0,u=u+Math.imul(Z,ct)|0,e=e+Math.imul(Z,bt)|0,e=e+Math.imul(W,ct)|0,c=c+Math.imul(W,bt)|0,u=u+Math.imul(U,yt)|0,e=e+Math.imul(U,wt)|0,e=e+Math.imul(A,yt)|0,c=c+Math.imul(A,wt)|0,u=u+Math.imul(V,gt)|0,e=e+Math.imul(V,mt)|0,e=e+Math.imul(z,gt)|0,c=c+Math.imul(z,mt)|0,u=u+Math.imul(N,Mt)|0,e=e+Math.imul(N,_t)|0,e=e+Math.imul(L,Mt)|0,c=c+Math.imul(L,_t)|0;var pe=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(pe>>>26)|0,pe&=67108863,u=Math.imul(Q,ft),e=Math.imul(Q,ht),e=e+Math.imul(ot,ft)|0,c=Math.imul(ot,ht),u=u+Math.imul(X,Et)|0,e=e+Math.imul(X,St)|0,e=e+Math.imul(rt,Et)|0,c=c+Math.imul(rt,St)|0,u=u+Math.imul(et,xt)|0,e=e+Math.imul(et,At)|0,e=e+Math.imul(tt,xt)|0,c=c+Math.imul(tt,At)|0,u=u+Math.imul(st,It)|0,e=e+Math.imul(st,dt)|0,e=e+Math.imul(it,It)|0,c=c+Math.imul(it,dt)|0,u=u+Math.imul(lt,pt)|0,e=e+Math.imul(lt,vt)|0,e=e+Math.imul(ut,pt)|0,c=c+Math.imul(ut,vt)|0,u=u+Math.imul(at,ct)|0,e=e+Math.imul(at,bt)|0,e=e+Math.imul(nt,ct)|0,c=c+Math.imul(nt,bt)|0,u=u+Math.imul(Z,yt)|0,e=e+Math.imul(Z,wt)|0,e=e+Math.imul(W,yt)|0,c=c+Math.imul(W,wt)|0,u=u+Math.imul(U,gt)|0,e=e+Math.imul(U,mt)|0,e=e+Math.imul(A,gt)|0,c=c+Math.imul(A,mt)|0,u=u+Math.imul(V,Mt)|0,e=e+Math.imul(V,_t)|0,e=e+Math.imul(z,Mt)|0,c=c+Math.imul(z,_t)|0,u=u+Math.imul(N,Rt)|0,e=e+Math.imul(N,Bt)|0,e=e+Math.imul(L,Rt)|0,c=c+Math.imul(L,Bt)|0;var ve=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ve>>>26)|0,ve&=67108863,u=Math.imul(Q,Et),e=Math.imul(Q,St),e=e+Math.imul(ot,Et)|0,c=Math.imul(ot,St),u=u+Math.imul(X,xt)|0,e=e+Math.imul(X,At)|0,e=e+Math.imul(rt,xt)|0,c=c+Math.imul(rt,At)|0,u=u+Math.imul(et,It)|0,e=e+Math.imul(et,dt)|0,e=e+Math.imul(tt,It)|0,c=c+Math.imul(tt,dt)|0,u=u+Math.imul(st,pt)|0,e=e+Math.imul(st,vt)|0,e=e+Math.imul(it,pt)|0,c=c+Math.imul(it,vt)|0,u=u+Math.imul(lt,ct)|0,e=e+Math.imul(lt,bt)|0,e=e+Math.imul(ut,ct)|0,c=c+Math.imul(ut,bt)|0,u=u+Math.imul(at,yt)|0,e=e+Math.imul(at,wt)|0,e=e+Math.imul(nt,yt)|0,c=c+Math.imul(nt,wt)|0,u=u+Math.imul(Z,gt)|0,e=e+Math.imul(Z,mt)|0,e=e+Math.imul(W,gt)|0,c=c+Math.imul(W,mt)|0,u=u+Math.imul(U,Mt)|0,e=e+Math.imul(U,_t)|0,e=e+Math.imul(A,Mt)|0,c=c+Math.imul(A,_t)|0,u=u+Math.imul(V,Rt)|0,e=e+Math.imul(V,Bt)|0,e=e+Math.imul(z,Rt)|0,c=c+Math.imul(z,Bt)|0;var me=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(me>>>26)|0,me&=67108863,u=Math.imul(Q,xt),e=Math.imul(Q,At),e=e+Math.imul(ot,xt)|0,c=Math.imul(ot,At),u=u+Math.imul(X,It)|0,e=e+Math.imul(X,dt)|0,e=e+Math.imul(rt,It)|0,c=c+Math.imul(rt,dt)|0,u=u+Math.imul(et,pt)|0,e=e+Math.imul(et,vt)|0,e=e+Math.imul(tt,pt)|0,c=c+Math.imul(tt,vt)|0,u=u+Math.imul(st,ct)|0,e=e+Math.imul(st,bt)|0,e=e+Math.imul(it,ct)|0,c=c+Math.imul(it,bt)|0,u=u+Math.imul(lt,yt)|0,e=e+Math.imul(lt,wt)|0,e=e+Math.imul(ut,yt)|0,c=c+Math.imul(ut,wt)|0,u=u+Math.imul(at,gt)|0,e=e+Math.imul(at,mt)|0,e=e+Math.imul(nt,gt)|0,c=c+Math.imul(nt,mt)|0,u=u+Math.imul(Z,Mt)|0,e=e+Math.imul(Z,_t)|0,e=e+Math.imul(W,Mt)|0,c=c+Math.imul(W,_t)|0,u=u+Math.imul(U,Rt)|0,e=e+Math.imul(U,Bt)|0,e=e+Math.imul(A,Rt)|0,c=c+Math.imul(A,Bt)|0;var ge=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ge>>>26)|0,ge&=67108863,u=Math.imul(Q,It),e=Math.imul(Q,dt),e=e+Math.imul(ot,It)|0,c=Math.imul(ot,dt),u=u+Math.imul(X,pt)|0,e=e+Math.imul(X,vt)|0,e=e+Math.imul(rt,pt)|0,c=c+Math.imul(rt,vt)|0,u=u+Math.imul(et,ct)|0,e=e+Math.imul(et,bt)|0,e=e+Math.imul(tt,ct)|0,c=c+Math.imul(tt,bt)|0,u=u+Math.imul(st,yt)|0,e=e+Math.imul(st,wt)|0,e=e+Math.imul(it,yt)|0,c=c+Math.imul(it,wt)|0,u=u+Math.imul(lt,gt)|0,e=e+Math.imul(lt,mt)|0,e=e+Math.imul(ut,gt)|0,c=c+Math.imul(ut,mt)|0,u=u+Math.imul(at,Mt)|0,e=e+Math.imul(at,_t)|0,e=e+Math.imul(nt,Mt)|0,c=c+Math.imul(nt,_t)|0,u=u+Math.imul(Z,Rt)|0,e=e+Math.imul(Z,Bt)|0,e=e+Math.imul(W,Rt)|0,c=c+Math.imul(W,Bt)|0;var ie=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ie>>>26)|0,ie&=67108863,u=Math.imul(Q,pt),e=Math.imul(Q,vt),e=e+Math.imul(ot,pt)|0,c=Math.imul(ot,vt),u=u+Math.imul(X,ct)|0,e=e+Math.imul(X,bt)|0,e=e+Math.imul(rt,ct)|0,c=c+Math.imul(rt,bt)|0,u=u+Math.imul(et,yt)|0,e=e+Math.imul(et,wt)|0,e=e+Math.imul(tt,yt)|0,c=c+Math.imul(tt,wt)|0,u=u+Math.imul(st,gt)|0,e=e+Math.imul(st,mt)|0,e=e+Math.imul(it,gt)|0,c=c+Math.imul(it,mt)|0,u=u+Math.imul(lt,Mt)|0,e=e+Math.imul(lt,_t)|0,e=e+Math.imul(ut,Mt)|0,c=c+Math.imul(ut,_t)|0,u=u+Math.imul(at,Rt)|0,e=e+Math.imul(at,Bt)|0,e=e+Math.imul(nt,Rt)|0,c=c+Math.imul(nt,Bt)|0;var be=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(be>>>26)|0,be&=67108863,u=Math.imul(Q,ct),e=Math.imul(Q,bt),e=e+Math.imul(ot,ct)|0,c=Math.imul(ot,bt),u=u+Math.imul(X,yt)|0,e=e+Math.imul(X,wt)|0,e=e+Math.imul(rt,yt)|0,c=c+Math.imul(rt,wt)|0,u=u+Math.imul(et,gt)|0,e=e+Math.imul(et,mt)|0,e=e+Math.imul(tt,gt)|0,c=c+Math.imul(tt,mt)|0,u=u+Math.imul(st,Mt)|0,e=e+Math.imul(st,_t)|0,e=e+Math.imul(it,Mt)|0,c=c+Math.imul(it,_t)|0,u=u+Math.imul(lt,Rt)|0,e=e+Math.imul(lt,Bt)|0,e=e+Math.imul(ut,Rt)|0,c=c+Math.imul(ut,Bt)|0;var ye=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ye>>>26)|0,ye&=67108863,u=Math.imul(Q,yt),e=Math.imul(Q,wt),e=e+Math.imul(ot,yt)|0,c=Math.imul(ot,wt),u=u+Math.imul(X,gt)|0,e=e+Math.imul(X,mt)|0,e=e+Math.imul(rt,gt)|0,c=c+Math.imul(rt,mt)|0,u=u+Math.imul(et,Mt)|0,e=e+Math.imul(et,_t)|0,e=e+Math.imul(tt,Mt)|0,c=c+Math.imul(tt,_t)|0,u=u+Math.imul(st,Rt)|0,e=e+Math.imul(st,Bt)|0,e=e+Math.imul(it,Rt)|0,c=c+Math.imul(it,Bt)|0;var te=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(te>>>26)|0,te&=67108863,u=Math.imul(Q,gt),e=Math.imul(Q,mt),e=e+Math.imul(ot,gt)|0,c=Math.imul(ot,mt),u=u+Math.imul(X,Mt)|0,e=e+Math.imul(X,_t)|0,e=e+Math.imul(rt,Mt)|0,c=c+Math.imul(rt,_t)|0,u=u+Math.imul(et,Rt)|0,e=e+Math.imul(et,Bt)|0,e=e+Math.imul(tt,Rt)|0,c=c+Math.imul(tt,Bt)|0;var we=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(we>>>26)|0,we&=67108863,u=Math.imul(Q,Mt),e=Math.imul(Q,_t),e=e+Math.imul(ot,Mt)|0,c=Math.imul(ot,_t),u=u+Math.imul(X,Rt)|0,e=e+Math.imul(X,Bt)|0,e=e+Math.imul(rt,Rt)|0,c=c+Math.imul(rt,Bt)|0;var Me=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(Me>>>26)|0,Me&=67108863,u=Math.imul(Q,Rt),e=Math.imul(Q,Bt),e=e+Math.imul(ot,Rt)|0,c=Math.imul(ot,Bt);var _e=(b+u|0)+((e&8191)<<13)|0;return b=(c+(e>>>13)|0)+(_e>>>26)|0,_e&=67108863,v[0]=Xt,v[1]=fe,v[2]=he,v[3]=ue,v[4]=ce,v[5]=le,v[6]=ee,v[7]=de,v[8]=pe,v[9]=ve,v[10]=me,v[11]=ge,v[12]=ie,v[13]=be,v[14]=ye,v[15]=te,v[16]=we,v[17]=Me,v[18]=_e,b!==0&&(v[19]=b,n.length++),n};Math.imul||(R=S);function P(d,t,r){r.negative=t.negative^d.negative,r.length=d.length+t.length;for(var n=0,a=0,l=0;l<r.length-1;l++){var v=a;a=0;for(var b=n&67108863,u=Math.min(l,t.length-1),e=Math.max(0,l-d.length+1);e<=u;e++){var c=l-e,q=d.words[c]|0,N=t.words[e]|0,L=q*N,$=L&67108863;v=v+(L/67108864|0)|0,$=$+b|0,b=$&67108863,v=v+($>>>26)|0,a+=v>>>26,v&=67108863}r.words[l]=b,n=v,v=a}return n!==0?r.words[l]=n:r.length--,r.strip()}function O(d,t,r){var n=new B;return n.mulp(d,t,r)}i.prototype.mulTo=function(t,r){var n,a=this.length+t.length;return this.length===10&&t.length===10?n=R(this,t,r):a<63?n=S(this,t,r):a<1024?n=P(this,t,r):n=O(this,t,r),n};function B(d,t){this.x=d,this.y=t}B.prototype.makeRBT=function(t){for(var r=new Array(t),n=i.prototype._countBits(t)-1,a=0;a<t;a++)r[a]=this.revBin(a,n,t);return r},B.prototype.revBin=function(t,r,n){if(t===0||t===n-1)return t;for(var a=0,l=0;l<r;l++)a|=(t&1)<<r-l-1,t>>=1;return a},B.prototype.permute=function(t,r,n,a,l,v){for(var b=0;b<v;b++)a[b]=r[t[b]],l[b]=n[t[b]]},B.prototype.transform=function(t,r,n,a,l,v){this.permute(v,t,r,n,a,l);for(var b=1;b<l;b<<=1)for(var u=b<<1,e=Math.cos(2*Math.PI/u),c=Math.sin(2*Math.PI/u),q=0;q<l;q+=u)for(var N=e,L=c,$=0;$<b;$++){var V=n[q+$],z=a[q+$],G=n[q+$+b],U=a[q+$+b],A=N*G-L*U;U=N*U+L*G,G=A,n[q+$]=V+G,a[q+$]=z+U,n[q+$+b]=V-G,a[q+$+b]=z-U,$!==u&&(A=e*N-c*L,L=e*L+c*N,N=A)}},B.prototype.guessLen13b=function(t,r){var n=Math.max(r,t)|1,a=n&1,l=0;for(n=n/2|0;n;n=n>>>1)l++;return 1<<l+1+a},B.prototype.conjugate=function(t,r,n){if(!(n<=1))for(var a=0;a<n/2;a++){var l=t[a];t[a]=t[n-a-1],t[n-a-1]=l,l=r[a],r[a]=-r[n-a-1],r[n-a-1]=-l}},B.prototype.normalize13b=function(t,r){for(var n=0,a=0;a<r/2;a++){var l=Math.round(t[2*a+1]/r)*8192+Math.round(t[2*a]/r)+n;t[a]=l&67108863,l<67108864?n=0:n=l/67108864|0}return t},B.prototype.convert13b=function(t,r,n,a){for(var l=0,v=0;v<r;v++)l=l+(t[v]|0),n[2*v]=l&8191,l=l>>>13,n[2*v+1]=l&8191,l=l>>>13;for(v=2*r;v<a;++v)n[v]=0;o(l===0),o((l&-8192)===0)},B.prototype.stub=function(t){for(var r=new Array(t),n=0;n<t;n++)r[n]=0;return r},B.prototype.mulp=function(t,r,n){var a=2*this.guessLen13b(t.length,r.length),l=this.makeRBT(a),v=this.stub(a),b=new Array(a),u=new Array(a),e=new Array(a),c=new Array(a),q=new Array(a),N=new Array(a),L=n.words;L.length=a,this.convert13b(t.words,t.length,b,a),this.convert13b(r.words,r.length,c,a),this.transform(b,v,u,e,a,l),this.transform(c,v,q,N,a,l);for(var $=0;$<a;$++){var V=u[$]*q[$]-e[$]*N[$];e[$]=u[$]*N[$]+e[$]*q[$],u[$]=V}return this.conjugate(u,e,a),this.transform(u,e,L,v,a,l),this.conjugate(L,v,a),this.normalize13b(L,a),n.negative=t.negative^r.negative,n.length=t.length+r.length,n.strip()},i.prototype.mul=function(t){var r=new i(null);return r.words=new Array(this.length+t.length),this.mulTo(t,r)},i.prototype.mulf=function(t){var r=new i(null);return r.words=new Array(this.length+t.length),O(this,t,r)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){o(typeof t=="number"),o(t<67108864);for(var r=0,n=0;n<this.length;n++){var a=(this.words[n]|0)*t,l=(a&67108863)+(r&67108863);r>>=26,r+=a/67108864|0,r+=l>>>26,this.words[n]=l&67108863}return r!==0&&(this.words[n]=r,this.length++),this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var r=E(t);if(r.length===0)return new i(1);for(var n=this,a=0;a<r.length&&r[a]===0;a++,n=n.sqr());if(++a<r.length)for(var l=n.sqr();a<r.length;a++,l=l.sqr())r[a]!==0&&(n=n.mul(l));return n},i.prototype.iushln=function(t){o(typeof t=="number"&&t>=0);var r=t%26,n=(t-r)/26,a=67108863>>>26-r<<26-r,l;if(r!==0){var v=0;for(l=0;l<this.length;l++){var b=this.words[l]&a,u=(this.words[l]|0)-b<<r;this.words[l]=u|v,v=b>>>26-r}v&&(this.words[l]=v,this.length++)}if(n!==0){for(l=this.length-1;l>=0;l--)this.words[l+n]=this.words[l];for(l=0;l<n;l++)this.words[l]=0;this.length+=n}return this.strip()},i.prototype.ishln=function(t){return o(this.negative===0),this.iushln(t)},i.prototype.iushrn=function(t,r,n){o(typeof t=="number"&&t>=0);var a;r?a=(r-r%26)/26:a=0;var l=t%26,v=Math.min((t-l)/26,this.length),b=67108863^67108863>>>l<<l,u=n;if(a-=v,a=Math.max(0,a),u){for(var e=0;e<v;e++)u.words[e]=this.words[e];u.length=v}if(v!==0)if(this.length>v)for(this.length-=v,e=0;e<this.length;e++)this.words[e]=this.words[e+v];else this.words[0]=0,this.length=1;var c=0;for(e=this.length-1;e>=0&&(c!==0||e>=a);e--){var q=this.words[e]|0;this.words[e]=c<<26-l|q>>>l,c=q&b}return u&&c!==0&&(u.words[u.length++]=c),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(t,r,n){return o(this.negative===0),this.iushrn(t,r,n)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){o(typeof t=="number"&&t>=0);var r=t%26,n=(t-r)/26,a=1<<r;if(this.length<=n)return!1;var l=this.words[n];return!!(l&a)},i.prototype.imaskn=function(t){o(typeof t=="number"&&t>=0);var r=t%26,n=(t-r)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=n)return this;if(r!==0&&n++,this.length=Math.min(n,this.length),r!==0){var a=67108863^67108863>>>r<<r;this.words[this.length-1]&=a}return this.strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return o(typeof t=="number"),o(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var r=0;r<this.length&&this.words[r]>=67108864;r++)this.words[r]-=67108864,r===this.length-1?this.words[r+1]=1:this.words[r+1]++;return this.length=Math.max(this.length,r+1),this},i.prototype.isubn=function(t){if(o(typeof t=="number"),o(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var r=0;r<this.length&&this.words[r]<0;r++)this.words[r]+=67108864,this.words[r+1]-=1;return this.strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,r,n){var a=t.length+n,l;this._expand(a);var v,b=0;for(l=0;l<t.length;l++){v=(this.words[l+n]|0)+b;var u=(t.words[l]|0)*r;v-=u&67108863,b=(v>>26)-(u/67108864|0),this.words[l+n]=v&67108863}for(;l<this.length-n;l++)v=(this.words[l+n]|0)+b,b=v>>26,this.words[l+n]=v&67108863;if(b===0)return this.strip();for(o(b===-1),b=0,l=0;l<this.length;l++)v=-(this.words[l]|0)+b,b=v>>26,this.words[l]=v&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(t,r){var n=this.length-t.length,a=this.clone(),l=t,v=l.words[l.length-1]|0,b=this._countBits(v);n=26-b,n!==0&&(l=l.ushln(n),a.iushln(n),v=l.words[l.length-1]|0);var u=a.length-l.length,e;if(r!=="mod"){e=new i(null),e.length=u+1,e.words=new Array(e.length);for(var c=0;c<e.length;c++)e.words[c]=0}var q=a.clone()._ishlnsubmul(l,1,u);q.negative===0&&(a=q,e&&(e.words[u]=1));for(var N=u-1;N>=0;N--){var L=(a.words[l.length+N]|0)*67108864+(a.words[l.length+N-1]|0);for(L=Math.min(L/v|0,67108863),a._ishlnsubmul(l,L,N);a.negative!==0;)L--,a.negative=0,a._ishlnsubmul(l,1,N),a.isZero()||(a.negative^=1);e&&(e.words[N]=L)}return e&&e.strip(),a.strip(),r!=="div"&&n!==0&&a.iushrn(n),{div:e||null,mod:a}},i.prototype.divmod=function(t,r,n){if(o(!t.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var a,l,v;return this.negative!==0&&t.negative===0?(v=this.neg().divmod(t,r),r!=="mod"&&(a=v.div.neg()),r!=="div"&&(l=v.mod.neg(),n&&l.negative!==0&&l.iadd(t)),{div:a,mod:l}):this.negative===0&&t.negative!==0?(v=this.divmod(t.neg(),r),r!=="mod"&&(a=v.div.neg()),{div:a,mod:v.mod}):(this.negative&t.negative)!==0?(v=this.neg().divmod(t.neg(),r),r!=="div"&&(l=v.mod.neg(),n&&l.negative!==0&&l.isub(t)),{div:v.div,mod:l}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:t.length===1?r==="div"?{div:this.divn(t.words[0]),mod:null}:r==="mod"?{div:null,mod:new i(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modn(t.words[0]))}:this._wordDiv(t,r)},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var r=this.divmod(t);if(r.mod.isZero())return r.div;var n=r.div.negative!==0?r.mod.isub(t):r.mod,a=t.ushrn(1),l=t.andln(1),v=n.cmp(a);return v<0||l===1&&v===0?r.div:r.div.negative!==0?r.div.isubn(1):r.div.iaddn(1)},i.prototype.modn=function(t){o(t<=67108863);for(var r=(1<<26)%t,n=0,a=this.length-1;a>=0;a--)n=(r*n+(this.words[a]|0))%t;return n},i.prototype.idivn=function(t){o(t<=67108863);for(var r=0,n=this.length-1;n>=0;n--){var a=(this.words[n]|0)+r*67108864;this.words[n]=a/t|0,r=a%t}return this.strip()},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){o(t.negative===0),o(!t.isZero());var r=this,n=t.clone();r.negative!==0?r=r.umod(t):r=r.clone();for(var a=new i(1),l=new i(0),v=new i(0),b=new i(1),u=0;r.isEven()&&n.isEven();)r.iushrn(1),n.iushrn(1),++u;for(var e=n.clone(),c=r.clone();!r.isZero();){for(var q=0,N=1;(r.words[0]&N)===0&&q<26;++q,N<<=1);if(q>0)for(r.iushrn(q);q-- >0;)(a.isOdd()||l.isOdd())&&(a.iadd(e),l.isub(c)),a.iushrn(1),l.iushrn(1);for(var L=0,$=1;(n.words[0]&$)===0&&L<26;++L,$<<=1);if(L>0)for(n.iushrn(L);L-- >0;)(v.isOdd()||b.isOdd())&&(v.iadd(e),b.isub(c)),v.iushrn(1),b.iushrn(1);r.cmp(n)>=0?(r.isub(n),a.isub(v),l.isub(b)):(n.isub(r),v.isub(a),b.isub(l))}return{a:v,b,gcd:n.iushln(u)}},i.prototype._invmp=function(t){o(t.negative===0),o(!t.isZero());var r=this,n=t.clone();r.negative!==0?r=r.umod(t):r=r.clone();for(var a=new i(1),l=new i(0),v=n.clone();r.cmpn(1)>0&&n.cmpn(1)>0;){for(var b=0,u=1;(r.words[0]&u)===0&&b<26;++b,u<<=1);if(b>0)for(r.iushrn(b);b-- >0;)a.isOdd()&&a.iadd(v),a.iushrn(1);for(var e=0,c=1;(n.words[0]&c)===0&&e<26;++e,c<<=1);if(e>0)for(n.iushrn(e);e-- >0;)l.isOdd()&&l.iadd(v),l.iushrn(1);r.cmp(n)>=0?(r.isub(n),a.isub(l)):(n.isub(r),l.isub(a))}var q;return r.cmpn(1)===0?q=a:q=l,q.cmpn(0)<0&&q.iadd(t),q},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var r=this.clone(),n=t.clone();r.negative=0,n.negative=0;for(var a=0;r.isEven()&&n.isEven();a++)r.iushrn(1),n.iushrn(1);do{for(;r.isEven();)r.iushrn(1);for(;n.isEven();)n.iushrn(1);var l=r.cmp(n);if(l<0){var v=r;r=n,n=v}else if(l===0||n.cmpn(1)===0)break;r.isub(n)}while(!0);return n.iushln(a)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){o(typeof t=="number");var r=t%26,n=(t-r)/26,a=1<<r;if(this.length<=n)return this._expand(n+1),this.words[n]|=a,this;for(var l=a,v=n;l!==0&&v<this.length;v++){var b=this.words[v]|0;b+=l,l=b>>>26,b&=67108863,this.words[v]=b}return l!==0&&(this.words[v]=l,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(t){var r=t<0;if(this.negative!==0&&!r)return-1;if(this.negative===0&&r)return 1;this.strip();var n;if(this.length>1)n=1;else{r&&(t=-t),o(t<=67108863,"Number is too big");var a=this.words[0]|0;n=a===t?0:a<t?-1:1}return this.negative!==0?-n|0:n},i.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var r=this.ucmp(t);return this.negative!==0?-r|0:r},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var r=0,n=this.length-1;n>=0;n--){var a=this.words[n]|0,l=t.words[n]|0;if(a!==l){a<l?r=-1:a>l&&(r=1);break}}return r},i.prototype.gtn=function(t){return this.cmpn(t)===1},i.prototype.gt=function(t){return this.cmp(t)===1},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return this.cmpn(t)===-1},i.prototype.lt=function(t){return this.cmp(t)===-1},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return this.cmpn(t)===0},i.prototype.eq=function(t){return this.cmp(t)===0},i.red=function(t){return new K(t)},i.prototype.toRed=function(t){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return o(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return o(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var C={k256:null,p224:null,p192:null,p25519:null};function T(d,t){this.name=d,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}T.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},T.prototype.ireduce=function(t){var r=t,n;do this.split(r,this.tmp),r=this.imulK(r),r=r.iadd(this.tmp),n=r.bitLength();while(n>this.n);var a=n<this.n?-1:r.ucmp(this.p);return a===0?(r.words[0]=0,r.length=1):a>0?r.isub(this.p):r.strip!==void 0?r.strip():r._strip(),r},T.prototype.split=function(t,r){t.iushrn(this.n,0,r)},T.prototype.imulK=function(t){return t.imul(this.k)};function F(){T.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}p(F,T),F.prototype.split=function(t,r){for(var n=4194303,a=Math.min(t.length,9),l=0;l<a;l++)r.words[l]=t.words[l];if(r.length=a,t.length<=9){t.words[0]=0,t.length=1;return}var v=t.words[9];for(r.words[r.length++]=v&n,l=10;l<t.length;l++){var b=t.words[l]|0;t.words[l-10]=(b&n)<<4|v>>>22,v=b}v>>>=22,t.words[l-10]=v,v===0&&t.length>10?t.length-=10:t.length-=9},F.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var r=0,n=0;n<t.length;n++){var a=t.words[n]|0;r+=a*977,t.words[n]=r&67108863,r=a*64+(r/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function D(){T.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}p(D,T);function I(){T.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}p(I,T);function k(){T.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}p(k,T),k.prototype.imulK=function(t){for(var r=0,n=0;n<t.length;n++){var a=(t.words[n]|0)*19+r,l=a&67108863;a>>>=26,t.words[n]=l,r=a}return r!==0&&(t.words[t.length++]=r),t},i._prime=function(t){if(C[t])return C[t];var r;if(t==="k256")r=new F;else if(t==="p224")r=new D;else if(t==="p192")r=new I;else if(t==="p25519")r=new k;else throw new Error("Unknown prime "+t);return C[t]=r,r};function K(d){if(typeof d=="string"){var t=i._prime(d);this.m=t.p,this.prime=t}else o(d.gtn(1),"modulus must be greater than 1"),this.m=d,this.prime=null}K.prototype._verify1=function(t){o(t.negative===0,"red works only with positives"),o(t.red,"red works only with red numbers")},K.prototype._verify2=function(t,r){o((t.negative|r.negative)===0,"red works only with positives"),o(t.red&&t.red===r.red,"red works only with red numbers")},K.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},K.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},K.prototype.add=function(t,r){this._verify2(t,r);var n=t.add(r);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},K.prototype.iadd=function(t,r){this._verify2(t,r);var n=t.iadd(r);return n.cmp(this.m)>=0&&n.isub(this.m),n},K.prototype.sub=function(t,r){this._verify2(t,r);var n=t.sub(r);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},K.prototype.isub=function(t,r){this._verify2(t,r);var n=t.isub(r);return n.cmpn(0)<0&&n.iadd(this.m),n},K.prototype.shl=function(t,r){return this._verify1(t),this.imod(t.ushln(r))},K.prototype.imul=function(t,r){return this._verify2(t,r),this.imod(t.imul(r))},K.prototype.mul=function(t,r){return this._verify2(t,r),this.imod(t.mul(r))},K.prototype.isqr=function(t){return this.imul(t,t.clone())},K.prototype.sqr=function(t){return this.mul(t,t)},K.prototype.sqrt=function(t){if(t.isZero())return t.clone();var r=this.m.andln(3);if(o(r%2===1),r===3){var n=this.m.add(new i(1)).iushrn(2);return this.pow(t,n)}for(var a=this.m.subn(1),l=0;!a.isZero()&&a.andln(1)===0;)l++,a.iushrn(1);o(!a.isZero());var v=new i(1).toRed(this),b=v.redNeg(),u=this.m.subn(1).iushrn(1),e=this.m.bitLength();for(e=new i(2*e*e).toRed(this);this.pow(e,u).cmp(b)!==0;)e.redIAdd(b);for(var c=this.pow(e,a),q=this.pow(t,a.addn(1).iushrn(1)),N=this.pow(t,a),L=l;N.cmp(v)!==0;){for(var $=N,V=0;$.cmp(v)!==0;V++)$=$.redSqr();o(V<L);var z=this.pow(c,new i(1).iushln(L-V-1));q=q.redMul(z),c=z.redSqr(),N=N.redMul(c),L=V}return q},K.prototype.invm=function(t){var r=t._invmp(this.m);return r.negative!==0?(r.negative=0,this.imod(r).redNeg()):this.imod(r)},K.prototype.pow=function(t,r){if(r.isZero())return new i(1).toRed(this);if(r.cmpn(1)===0)return t.clone();var n=4,a=new Array(1<<n);a[0]=new i(1).toRed(this),a[1]=t;for(var l=2;l<a.length;l++)a[l]=this.mul(a[l-1],t);var v=a[0],b=0,u=0,e=r.bitLength()%26;for(e===0&&(e=26),l=r.length-1;l>=0;l--){for(var c=r.words[l],q=e-1;q>=0;q--){var N=c>>q&1;if(v!==a[0]&&(v=this.sqr(v)),N===0&&b===0){u=0;continue}b<<=1,b|=N,u++,!(u!==n&&(l!==0||q!==0))&&(v=this.mul(v,a[b]),u=0,b=0)}e=26}return v},K.prototype.convertTo=function(t){var r=t.umod(this.m);return r===t?r.clone():r},K.prototype.convertFrom=function(t){var r=t.clone();return r.red=null,r},i.mont=function(t){return new Y(t)};function Y(d){K.call(this,d),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}p(Y,K),Y.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},Y.prototype.convertFrom=function(t){var r=this.imod(t.mul(this.rinv));return r.red=null,r},Y.prototype.imul=function(t,r){if(t.isZero()||r.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(r),a=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=n.isub(a).iushrn(this.shift),v=l;return l.cmp(this.m)>=0?v=l.isub(this.m):l.cmpn(0)<0&&(v=l.iadd(this.m)),v._forceRed(this)},Y.prototype.mul=function(t,r){if(t.isZero()||r.isZero())return new i(0)._forceRed(this);var n=t.mul(r),a=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=n.isub(a).iushrn(this.shift),v=l;return l.cmp(this.m)>=0?v=l.isub(this.m):l.cmpn(0)<0&&(v=l.iadd(this.m)),v._forceRed(this)},Y.prototype.invm=function(t){var r=this.imod(t._invmp(this.m).mul(this.r2));return r._forceRed(this)}})(f,Zt)}(ms)),ms.exports}var gs={exports:{}},Vf;function c1(){return Vf||(Vf=1,function(f){(function(s,h){function o(d,t){if(!d)throw new Error(t||"Assertion failed")}function p(d,t){d.super_=t;var r=function(){};r.prototype=t.prototype,d.prototype=new r,d.prototype.constructor=d}function i(d,t,r){if(i.isBN(d))return d;this.negative=0,this.words=null,this.length=0,this.red=null,d!==null&&((t==="le"||t==="be")&&(r=t,t=10),this._init(d||0,t||10,r||"be"))}typeof s=="object"?s.exports=i:h.BN=i,i.BN=i,i.wordSize=26;var M;try{typeof window<"u"&&typeof window.Buffer<"u"?M=window.Buffer:M=Vt.Buffer}catch{}i.isBN=function(t){return t instanceof i?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,r){return t.cmp(r)>0?t:r},i.min=function(t,r){return t.cmp(r)<0?t:r},i.prototype._init=function(t,r,n){if(typeof t=="number")return this._initNumber(t,r,n);if(typeof t=="object")return this._initArray(t,r,n);r==="hex"&&(r=16),o(r===(r|0)&&r>=2&&r<=36),t=t.toString().replace(/\s+/g,"");var a=0;t[0]==="-"&&(a++,this.negative=1),a<t.length&&(r===16?this._parseHex(t,a,n):(this._parseBase(t,r,a),n==="le"&&this._initArray(this.toArray(),r,n)))},i.prototype._initNumber=function(t,r,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(o(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),n==="le"&&this._initArray(this.toArray(),r,n)},i.prototype._initArray=function(t,r,n){if(o(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var l,v,b=0;if(n==="be")for(a=t.length-1,l=0;a>=0;a-=3)v=t[a]|t[a-1]<<8|t[a-2]<<16,this.words[l]|=v<<b&67108863,this.words[l+1]=v>>>26-b&67108863,b+=24,b>=26&&(b-=26,l++);else if(n==="le")for(a=0,l=0;a<t.length;a+=3)v=t[a]|t[a+1]<<8|t[a+2]<<16,this.words[l]|=v<<b&67108863,this.words[l+1]=v>>>26-b&67108863,b+=24,b>=26&&(b-=26,l++);return this.strip()};function w(d,t){var r=d.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function y(d,t,r){var n=w(d,r);return r-1>=t&&(n|=w(d,r-1)<<4),n}i.prototype._parseHex=function(t,r,n){this.length=Math.ceil((t.length-r)/6),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var l=0,v=0,b;if(n==="be")for(a=t.length-1;a>=r;a-=2)b=y(t,r,a)<<l,this.words[v]|=b&67108863,l>=18?(l-=18,v+=1,this.words[v]|=b>>>26):l+=8;else{var u=t.length-r;for(a=u%2===0?r+1:r;a<t.length;a+=2)b=y(t,r,a)<<l,this.words[v]|=b&67108863,l>=18?(l-=18,v+=1,this.words[v]|=b>>>26):l+=8}this.strip()};function g(d,t,r,n){for(var a=0,l=Math.min(d.length,r),v=t;v<l;v++){var b=d.charCodeAt(v)-48;a*=n,b>=49?a+=b-49+10:b>=17?a+=b-17+10:a+=b}return a}i.prototype._parseBase=function(t,r,n){this.words=[0],this.length=1;for(var a=0,l=1;l<=67108863;l*=r)a++;a--,l=l/r|0;for(var v=t.length-n,b=v%a,u=Math.min(v,v-b)+n,e=0,c=n;c<u;c+=a)e=g(t,c,c+a,r),this.imuln(l),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e);if(b!==0){var q=1;for(e=g(t,c,t.length,r),c=0;c<b;c++)q*=r;this.imuln(q),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e)}this.strip()},i.prototype.copy=function(t){t.words=new Array(this.length);for(var r=0;r<this.length;r++)t.words[r]=this.words[r];t.length=this.length,t.negative=this.negative,t.red=this.red},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(t,r){t=t||10,r=r|0||1;var n;if(t===16||t==="hex"){n="";for(var a=0,l=0,v=0;v<this.length;v++){var b=this.words[v],u=((b<<a|l)&16777215).toString(16);l=b>>>24-a&16777215,l!==0||v!==this.length-1?n=m[6-u.length]+u+n:n=u+n,a+=2,a>=26&&(a-=26,v--)}for(l!==0&&(n=l.toString(16)+n);n.length%r!==0;)n="0"+n;return this.negative!==0&&(n="-"+n),n}if(t===(t|0)&&t>=2&&t<=36){var e=_[t],c=x[t];n="";var q=this.clone();for(q.negative=0;!q.isZero();){var N=q.modn(c).toString(t);q=q.idivn(c),q.isZero()?n=N+n:n=m[e-N.length]+N+n}for(this.isZero()&&(n="0"+n);n.length%r!==0;)n="0"+n;return this.negative!==0&&(n="-"+n),n}o(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(t,r){return o(typeof M<"u"),this.toArrayLike(M,t,r)},i.prototype.toArray=function(t,r){return this.toArrayLike(Array,t,r)},i.prototype.toArrayLike=function(t,r,n){var a=this.byteLength(),l=n||Math.max(1,a);o(a<=l,"byte array longer than desired length"),o(l>0,"Requested array length <= 0"),this.strip();var v=r==="le",b=new t(l),u,e,c=this.clone();if(v){for(e=0;!c.isZero();e++)u=c.andln(255),c.iushrn(8),b[e]=u;for(;e<l;e++)b[e]=0}else{for(e=0;e<l-a;e++)b[e]=0;for(e=0;!c.isZero();e++)u=c.andln(255),c.iushrn(8),b[l-e-1]=u}return b},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var r=t,n=0;return r>=4096&&(n+=13,r>>>=13),r>=64&&(n+=7,r>>>=7),r>=8&&(n+=4,r>>>=4),r>=2&&(n+=2,r>>>=2),n+r},i.prototype._zeroBits=function(t){if(t===0)return 26;var r=t,n=0;return(r&8191)===0&&(n+=13,r>>>=13),(r&127)===0&&(n+=7,r>>>=7),(r&15)===0&&(n+=4,r>>>=4),(r&3)===0&&(n+=2,r>>>=2),(r&1)===0&&n++,n},i.prototype.bitLength=function(){var t=this.words[this.length-1],r=this._countBits(t);return(this.length-1)*26+r};function E(d){for(var t=new Array(d.bitLength()),r=0;r<t.length;r++){var n=r/26|0,a=r%26;t[r]=(d.words[n]&1<<a)>>>a}return t}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,r=0;r<this.length;r++){var n=this._zeroBits(this.words[r]);if(t+=n,n!==26)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]|t.words[r];return this.strip()},i.prototype.ior=function(t){return o((this.negative|t.negative)===0),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var r;this.length>t.length?r=t:r=this;for(var n=0;n<r.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=r.length,this.strip()},i.prototype.iand=function(t){return o((this.negative|t.negative)===0),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var r,n;this.length>t.length?(r=this,n=t):(r=t,n=this);for(var a=0;a<n.length;a++)this.words[a]=r.words[a]^n.words[a];if(this!==r)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=r.length,this.strip()},i.prototype.ixor=function(t){return o((this.negative|t.negative)===0),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){o(typeof t=="number"&&t>=0);var r=Math.ceil(t/26)|0,n=t%26;this._expand(r),n>0&&r--;for(var a=0;a<r;a++)this.words[a]=~this.words[a]&67108863;return n>0&&(this.words[a]=~this.words[a]&67108863>>26-n),this.strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,r){o(typeof t=="number"&&t>=0);var n=t/26|0,a=t%26;return this._expand(n+1),r?this.words[n]=this.words[n]|1<<a:this.words[n]=this.words[n]&~(1<<a),this.strip()},i.prototype.iadd=function(t){var r;if(this.negative!==0&&t.negative===0)return this.negative=0,r=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,r=this.isub(t),t.negative=1,r._normSign();var n,a;this.length>t.length?(n=this,a=t):(n=t,a=this);for(var l=0,v=0;v<a.length;v++)r=(n.words[v]|0)+(a.words[v]|0)+l,this.words[v]=r&67108863,l=r>>>26;for(;l!==0&&v<n.length;v++)r=(n.words[v]|0)+l,this.words[v]=r&67108863,l=r>>>26;if(this.length=n.length,l!==0)this.words[this.length]=l,this.length++;else if(n!==this)for(;v<n.length;v++)this.words[v]=n.words[v];return this},i.prototype.add=function(t){var r;return t.negative!==0&&this.negative===0?(t.negative=0,r=this.sub(t),t.negative^=1,r):t.negative===0&&this.negative!==0?(this.negative=0,r=t.sub(this),this.negative=1,r):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var r=this.iadd(t);return t.negative=1,r._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n=this.cmp(t);if(n===0)return this.negative=0,this.length=1,this.words[0]=0,this;var a,l;n>0?(a=this,l=t):(a=t,l=this);for(var v=0,b=0;b<l.length;b++)r=(a.words[b]|0)-(l.words[b]|0)+v,v=r>>26,this.words[b]=r&67108863;for(;v!==0&&b<a.length;b++)r=(a.words[b]|0)+v,v=r>>26,this.words[b]=r&67108863;if(v===0&&b<a.length&&a!==this)for(;b<a.length;b++)this.words[b]=a.words[b];return this.length=Math.max(this.length,b),a!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(t){return this.clone().isub(t)};function S(d,t,r){r.negative=t.negative^d.negative;var n=d.length+t.length|0;r.length=n,n=n-1|0;var a=d.words[0]|0,l=t.words[0]|0,v=a*l,b=v&67108863,u=v/67108864|0;r.words[0]=b;for(var e=1;e<n;e++){for(var c=u>>>26,q=u&67108863,N=Math.min(e,t.length-1),L=Math.max(0,e-d.length+1);L<=N;L++){var $=e-L|0;a=d.words[$]|0,l=t.words[L]|0,v=a*l+q,c+=v/67108864|0,q=v&67108863}r.words[e]=q|0,u=c|0}return u!==0?r.words[e]=u|0:r.length--,r.strip()}var R=function(t,r,n){var a=t.words,l=r.words,v=n.words,b=0,u,e,c,q=a[0]|0,N=q&8191,L=q>>>13,$=a[1]|0,V=$&8191,z=$>>>13,G=a[2]|0,U=G&8191,A=G>>>13,j=a[3]|0,Z=j&8191,W=j>>>13,Dt=a[4]|0,at=Dt&8191,nt=Dt>>>13,Ft=a[5]|0,lt=Ft&8191,ut=Ft>>>13,kt=a[6]|0,st=kt&8191,it=kt>>>13,Ct=a[7]|0,et=Ct&8191,tt=Ct>>>13,qt=a[8]|0,X=qt&8191,rt=qt>>>13,Lt=a[9]|0,Q=Lt&8191,ot=Lt>>>13,Ut=l[0]|0,ft=Ut&8191,ht=Ut>>>13,zt=l[1]|0,Et=zt&8191,St=zt>>>13,ae=l[2]|0,xt=ae&8191,At=ae>>>13,Ee=l[3]|0,It=Ee&8191,dt=Ee>>>13,Gt=l[4]|0,pt=Gt&8191,vt=Gt>>>13,Wt=l[5]|0,ct=Wt&8191,bt=Wt>>>13,Yt=l[6]|0,yt=Yt&8191,wt=Yt>>>13,Jt=l[7]|0,gt=Jt&8191,mt=Jt>>>13,$t=l[8]|0,Mt=$t&8191,_t=$t>>>13,Re=l[9]|0,Rt=Re&8191,Bt=Re>>>13;n.negative=t.negative^r.negative,n.length=19,u=Math.imul(N,ft),e=Math.imul(N,ht),e=e+Math.imul(L,ft)|0,c=Math.imul(L,ht);var Xt=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,u=Math.imul(V,ft),e=Math.imul(V,ht),e=e+Math.imul(z,ft)|0,c=Math.imul(z,ht),u=u+Math.imul(N,Et)|0,e=e+Math.imul(N,St)|0,e=e+Math.imul(L,Et)|0,c=c+Math.imul(L,St)|0;var fe=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(fe>>>26)|0,fe&=67108863,u=Math.imul(U,ft),e=Math.imul(U,ht),e=e+Math.imul(A,ft)|0,c=Math.imul(A,ht),u=u+Math.imul(V,Et)|0,e=e+Math.imul(V,St)|0,e=e+Math.imul(z,Et)|0,c=c+Math.imul(z,St)|0,u=u+Math.imul(N,xt)|0,e=e+Math.imul(N,At)|0,e=e+Math.imul(L,xt)|0,c=c+Math.imul(L,At)|0;var he=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(he>>>26)|0,he&=67108863,u=Math.imul(Z,ft),e=Math.imul(Z,ht),e=e+Math.imul(W,ft)|0,c=Math.imul(W,ht),u=u+Math.imul(U,Et)|0,e=e+Math.imul(U,St)|0,e=e+Math.imul(A,Et)|0,c=c+Math.imul(A,St)|0,u=u+Math.imul(V,xt)|0,e=e+Math.imul(V,At)|0,e=e+Math.imul(z,xt)|0,c=c+Math.imul(z,At)|0,u=u+Math.imul(N,It)|0,e=e+Math.imul(N,dt)|0,e=e+Math.imul(L,It)|0,c=c+Math.imul(L,dt)|0;var ue=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ue>>>26)|0,ue&=67108863,u=Math.imul(at,ft),e=Math.imul(at,ht),e=e+Math.imul(nt,ft)|0,c=Math.imul(nt,ht),u=u+Math.imul(Z,Et)|0,e=e+Math.imul(Z,St)|0,e=e+Math.imul(W,Et)|0,c=c+Math.imul(W,St)|0,u=u+Math.imul(U,xt)|0,e=e+Math.imul(U,At)|0,e=e+Math.imul(A,xt)|0,c=c+Math.imul(A,At)|0,u=u+Math.imul(V,It)|0,e=e+Math.imul(V,dt)|0,e=e+Math.imul(z,It)|0,c=c+Math.imul(z,dt)|0,u=u+Math.imul(N,pt)|0,e=e+Math.imul(N,vt)|0,e=e+Math.imul(L,pt)|0,c=c+Math.imul(L,vt)|0;var ce=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ce>>>26)|0,ce&=67108863,u=Math.imul(lt,ft),e=Math.imul(lt,ht),e=e+Math.imul(ut,ft)|0,c=Math.imul(ut,ht),u=u+Math.imul(at,Et)|0,e=e+Math.imul(at,St)|0,e=e+Math.imul(nt,Et)|0,c=c+Math.imul(nt,St)|0,u=u+Math.imul(Z,xt)|0,e=e+Math.imul(Z,At)|0,e=e+Math.imul(W,xt)|0,c=c+Math.imul(W,At)|0,u=u+Math.imul(U,It)|0,e=e+Math.imul(U,dt)|0,e=e+Math.imul(A,It)|0,c=c+Math.imul(A,dt)|0,u=u+Math.imul(V,pt)|0,e=e+Math.imul(V,vt)|0,e=e+Math.imul(z,pt)|0,c=c+Math.imul(z,vt)|0,u=u+Math.imul(N,ct)|0,e=e+Math.imul(N,bt)|0,e=e+Math.imul(L,ct)|0,c=c+Math.imul(L,bt)|0;var le=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(le>>>26)|0,le&=67108863,u=Math.imul(st,ft),e=Math.imul(st,ht),e=e+Math.imul(it,ft)|0,c=Math.imul(it,ht),u=u+Math.imul(lt,Et)|0,e=e+Math.imul(lt,St)|0,e=e+Math.imul(ut,Et)|0,c=c+Math.imul(ut,St)|0,u=u+Math.imul(at,xt)|0,e=e+Math.imul(at,At)|0,e=e+Math.imul(nt,xt)|0,c=c+Math.imul(nt,At)|0,u=u+Math.imul(Z,It)|0,e=e+Math.imul(Z,dt)|0,e=e+Math.imul(W,It)|0,c=c+Math.imul(W,dt)|0,u=u+Math.imul(U,pt)|0,e=e+Math.imul(U,vt)|0,e=e+Math.imul(A,pt)|0,c=c+Math.imul(A,vt)|0,u=u+Math.imul(V,ct)|0,e=e+Math.imul(V,bt)|0,e=e+Math.imul(z,ct)|0,c=c+Math.imul(z,bt)|0,u=u+Math.imul(N,yt)|0,e=e+Math.imul(N,wt)|0,e=e+Math.imul(L,yt)|0,c=c+Math.imul(L,wt)|0;var ee=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ee>>>26)|0,ee&=67108863,u=Math.imul(et,ft),e=Math.imul(et,ht),e=e+Math.imul(tt,ft)|0,c=Math.imul(tt,ht),u=u+Math.imul(st,Et)|0,e=e+Math.imul(st,St)|0,e=e+Math.imul(it,Et)|0,c=c+Math.imul(it,St)|0,u=u+Math.imul(lt,xt)|0,e=e+Math.imul(lt,At)|0,e=e+Math.imul(ut,xt)|0,c=c+Math.imul(ut,At)|0,u=u+Math.imul(at,It)|0,e=e+Math.imul(at,dt)|0,e=e+Math.imul(nt,It)|0,c=c+Math.imul(nt,dt)|0,u=u+Math.imul(Z,pt)|0,e=e+Math.imul(Z,vt)|0,e=e+Math.imul(W,pt)|0,c=c+Math.imul(W,vt)|0,u=u+Math.imul(U,ct)|0,e=e+Math.imul(U,bt)|0,e=e+Math.imul(A,ct)|0,c=c+Math.imul(A,bt)|0,u=u+Math.imul(V,yt)|0,e=e+Math.imul(V,wt)|0,e=e+Math.imul(z,yt)|0,c=c+Math.imul(z,wt)|0,u=u+Math.imul(N,gt)|0,e=e+Math.imul(N,mt)|0,e=e+Math.imul(L,gt)|0,c=c+Math.imul(L,mt)|0;var de=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(de>>>26)|0,de&=67108863,u=Math.imul(X,ft),e=Math.imul(X,ht),e=e+Math.imul(rt,ft)|0,c=Math.imul(rt,ht),u=u+Math.imul(et,Et)|0,e=e+Math.imul(et,St)|0,e=e+Math.imul(tt,Et)|0,c=c+Math.imul(tt,St)|0,u=u+Math.imul(st,xt)|0,e=e+Math.imul(st,At)|0,e=e+Math.imul(it,xt)|0,c=c+Math.imul(it,At)|0,u=u+Math.imul(lt,It)|0,e=e+Math.imul(lt,dt)|0,e=e+Math.imul(ut,It)|0,c=c+Math.imul(ut,dt)|0,u=u+Math.imul(at,pt)|0,e=e+Math.imul(at,vt)|0,e=e+Math.imul(nt,pt)|0,c=c+Math.imul(nt,vt)|0,u=u+Math.imul(Z,ct)|0,e=e+Math.imul(Z,bt)|0,e=e+Math.imul(W,ct)|0,c=c+Math.imul(W,bt)|0,u=u+Math.imul(U,yt)|0,e=e+Math.imul(U,wt)|0,e=e+Math.imul(A,yt)|0,c=c+Math.imul(A,wt)|0,u=u+Math.imul(V,gt)|0,e=e+Math.imul(V,mt)|0,e=e+Math.imul(z,gt)|0,c=c+Math.imul(z,mt)|0,u=u+Math.imul(N,Mt)|0,e=e+Math.imul(N,_t)|0,e=e+Math.imul(L,Mt)|0,c=c+Math.imul(L,_t)|0;var pe=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(pe>>>26)|0,pe&=67108863,u=Math.imul(Q,ft),e=Math.imul(Q,ht),e=e+Math.imul(ot,ft)|0,c=Math.imul(ot,ht),u=u+Math.imul(X,Et)|0,e=e+Math.imul(X,St)|0,e=e+Math.imul(rt,Et)|0,c=c+Math.imul(rt,St)|0,u=u+Math.imul(et,xt)|0,e=e+Math.imul(et,At)|0,e=e+Math.imul(tt,xt)|0,c=c+Math.imul(tt,At)|0,u=u+Math.imul(st,It)|0,e=e+Math.imul(st,dt)|0,e=e+Math.imul(it,It)|0,c=c+Math.imul(it,dt)|0,u=u+Math.imul(lt,pt)|0,e=e+Math.imul(lt,vt)|0,e=e+Math.imul(ut,pt)|0,c=c+Math.imul(ut,vt)|0,u=u+Math.imul(at,ct)|0,e=e+Math.imul(at,bt)|0,e=e+Math.imul(nt,ct)|0,c=c+Math.imul(nt,bt)|0,u=u+Math.imul(Z,yt)|0,e=e+Math.imul(Z,wt)|0,e=e+Math.imul(W,yt)|0,c=c+Math.imul(W,wt)|0,u=u+Math.imul(U,gt)|0,e=e+Math.imul(U,mt)|0,e=e+Math.imul(A,gt)|0,c=c+Math.imul(A,mt)|0,u=u+Math.imul(V,Mt)|0,e=e+Math.imul(V,_t)|0,e=e+Math.imul(z,Mt)|0,c=c+Math.imul(z,_t)|0,u=u+Math.imul(N,Rt)|0,e=e+Math.imul(N,Bt)|0,e=e+Math.imul(L,Rt)|0,c=c+Math.imul(L,Bt)|0;var ve=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ve>>>26)|0,ve&=67108863,u=Math.imul(Q,Et),e=Math.imul(Q,St),e=e+Math.imul(ot,Et)|0,c=Math.imul(ot,St),u=u+Math.imul(X,xt)|0,e=e+Math.imul(X,At)|0,e=e+Math.imul(rt,xt)|0,c=c+Math.imul(rt,At)|0,u=u+Math.imul(et,It)|0,e=e+Math.imul(et,dt)|0,e=e+Math.imul(tt,It)|0,c=c+Math.imul(tt,dt)|0,u=u+Math.imul(st,pt)|0,e=e+Math.imul(st,vt)|0,e=e+Math.imul(it,pt)|0,c=c+Math.imul(it,vt)|0,u=u+Math.imul(lt,ct)|0,e=e+Math.imul(lt,bt)|0,e=e+Math.imul(ut,ct)|0,c=c+Math.imul(ut,bt)|0,u=u+Math.imul(at,yt)|0,e=e+Math.imul(at,wt)|0,e=e+Math.imul(nt,yt)|0,c=c+Math.imul(nt,wt)|0,u=u+Math.imul(Z,gt)|0,e=e+Math.imul(Z,mt)|0,e=e+Math.imul(W,gt)|0,c=c+Math.imul(W,mt)|0,u=u+Math.imul(U,Mt)|0,e=e+Math.imul(U,_t)|0,e=e+Math.imul(A,Mt)|0,c=c+Math.imul(A,_t)|0,u=u+Math.imul(V,Rt)|0,e=e+Math.imul(V,Bt)|0,e=e+Math.imul(z,Rt)|0,c=c+Math.imul(z,Bt)|0;var me=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(me>>>26)|0,me&=67108863,u=Math.imul(Q,xt),e=Math.imul(Q,At),e=e+Math.imul(ot,xt)|0,c=Math.imul(ot,At),u=u+Math.imul(X,It)|0,e=e+Math.imul(X,dt)|0,e=e+Math.imul(rt,It)|0,c=c+Math.imul(rt,dt)|0,u=u+Math.imul(et,pt)|0,e=e+Math.imul(et,vt)|0,e=e+Math.imul(tt,pt)|0,c=c+Math.imul(tt,vt)|0,u=u+Math.imul(st,ct)|0,e=e+Math.imul(st,bt)|0,e=e+Math.imul(it,ct)|0,c=c+Math.imul(it,bt)|0,u=u+Math.imul(lt,yt)|0,e=e+Math.imul(lt,wt)|0,e=e+Math.imul(ut,yt)|0,c=c+Math.imul(ut,wt)|0,u=u+Math.imul(at,gt)|0,e=e+Math.imul(at,mt)|0,e=e+Math.imul(nt,gt)|0,c=c+Math.imul(nt,mt)|0,u=u+Math.imul(Z,Mt)|0,e=e+Math.imul(Z,_t)|0,e=e+Math.imul(W,Mt)|0,c=c+Math.imul(W,_t)|0,u=u+Math.imul(U,Rt)|0,e=e+Math.imul(U,Bt)|0,e=e+Math.imul(A,Rt)|0,c=c+Math.imul(A,Bt)|0;var ge=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ge>>>26)|0,ge&=67108863,u=Math.imul(Q,It),e=Math.imul(Q,dt),e=e+Math.imul(ot,It)|0,c=Math.imul(ot,dt),u=u+Math.imul(X,pt)|0,e=e+Math.imul(X,vt)|0,e=e+Math.imul(rt,pt)|0,c=c+Math.imul(rt,vt)|0,u=u+Math.imul(et,ct)|0,e=e+Math.imul(et,bt)|0,e=e+Math.imul(tt,ct)|0,c=c+Math.imul(tt,bt)|0,u=u+Math.imul(st,yt)|0,e=e+Math.imul(st,wt)|0,e=e+Math.imul(it,yt)|0,c=c+Math.imul(it,wt)|0,u=u+Math.imul(lt,gt)|0,e=e+Math.imul(lt,mt)|0,e=e+Math.imul(ut,gt)|0,c=c+Math.imul(ut,mt)|0,u=u+Math.imul(at,Mt)|0,e=e+Math.imul(at,_t)|0,e=e+Math.imul(nt,Mt)|0,c=c+Math.imul(nt,_t)|0,u=u+Math.imul(Z,Rt)|0,e=e+Math.imul(Z,Bt)|0,e=e+Math.imul(W,Rt)|0,c=c+Math.imul(W,Bt)|0;var ie=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ie>>>26)|0,ie&=67108863,u=Math.imul(Q,pt),e=Math.imul(Q,vt),e=e+Math.imul(ot,pt)|0,c=Math.imul(ot,vt),u=u+Math.imul(X,ct)|0,e=e+Math.imul(X,bt)|0,e=e+Math.imul(rt,ct)|0,c=c+Math.imul(rt,bt)|0,u=u+Math.imul(et,yt)|0,e=e+Math.imul(et,wt)|0,e=e+Math.imul(tt,yt)|0,c=c+Math.imul(tt,wt)|0,u=u+Math.imul(st,gt)|0,e=e+Math.imul(st,mt)|0,e=e+Math.imul(it,gt)|0,c=c+Math.imul(it,mt)|0,u=u+Math.imul(lt,Mt)|0,e=e+Math.imul(lt,_t)|0,e=e+Math.imul(ut,Mt)|0,c=c+Math.imul(ut,_t)|0,u=u+Math.imul(at,Rt)|0,e=e+Math.imul(at,Bt)|0,e=e+Math.imul(nt,Rt)|0,c=c+Math.imul(nt,Bt)|0;var be=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(be>>>26)|0,be&=67108863,u=Math.imul(Q,ct),e=Math.imul(Q,bt),e=e+Math.imul(ot,ct)|0,c=Math.imul(ot,bt),u=u+Math.imul(X,yt)|0,e=e+Math.imul(X,wt)|0,e=e+Math.imul(rt,yt)|0,c=c+Math.imul(rt,wt)|0,u=u+Math.imul(et,gt)|0,e=e+Math.imul(et,mt)|0,e=e+Math.imul(tt,gt)|0,c=c+Math.imul(tt,mt)|0,u=u+Math.imul(st,Mt)|0,e=e+Math.imul(st,_t)|0,e=e+Math.imul(it,Mt)|0,c=c+Math.imul(it,_t)|0,u=u+Math.imul(lt,Rt)|0,e=e+Math.imul(lt,Bt)|0,e=e+Math.imul(ut,Rt)|0,c=c+Math.imul(ut,Bt)|0;var ye=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ye>>>26)|0,ye&=67108863,u=Math.imul(Q,yt),e=Math.imul(Q,wt),e=e+Math.imul(ot,yt)|0,c=Math.imul(ot,wt),u=u+Math.imul(X,gt)|0,e=e+Math.imul(X,mt)|0,e=e+Math.imul(rt,gt)|0,c=c+Math.imul(rt,mt)|0,u=u+Math.imul(et,Mt)|0,e=e+Math.imul(et,_t)|0,e=e+Math.imul(tt,Mt)|0,c=c+Math.imul(tt,_t)|0,u=u+Math.imul(st,Rt)|0,e=e+Math.imul(st,Bt)|0,e=e+Math.imul(it,Rt)|0,c=c+Math.imul(it,Bt)|0;var te=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(te>>>26)|0,te&=67108863,u=Math.imul(Q,gt),e=Math.imul(Q,mt),e=e+Math.imul(ot,gt)|0,c=Math.imul(ot,mt),u=u+Math.imul(X,Mt)|0,e=e+Math.imul(X,_t)|0,e=e+Math.imul(rt,Mt)|0,c=c+Math.imul(rt,_t)|0,u=u+Math.imul(et,Rt)|0,e=e+Math.imul(et,Bt)|0,e=e+Math.imul(tt,Rt)|0,c=c+Math.imul(tt,Bt)|0;var we=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(we>>>26)|0,we&=67108863,u=Math.imul(Q,Mt),e=Math.imul(Q,_t),e=e+Math.imul(ot,Mt)|0,c=Math.imul(ot,_t),u=u+Math.imul(X,Rt)|0,e=e+Math.imul(X,Bt)|0,e=e+Math.imul(rt,Rt)|0,c=c+Math.imul(rt,Bt)|0;var Me=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(Me>>>26)|0,Me&=67108863,u=Math.imul(Q,Rt),e=Math.imul(Q,Bt),e=e+Math.imul(ot,Rt)|0,c=Math.imul(ot,Bt);var _e=(b+u|0)+((e&8191)<<13)|0;return b=(c+(e>>>13)|0)+(_e>>>26)|0,_e&=67108863,v[0]=Xt,v[1]=fe,v[2]=he,v[3]=ue,v[4]=ce,v[5]=le,v[6]=ee,v[7]=de,v[8]=pe,v[9]=ve,v[10]=me,v[11]=ge,v[12]=ie,v[13]=be,v[14]=ye,v[15]=te,v[16]=we,v[17]=Me,v[18]=_e,b!==0&&(v[19]=b,n.length++),n};Math.imul||(R=S);function P(d,t,r){r.negative=t.negative^d.negative,r.length=d.length+t.length;for(var n=0,a=0,l=0;l<r.length-1;l++){var v=a;a=0;for(var b=n&67108863,u=Math.min(l,t.length-1),e=Math.max(0,l-d.length+1);e<=u;e++){var c=l-e,q=d.words[c]|0,N=t.words[e]|0,L=q*N,$=L&67108863;v=v+(L/67108864|0)|0,$=$+b|0,b=$&67108863,v=v+($>>>26)|0,a+=v>>>26,v&=67108863}r.words[l]=b,n=v,v=a}return n!==0?r.words[l]=n:r.length--,r.strip()}function O(d,t,r){var n=new B;return n.mulp(d,t,r)}i.prototype.mulTo=function(t,r){var n,a=this.length+t.length;return this.length===10&&t.length===10?n=R(this,t,r):a<63?n=S(this,t,r):a<1024?n=P(this,t,r):n=O(this,t,r),n};function B(d,t){this.x=d,this.y=t}B.prototype.makeRBT=function(t){for(var r=new Array(t),n=i.prototype._countBits(t)-1,a=0;a<t;a++)r[a]=this.revBin(a,n,t);return r},B.prototype.revBin=function(t,r,n){if(t===0||t===n-1)return t;for(var a=0,l=0;l<r;l++)a|=(t&1)<<r-l-1,t>>=1;return a},B.prototype.permute=function(t,r,n,a,l,v){for(var b=0;b<v;b++)a[b]=r[t[b]],l[b]=n[t[b]]},B.prototype.transform=function(t,r,n,a,l,v){this.permute(v,t,r,n,a,l);for(var b=1;b<l;b<<=1)for(var u=b<<1,e=Math.cos(2*Math.PI/u),c=Math.sin(2*Math.PI/u),q=0;q<l;q+=u)for(var N=e,L=c,$=0;$<b;$++){var V=n[q+$],z=a[q+$],G=n[q+$+b],U=a[q+$+b],A=N*G-L*U;U=N*U+L*G,G=A,n[q+$]=V+G,a[q+$]=z+U,n[q+$+b]=V-G,a[q+$+b]=z-U,$!==u&&(A=e*N-c*L,L=e*L+c*N,N=A)}},B.prototype.guessLen13b=function(t,r){var n=Math.max(r,t)|1,a=n&1,l=0;for(n=n/2|0;n;n=n>>>1)l++;return 1<<l+1+a},B.prototype.conjugate=function(t,r,n){if(!(n<=1))for(var a=0;a<n/2;a++){var l=t[a];t[a]=t[n-a-1],t[n-a-1]=l,l=r[a],r[a]=-r[n-a-1],r[n-a-1]=-l}},B.prototype.normalize13b=function(t,r){for(var n=0,a=0;a<r/2;a++){var l=Math.round(t[2*a+1]/r)*8192+Math.round(t[2*a]/r)+n;t[a]=l&67108863,l<67108864?n=0:n=l/67108864|0}return t},B.prototype.convert13b=function(t,r,n,a){for(var l=0,v=0;v<r;v++)l=l+(t[v]|0),n[2*v]=l&8191,l=l>>>13,n[2*v+1]=l&8191,l=l>>>13;for(v=2*r;v<a;++v)n[v]=0;o(l===0),o((l&-8192)===0)},B.prototype.stub=function(t){for(var r=new Array(t),n=0;n<t;n++)r[n]=0;return r},B.prototype.mulp=function(t,r,n){var a=2*this.guessLen13b(t.length,r.length),l=this.makeRBT(a),v=this.stub(a),b=new Array(a),u=new Array(a),e=new Array(a),c=new Array(a),q=new Array(a),N=new Array(a),L=n.words;L.length=a,this.convert13b(t.words,t.length,b,a),this.convert13b(r.words,r.length,c,a),this.transform(b,v,u,e,a,l),this.transform(c,v,q,N,a,l);for(var $=0;$<a;$++){var V=u[$]*q[$]-e[$]*N[$];e[$]=u[$]*N[$]+e[$]*q[$],u[$]=V}return this.conjugate(u,e,a),this.transform(u,e,L,v,a,l),this.conjugate(L,v,a),this.normalize13b(L,a),n.negative=t.negative^r.negative,n.length=t.length+r.length,n.strip()},i.prototype.mul=function(t){var r=new i(null);return r.words=new Array(this.length+t.length),this.mulTo(t,r)},i.prototype.mulf=function(t){var r=new i(null);return r.words=new Array(this.length+t.length),O(this,t,r)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){o(typeof t=="number"),o(t<67108864);for(var r=0,n=0;n<this.length;n++){var a=(this.words[n]|0)*t,l=(a&67108863)+(r&67108863);r>>=26,r+=a/67108864|0,r+=l>>>26,this.words[n]=l&67108863}return r!==0&&(this.words[n]=r,this.length++),this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var r=E(t);if(r.length===0)return new i(1);for(var n=this,a=0;a<r.length&&r[a]===0;a++,n=n.sqr());if(++a<r.length)for(var l=n.sqr();a<r.length;a++,l=l.sqr())r[a]!==0&&(n=n.mul(l));return n},i.prototype.iushln=function(t){o(typeof t=="number"&&t>=0);var r=t%26,n=(t-r)/26,a=67108863>>>26-r<<26-r,l;if(r!==0){var v=0;for(l=0;l<this.length;l++){var b=this.words[l]&a,u=(this.words[l]|0)-b<<r;this.words[l]=u|v,v=b>>>26-r}v&&(this.words[l]=v,this.length++)}if(n!==0){for(l=this.length-1;l>=0;l--)this.words[l+n]=this.words[l];for(l=0;l<n;l++)this.words[l]=0;this.length+=n}return this.strip()},i.prototype.ishln=function(t){return o(this.negative===0),this.iushln(t)},i.prototype.iushrn=function(t,r,n){o(typeof t=="number"&&t>=0);var a;r?a=(r-r%26)/26:a=0;var l=t%26,v=Math.min((t-l)/26,this.length),b=67108863^67108863>>>l<<l,u=n;if(a-=v,a=Math.max(0,a),u){for(var e=0;e<v;e++)u.words[e]=this.words[e];u.length=v}if(v!==0)if(this.length>v)for(this.length-=v,e=0;e<this.length;e++)this.words[e]=this.words[e+v];else this.words[0]=0,this.length=1;var c=0;for(e=this.length-1;e>=0&&(c!==0||e>=a);e--){var q=this.words[e]|0;this.words[e]=c<<26-l|q>>>l,c=q&b}return u&&c!==0&&(u.words[u.length++]=c),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(t,r,n){return o(this.negative===0),this.iushrn(t,r,n)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){o(typeof t=="number"&&t>=0);var r=t%26,n=(t-r)/26,a=1<<r;if(this.length<=n)return!1;var l=this.words[n];return!!(l&a)},i.prototype.imaskn=function(t){o(typeof t=="number"&&t>=0);var r=t%26,n=(t-r)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=n)return this;if(r!==0&&n++,this.length=Math.min(n,this.length),r!==0){var a=67108863^67108863>>>r<<r;this.words[this.length-1]&=a}return this.strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return o(typeof t=="number"),o(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var r=0;r<this.length&&this.words[r]>=67108864;r++)this.words[r]-=67108864,r===this.length-1?this.words[r+1]=1:this.words[r+1]++;return this.length=Math.max(this.length,r+1),this},i.prototype.isubn=function(t){if(o(typeof t=="number"),o(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var r=0;r<this.length&&this.words[r]<0;r++)this.words[r]+=67108864,this.words[r+1]-=1;return this.strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,r,n){var a=t.length+n,l;this._expand(a);var v,b=0;for(l=0;l<t.length;l++){v=(this.words[l+n]|0)+b;var u=(t.words[l]|0)*r;v-=u&67108863,b=(v>>26)-(u/67108864|0),this.words[l+n]=v&67108863}for(;l<this.length-n;l++)v=(this.words[l+n]|0)+b,b=v>>26,this.words[l+n]=v&67108863;if(b===0)return this.strip();for(o(b===-1),b=0,l=0;l<this.length;l++)v=-(this.words[l]|0)+b,b=v>>26,this.words[l]=v&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(t,r){var n=this.length-t.length,a=this.clone(),l=t,v=l.words[l.length-1]|0,b=this._countBits(v);n=26-b,n!==0&&(l=l.ushln(n),a.iushln(n),v=l.words[l.length-1]|0);var u=a.length-l.length,e;if(r!=="mod"){e=new i(null),e.length=u+1,e.words=new Array(e.length);for(var c=0;c<e.length;c++)e.words[c]=0}var q=a.clone()._ishlnsubmul(l,1,u);q.negative===0&&(a=q,e&&(e.words[u]=1));for(var N=u-1;N>=0;N--){var L=(a.words[l.length+N]|0)*67108864+(a.words[l.length+N-1]|0);for(L=Math.min(L/v|0,67108863),a._ishlnsubmul(l,L,N);a.negative!==0;)L--,a.negative=0,a._ishlnsubmul(l,1,N),a.isZero()||(a.negative^=1);e&&(e.words[N]=L)}return e&&e.strip(),a.strip(),r!=="div"&&n!==0&&a.iushrn(n),{div:e||null,mod:a}},i.prototype.divmod=function(t,r,n){if(o(!t.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var a,l,v;return this.negative!==0&&t.negative===0?(v=this.neg().divmod(t,r),r!=="mod"&&(a=v.div.neg()),r!=="div"&&(l=v.mod.neg(),n&&l.negative!==0&&l.iadd(t)),{div:a,mod:l}):this.negative===0&&t.negative!==0?(v=this.divmod(t.neg(),r),r!=="mod"&&(a=v.div.neg()),{div:a,mod:v.mod}):(this.negative&t.negative)!==0?(v=this.neg().divmod(t.neg(),r),r!=="div"&&(l=v.mod.neg(),n&&l.negative!==0&&l.isub(t)),{div:v.div,mod:l}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:t.length===1?r==="div"?{div:this.divn(t.words[0]),mod:null}:r==="mod"?{div:null,mod:new i(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modn(t.words[0]))}:this._wordDiv(t,r)},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var r=this.divmod(t);if(r.mod.isZero())return r.div;var n=r.div.negative!==0?r.mod.isub(t):r.mod,a=t.ushrn(1),l=t.andln(1),v=n.cmp(a);return v<0||l===1&&v===0?r.div:r.div.negative!==0?r.div.isubn(1):r.div.iaddn(1)},i.prototype.modn=function(t){o(t<=67108863);for(var r=(1<<26)%t,n=0,a=this.length-1;a>=0;a--)n=(r*n+(this.words[a]|0))%t;return n},i.prototype.idivn=function(t){o(t<=67108863);for(var r=0,n=this.length-1;n>=0;n--){var a=(this.words[n]|0)+r*67108864;this.words[n]=a/t|0,r=a%t}return this.strip()},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){o(t.negative===0),o(!t.isZero());var r=this,n=t.clone();r.negative!==0?r=r.umod(t):r=r.clone();for(var a=new i(1),l=new i(0),v=new i(0),b=new i(1),u=0;r.isEven()&&n.isEven();)r.iushrn(1),n.iushrn(1),++u;for(var e=n.clone(),c=r.clone();!r.isZero();){for(var q=0,N=1;(r.words[0]&N)===0&&q<26;++q,N<<=1);if(q>0)for(r.iushrn(q);q-- >0;)(a.isOdd()||l.isOdd())&&(a.iadd(e),l.isub(c)),a.iushrn(1),l.iushrn(1);for(var L=0,$=1;(n.words[0]&$)===0&&L<26;++L,$<<=1);if(L>0)for(n.iushrn(L);L-- >0;)(v.isOdd()||b.isOdd())&&(v.iadd(e),b.isub(c)),v.iushrn(1),b.iushrn(1);r.cmp(n)>=0?(r.isub(n),a.isub(v),l.isub(b)):(n.isub(r),v.isub(a),b.isub(l))}return{a:v,b,gcd:n.iushln(u)}},i.prototype._invmp=function(t){o(t.negative===0),o(!t.isZero());var r=this,n=t.clone();r.negative!==0?r=r.umod(t):r=r.clone();for(var a=new i(1),l=new i(0),v=n.clone();r.cmpn(1)>0&&n.cmpn(1)>0;){for(var b=0,u=1;(r.words[0]&u)===0&&b<26;++b,u<<=1);if(b>0)for(r.iushrn(b);b-- >0;)a.isOdd()&&a.iadd(v),a.iushrn(1);for(var e=0,c=1;(n.words[0]&c)===0&&e<26;++e,c<<=1);if(e>0)for(n.iushrn(e);e-- >0;)l.isOdd()&&l.iadd(v),l.iushrn(1);r.cmp(n)>=0?(r.isub(n),a.isub(l)):(n.isub(r),l.isub(a))}var q;return r.cmpn(1)===0?q=a:q=l,q.cmpn(0)<0&&q.iadd(t),q},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var r=this.clone(),n=t.clone();r.negative=0,n.negative=0;for(var a=0;r.isEven()&&n.isEven();a++)r.iushrn(1),n.iushrn(1);do{for(;r.isEven();)r.iushrn(1);for(;n.isEven();)n.iushrn(1);var l=r.cmp(n);if(l<0){var v=r;r=n,n=v}else if(l===0||n.cmpn(1)===0)break;r.isub(n)}while(!0);return n.iushln(a)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){o(typeof t=="number");var r=t%26,n=(t-r)/26,a=1<<r;if(this.length<=n)return this._expand(n+1),this.words[n]|=a,this;for(var l=a,v=n;l!==0&&v<this.length;v++){var b=this.words[v]|0;b+=l,l=b>>>26,b&=67108863,this.words[v]=b}return l!==0&&(this.words[v]=l,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(t){var r=t<0;if(this.negative!==0&&!r)return-1;if(this.negative===0&&r)return 1;this.strip();var n;if(this.length>1)n=1;else{r&&(t=-t),o(t<=67108863,"Number is too big");var a=this.words[0]|0;n=a===t?0:a<t?-1:1}return this.negative!==0?-n|0:n},i.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var r=this.ucmp(t);return this.negative!==0?-r|0:r},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var r=0,n=this.length-1;n>=0;n--){var a=this.words[n]|0,l=t.words[n]|0;if(a!==l){a<l?r=-1:a>l&&(r=1);break}}return r},i.prototype.gtn=function(t){return this.cmpn(t)===1},i.prototype.gt=function(t){return this.cmp(t)===1},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return this.cmpn(t)===-1},i.prototype.lt=function(t){return this.cmp(t)===-1},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return this.cmpn(t)===0},i.prototype.eq=function(t){return this.cmp(t)===0},i.red=function(t){return new K(t)},i.prototype.toRed=function(t){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return o(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return o(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var C={k256:null,p224:null,p192:null,p25519:null};function T(d,t){this.name=d,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}T.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},T.prototype.ireduce=function(t){var r=t,n;do this.split(r,this.tmp),r=this.imulK(r),r=r.iadd(this.tmp),n=r.bitLength();while(n>this.n);var a=n<this.n?-1:r.ucmp(this.p);return a===0?(r.words[0]=0,r.length=1):a>0?r.isub(this.p):r.strip!==void 0?r.strip():r._strip(),r},T.prototype.split=function(t,r){t.iushrn(this.n,0,r)},T.prototype.imulK=function(t){return t.imul(this.k)};function F(){T.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}p(F,T),F.prototype.split=function(t,r){for(var n=4194303,a=Math.min(t.length,9),l=0;l<a;l++)r.words[l]=t.words[l];if(r.length=a,t.length<=9){t.words[0]=0,t.length=1;return}var v=t.words[9];for(r.words[r.length++]=v&n,l=10;l<t.length;l++){var b=t.words[l]|0;t.words[l-10]=(b&n)<<4|v>>>22,v=b}v>>>=22,t.words[l-10]=v,v===0&&t.length>10?t.length-=10:t.length-=9},F.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var r=0,n=0;n<t.length;n++){var a=t.words[n]|0;r+=a*977,t.words[n]=r&67108863,r=a*64+(r/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function D(){T.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}p(D,T);function I(){T.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}p(I,T);function k(){T.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}p(k,T),k.prototype.imulK=function(t){for(var r=0,n=0;n<t.length;n++){var a=(t.words[n]|0)*19+r,l=a&67108863;a>>>=26,t.words[n]=l,r=a}return r!==0&&(t.words[t.length++]=r),t},i._prime=function(t){if(C[t])return C[t];var r;if(t==="k256")r=new F;else if(t==="p224")r=new D;else if(t==="p192")r=new I;else if(t==="p25519")r=new k;else throw new Error("Unknown prime "+t);return C[t]=r,r};function K(d){if(typeof d=="string"){var t=i._prime(d);this.m=t.p,this.prime=t}else o(d.gtn(1),"modulus must be greater than 1"),this.m=d,this.prime=null}K.prototype._verify1=function(t){o(t.negative===0,"red works only with positives"),o(t.red,"red works only with red numbers")},K.prototype._verify2=function(t,r){o((t.negative|r.negative)===0,"red works only with positives"),o(t.red&&t.red===r.red,"red works only with red numbers")},K.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},K.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},K.prototype.add=function(t,r){this._verify2(t,r);var n=t.add(r);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},K.prototype.iadd=function(t,r){this._verify2(t,r);var n=t.iadd(r);return n.cmp(this.m)>=0&&n.isub(this.m),n},K.prototype.sub=function(t,r){this._verify2(t,r);var n=t.sub(r);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},K.prototype.isub=function(t,r){this._verify2(t,r);var n=t.isub(r);return n.cmpn(0)<0&&n.iadd(this.m),n},K.prototype.shl=function(t,r){return this._verify1(t),this.imod(t.ushln(r))},K.prototype.imul=function(t,r){return this._verify2(t,r),this.imod(t.imul(r))},K.prototype.mul=function(t,r){return this._verify2(t,r),this.imod(t.mul(r))},K.prototype.isqr=function(t){return this.imul(t,t.clone())},K.prototype.sqr=function(t){return this.mul(t,t)},K.prototype.sqrt=function(t){if(t.isZero())return t.clone();var r=this.m.andln(3);if(o(r%2===1),r===3){var n=this.m.add(new i(1)).iushrn(2);return this.pow(t,n)}for(var a=this.m.subn(1),l=0;!a.isZero()&&a.andln(1)===0;)l++,a.iushrn(1);o(!a.isZero());var v=new i(1).toRed(this),b=v.redNeg(),u=this.m.subn(1).iushrn(1),e=this.m.bitLength();for(e=new i(2*e*e).toRed(this);this.pow(e,u).cmp(b)!==0;)e.redIAdd(b);for(var c=this.pow(e,a),q=this.pow(t,a.addn(1).iushrn(1)),N=this.pow(t,a),L=l;N.cmp(v)!==0;){for(var $=N,V=0;$.cmp(v)!==0;V++)$=$.redSqr();o(V<L);var z=this.pow(c,new i(1).iushln(L-V-1));q=q.redMul(z),c=z.redSqr(),N=N.redMul(c),L=V}return q},K.prototype.invm=function(t){var r=t._invmp(this.m);return r.negative!==0?(r.negative=0,this.imod(r).redNeg()):this.imod(r)},K.prototype.pow=function(t,r){if(r.isZero())return new i(1).toRed(this);if(r.cmpn(1)===0)return t.clone();var n=4,a=new Array(1<<n);a[0]=new i(1).toRed(this),a[1]=t;for(var l=2;l<a.length;l++)a[l]=this.mul(a[l-1],t);var v=a[0],b=0,u=0,e=r.bitLength()%26;for(e===0&&(e=26),l=r.length-1;l>=0;l--){for(var c=r.words[l],q=e-1;q>=0;q--){var N=c>>q&1;if(v!==a[0]&&(v=this.sqr(v)),N===0&&b===0){u=0;continue}b<<=1,b|=N,u++,!(u!==n&&(l!==0||q!==0))&&(v=this.mul(v,a[b]),u=0,b=0)}e=26}return v},K.prototype.convertTo=function(t){var r=t.umod(this.m);return r===t?r.clone():r},K.prototype.convertFrom=function(t){var r=t.clone();return r.red=null,r},i.mont=function(t){return new Y(t)};function Y(d){K.call(this,d),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}p(Y,K),Y.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},Y.prototype.convertFrom=function(t){var r=this.imod(t.mul(this.rinv));return r.red=null,r},Y.prototype.imul=function(t,r){if(t.isZero()||r.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(r),a=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=n.isub(a).iushrn(this.shift),v=l;return l.cmp(this.m)>=0?v=l.isub(this.m):l.cmpn(0)<0&&(v=l.iadd(this.m)),v._forceRed(this)},Y.prototype.mul=function(t,r){if(t.isZero()||r.isZero())return new i(0)._forceRed(this);var n=t.mul(r),a=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=n.isub(a).iushrn(this.shift),v=l;return l.cmp(this.m)>=0?v=l.isub(this.m):l.cmpn(0)<0&&(v=l.iadd(this.m)),v._forceRed(this)},Y.prototype.invm=function(t){var r=this.imod(t._invmp(this.m).mul(this.r2));return r._forceRed(this)}})(f,Zt)}(gs)),gs.exports}var Xi={exports:{}},Gf;function Ga(){if(Gf)return Xi.exports;Gf=1;var f;Xi.exports=function(p){return f||(f=new s(null)),f.generate(p)};function s(o){this.rand=o}if(Xi.exports.Rand=s,s.prototype.generate=function(p){return this._rand(p)},s.prototype._rand=function(p){if(this.rand.getBytes)return this.rand.getBytes(p);for(var i=new Uint8Array(p),M=0;M<i.length;M++)i[M]=this.rand.getByte();return i},typeof self=="object")self.crypto&&self.crypto.getRandomValues?s.prototype._rand=function(p){var i=new Uint8Array(p);return self.crypto.getRandomValues(i),i}:self.msCrypto&&self.msCrypto.getRandomValues?s.prototype._rand=function(p){var i=new Uint8Array(p);return self.msCrypto.getRandomValues(i),i}:typeof window=="object"&&(s.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var h=Nu();if(typeof h.randomBytes!="function")throw new Error("Not supported");s.prototype._rand=function(p){return h.randomBytes(p)}}catch{}return Xi.exports}var bs,Zf;function bu(){if(Zf)return bs;Zf=1;var f=c1(),s=Ga();function h(o){this.rand=o||new s.Rand}return bs=h,h.create=function(p){return new h(p)},h.prototype._randbelow=function(p){var i=p.bitLength(),M=Math.ceil(i/8);do var w=new f(this.rand.generate(M));while(w.cmp(p)>=0);return w},h.prototype._randrange=function(p,i){var M=i.sub(p);return p.add(this._randbelow(M))},h.prototype.test=function(p,i,M){var w=p.bitLength(),y=f.mont(p),g=new f(1).toRed(y);i||(i=Math.max(1,w/48|0));for(var m=p.subn(1),_=0;!m.testn(_);_++);for(var x=p.shrn(_),E=m.toRed(y),S=!0;i>0;i--){var R=this._randrange(new f(2),m);M&&M(R);var P=R.toRed(y).redPow(x);if(!(P.cmp(g)===0||P.cmp(E)===0)){for(var O=1;O<_;O++){if(P=P.redSqr(),P.cmp(g)===0)return!1;if(P.cmp(E)===0)break}if(O===_)return!1}}return S},h.prototype.getDivisor=function(p,i){var M=p.bitLength(),w=f.mont(p),y=new f(1).toRed(w);i||(i=Math.max(1,M/48|0));for(var g=p.subn(1),m=0;!g.testn(m);m++);for(var _=p.shrn(m),x=g.toRed(w);i>0;i--){var E=this._randrange(new f(2),g),S=p.gcd(E);if(S.cmpn(1)!==0)return S;var R=E.toRed(w).redPow(_);if(!(R.cmp(y)===0||R.cmp(x)===0)){for(var P=1;P<m;P++){if(R=R.redSqr(),R.cmp(y)===0)return R.fromRed().subn(1).gcd(p);if(R.cmp(x)===0)break}if(P===m)return R=R.redSqr(),R.fromRed().subn(1).gcd(p)}}return!1},bs}var ys,Wf;function yu(){if(Wf)return ys;Wf=1;var f=ri();ys=P,P.simpleSieve=S,P.fermatTest=R;var s=gu(),h=new s(24),o=bu(),p=new o,i=new s(1),M=new s(2),w=new s(5);new s(16),new s(8);var y=new s(10),g=new s(3);new s(7);var m=new s(11),_=new s(4);new s(12);var x=null;function E(){if(x!==null)return x;var O=1048576,B=[];B[0]=2;for(var C=1,T=3;T<O;T+=2){for(var F=Math.ceil(Math.sqrt(T)),D=0;D<C&&B[D]<=F&&T%B[D]!==0;D++);C!==D&&B[D]<=F||(B[C++]=T)}return x=B,B}function S(O){for(var B=E(),C=0;C<B.length;C++)if(O.modn(B[C])===0)return O.cmpn(B[C])===0;return!0}function R(O){var B=s.mont(O);return M.toRed(B).redPow(O.subn(1)).fromRed().cmpn(1)===0}function P(O,B){if(O<16)return B===2||B===5?new s([140,123]):new s([140,39]);B=new s(B);for(var C,T;;){for(C=new s(f(Math.ceil(O/8)));C.bitLength()>O;)C.ishrn(1);if(C.isEven()&&C.iadd(i),C.testn(1)||C.iadd(M),B.cmp(M)){if(!B.cmp(w))for(;C.mod(y).cmp(g);)C.iadd(_)}else for(;C.mod(h).cmp(m);)C.iadd(_);if(T=C.shrn(1),S(T)&&S(C)&&R(T)&&R(C)&&p.test(T)&&p.test(C))return C}}return ys}const l1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},d1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},p1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},v1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},m1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},g1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},b1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},y1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},w1={modp1:l1,modp2:d1,modp5:p1,modp14:v1,modp15:m1,modp16:g1,modp17:b1,modp18:y1};var ws,Yf;function M1(){if(Yf)return ws;Yf=1;var f=gu(),s=bu(),h=new s,o=new f(24),p=new f(11),i=new f(10),M=new f(3),w=new f(7),y=yu(),g=ri();ws=S;function m(P,O){return O=O||"utf8",Vt.Buffer.isBuffer(P)||(P=new Vt.Buffer(P,O)),this._pub=new f(P),this}function _(P,O){return O=O||"utf8",Vt.Buffer.isBuffer(P)||(P=new Vt.Buffer(P,O)),this._priv=new f(P),this}var x={};function E(P,O){var B=O.toString("hex"),C=[B,P.toString(16)].join("_");if(C in x)return x[C];var T=0;if(P.isEven()||!y.simpleSieve||!y.fermatTest(P)||!h.test(P))return T+=1,B==="02"||B==="05"?T+=8:T+=4,x[C]=T,T;h.test(P.shrn(1))||(T+=2);var F;switch(B){case"02":P.mod(o).cmp(p)&&(T+=8);break;case"05":F=P.mod(i),F.cmp(M)&&F.cmp(w)&&(T+=8);break;default:T+=4}return x[C]=T,T}function S(P,O,B){this.setGenerator(O),this.__prime=new f(P),this._prime=f.mont(this.__prime),this._primeLen=P.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,B?(this.setPublicKey=m,this.setPrivateKey=_):this._primeCode=8}Object.defineProperty(S.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=E(this.__prime,this.__gen)),this._primeCode}}),S.prototype.generateKeys=function(){return this._priv||(this._priv=new f(g(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},S.prototype.computeSecret=function(P){P=new f(P),P=P.toRed(this._prime);var O=P.redPow(this._priv).fromRed(),B=new Vt.Buffer(O.toArray()),C=this.getPrime();if(B.length<C.length){var T=new Vt.Buffer(C.length-B.length);T.fill(0),B=Vt.Buffer.concat([T,B])}return B},S.prototype.getPublicKey=function(O){return R(this._pub,O)},S.prototype.getPrivateKey=function(O){return R(this._priv,O)},S.prototype.getPrime=function(P){return R(this.__prime,P)},S.prototype.getGenerator=function(P){return R(this._gen,P)},S.prototype.setGenerator=function(P,O){return O=O||"utf8",Vt.Buffer.isBuffer(P)||(P=new Vt.Buffer(P,O)),this.__gen=P,this._gen=new f(P),this};function R(P,O){var B=new Vt.Buffer(P.toArray());return O?B.toString(O):B}return ws}var Jf;function _1(){if(Jf)return Ur;Jf=1;var f=yu(),s=w1,h=M1();function o(M){var w=new Vt.Buffer(s[M].prime,"hex"),y=new Vt.Buffer(s[M].gen,"hex");return new h(w,y)}var p={binary:!0,hex:!0,base64:!0};function i(M,w,y,g){return Vt.Buffer.isBuffer(w)||p[w]===void 0?i(M,"binary",w,y):(w=w||"binary",g=g||"binary",y=y||new Vt.Buffer([2]),Vt.Buffer.isBuffer(y)||(y=new Vt.Buffer(y,g)),typeof M=="number"?new h(f(M,y),y,!0):(Vt.Buffer.isBuffer(M)||(M=new Vt.Buffer(M,w)),new h(M,y,!0)))}return Ur.DiffieHellmanGroup=Ur.createDiffieHellmanGroup=Ur.getDiffieHellman=o,Ur.createDiffieHellman=Ur.DiffieHellman=i,Ur}var bi={exports:{}},Ms,Xf;function Za(){if(Xf)return Ms;Xf=1;var f=ka.exports,s=ri();function h(i){var M=o(i),w=M.toRed(f.mont(i.modulus)).redPow(new f(i.publicExponent)).fromRed();return{blinder:w,unblinder:M.invm(i.modulus)}}function o(i){var M=i.modulus.byteLength(),w;do w=new f(s(M));while(w.cmp(i.modulus)>=0||!w.umod(i.prime1)||!w.umod(i.prime2));return w}function p(i,M){var w=h(M),y=M.modulus.byteLength(),g=new f(i).mul(w.blinder).umod(M.modulus),m=g.toRed(f.mont(M.prime1)),_=g.toRed(f.mont(M.prime2)),x=M.coefficient,E=M.prime1,S=M.prime2,R=m.redPow(M.exponent1).fromRed(),P=_.redPow(M.exponent2).fromRed(),O=R.isub(P).imul(x).umod(E).imul(S);return P.iadd(O).imul(w.unblinder).umod(M.modulus).toArrayLike(Vt.Buffer,"be",y)}return p.getr=o,Ms=p,Ms}var _s={};const x1="elliptic",E1="6.5.4",S1="EC cryptography",A1="lib/elliptic.js",I1=["lib"],R1={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},B1={type:"git",url:"git@github.com:indutny/elliptic"},P1=["EC","Elliptic","curve","Cryptography"],T1="Fedor Indutny <fedor@indutny.com>",N1="MIT",O1={url:"https://github.com/indutny/elliptic/issues"},q1="https://github.com/indutny/elliptic",C1={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},D1={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},L1={name:x1,version:E1,description:S1,main:A1,files:I1,scripts:R1,repository:B1,keywords:P1,author:T1,license:N1,bugs:O1,homepage:q1,devDependencies:C1,dependencies:D1};var xs={},Es={exports:{}},Qf;function Er(){return Qf||(Qf=1,function(f){(function(s,h){function o(d,t){if(!d)throw new Error(t||"Assertion failed")}function p(d,t){d.super_=t;var r=function(){};r.prototype=t.prototype,d.prototype=new r,d.prototype.constructor=d}function i(d,t,r){if(i.isBN(d))return d;this.negative=0,this.words=null,this.length=0,this.red=null,d!==null&&((t==="le"||t==="be")&&(r=t,t=10),this._init(d||0,t||10,r||"be"))}typeof s=="object"?s.exports=i:h.BN=i,i.BN=i,i.wordSize=26;var M;try{typeof window<"u"&&typeof window.Buffer<"u"?M=window.Buffer:M=Vt.Buffer}catch{}i.isBN=function(t){return t instanceof i?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,r){return t.cmp(r)>0?t:r},i.min=function(t,r){return t.cmp(r)<0?t:r},i.prototype._init=function(t,r,n){if(typeof t=="number")return this._initNumber(t,r,n);if(typeof t=="object")return this._initArray(t,r,n);r==="hex"&&(r=16),o(r===(r|0)&&r>=2&&r<=36),t=t.toString().replace(/\s+/g,"");var a=0;t[0]==="-"&&(a++,this.negative=1),a<t.length&&(r===16?this._parseHex(t,a,n):(this._parseBase(t,r,a),n==="le"&&this._initArray(this.toArray(),r,n)))},i.prototype._initNumber=function(t,r,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(o(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),n==="le"&&this._initArray(this.toArray(),r,n)},i.prototype._initArray=function(t,r,n){if(o(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var l,v,b=0;if(n==="be")for(a=t.length-1,l=0;a>=0;a-=3)v=t[a]|t[a-1]<<8|t[a-2]<<16,this.words[l]|=v<<b&67108863,this.words[l+1]=v>>>26-b&67108863,b+=24,b>=26&&(b-=26,l++);else if(n==="le")for(a=0,l=0;a<t.length;a+=3)v=t[a]|t[a+1]<<8|t[a+2]<<16,this.words[l]|=v<<b&67108863,this.words[l+1]=v>>>26-b&67108863,b+=24,b>=26&&(b-=26,l++);return this.strip()};function w(d,t){var r=d.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function y(d,t,r){var n=w(d,r);return r-1>=t&&(n|=w(d,r-1)<<4),n}i.prototype._parseHex=function(t,r,n){this.length=Math.ceil((t.length-r)/6),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var l=0,v=0,b;if(n==="be")for(a=t.length-1;a>=r;a-=2)b=y(t,r,a)<<l,this.words[v]|=b&67108863,l>=18?(l-=18,v+=1,this.words[v]|=b>>>26):l+=8;else{var u=t.length-r;for(a=u%2===0?r+1:r;a<t.length;a+=2)b=y(t,r,a)<<l,this.words[v]|=b&67108863,l>=18?(l-=18,v+=1,this.words[v]|=b>>>26):l+=8}this.strip()};function g(d,t,r,n){for(var a=0,l=Math.min(d.length,r),v=t;v<l;v++){var b=d.charCodeAt(v)-48;a*=n,b>=49?a+=b-49+10:b>=17?a+=b-17+10:a+=b}return a}i.prototype._parseBase=function(t,r,n){this.words=[0],this.length=1;for(var a=0,l=1;l<=67108863;l*=r)a++;a--,l=l/r|0;for(var v=t.length-n,b=v%a,u=Math.min(v,v-b)+n,e=0,c=n;c<u;c+=a)e=g(t,c,c+a,r),this.imuln(l),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e);if(b!==0){var q=1;for(e=g(t,c,t.length,r),c=0;c<b;c++)q*=r;this.imuln(q),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e)}this.strip()},i.prototype.copy=function(t){t.words=new Array(this.length);for(var r=0;r<this.length;r++)t.words[r]=this.words[r];t.length=this.length,t.negative=this.negative,t.red=this.red},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(t,r){t=t||10,r=r|0||1;var n;if(t===16||t==="hex"){n="";for(var a=0,l=0,v=0;v<this.length;v++){var b=this.words[v],u=((b<<a|l)&16777215).toString(16);l=b>>>24-a&16777215,l!==0||v!==this.length-1?n=m[6-u.length]+u+n:n=u+n,a+=2,a>=26&&(a-=26,v--)}for(l!==0&&(n=l.toString(16)+n);n.length%r!==0;)n="0"+n;return this.negative!==0&&(n="-"+n),n}if(t===(t|0)&&t>=2&&t<=36){var e=_[t],c=x[t];n="";var q=this.clone();for(q.negative=0;!q.isZero();){var N=q.modn(c).toString(t);q=q.idivn(c),q.isZero()?n=N+n:n=m[e-N.length]+N+n}for(this.isZero()&&(n="0"+n);n.length%r!==0;)n="0"+n;return this.negative!==0&&(n="-"+n),n}o(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(t,r){return o(typeof M<"u"),this.toArrayLike(M,t,r)},i.prototype.toArray=function(t,r){return this.toArrayLike(Array,t,r)},i.prototype.toArrayLike=function(t,r,n){var a=this.byteLength(),l=n||Math.max(1,a);o(a<=l,"byte array longer than desired length"),o(l>0,"Requested array length <= 0"),this.strip();var v=r==="le",b=new t(l),u,e,c=this.clone();if(v){for(e=0;!c.isZero();e++)u=c.andln(255),c.iushrn(8),b[e]=u;for(;e<l;e++)b[e]=0}else{for(e=0;e<l-a;e++)b[e]=0;for(e=0;!c.isZero();e++)u=c.andln(255),c.iushrn(8),b[l-e-1]=u}return b},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var r=t,n=0;return r>=4096&&(n+=13,r>>>=13),r>=64&&(n+=7,r>>>=7),r>=8&&(n+=4,r>>>=4),r>=2&&(n+=2,r>>>=2),n+r},i.prototype._zeroBits=function(t){if(t===0)return 26;var r=t,n=0;return(r&8191)===0&&(n+=13,r>>>=13),(r&127)===0&&(n+=7,r>>>=7),(r&15)===0&&(n+=4,r>>>=4),(r&3)===0&&(n+=2,r>>>=2),(r&1)===0&&n++,n},i.prototype.bitLength=function(){var t=this.words[this.length-1],r=this._countBits(t);return(this.length-1)*26+r};function E(d){for(var t=new Array(d.bitLength()),r=0;r<t.length;r++){var n=r/26|0,a=r%26;t[r]=(d.words[n]&1<<a)>>>a}return t}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,r=0;r<this.length;r++){var n=this._zeroBits(this.words[r]);if(t+=n,n!==26)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]|t.words[r];return this.strip()},i.prototype.ior=function(t){return o((this.negative|t.negative)===0),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var r;this.length>t.length?r=t:r=this;for(var n=0;n<r.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=r.length,this.strip()},i.prototype.iand=function(t){return o((this.negative|t.negative)===0),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var r,n;this.length>t.length?(r=this,n=t):(r=t,n=this);for(var a=0;a<n.length;a++)this.words[a]=r.words[a]^n.words[a];if(this!==r)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=r.length,this.strip()},i.prototype.ixor=function(t){return o((this.negative|t.negative)===0),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){o(typeof t=="number"&&t>=0);var r=Math.ceil(t/26)|0,n=t%26;this._expand(r),n>0&&r--;for(var a=0;a<r;a++)this.words[a]=~this.words[a]&67108863;return n>0&&(this.words[a]=~this.words[a]&67108863>>26-n),this.strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,r){o(typeof t=="number"&&t>=0);var n=t/26|0,a=t%26;return this._expand(n+1),r?this.words[n]=this.words[n]|1<<a:this.words[n]=this.words[n]&~(1<<a),this.strip()},i.prototype.iadd=function(t){var r;if(this.negative!==0&&t.negative===0)return this.negative=0,r=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,r=this.isub(t),t.negative=1,r._normSign();var n,a;this.length>t.length?(n=this,a=t):(n=t,a=this);for(var l=0,v=0;v<a.length;v++)r=(n.words[v]|0)+(a.words[v]|0)+l,this.words[v]=r&67108863,l=r>>>26;for(;l!==0&&v<n.length;v++)r=(n.words[v]|0)+l,this.words[v]=r&67108863,l=r>>>26;if(this.length=n.length,l!==0)this.words[this.length]=l,this.length++;else if(n!==this)for(;v<n.length;v++)this.words[v]=n.words[v];return this},i.prototype.add=function(t){var r;return t.negative!==0&&this.negative===0?(t.negative=0,r=this.sub(t),t.negative^=1,r):t.negative===0&&this.negative!==0?(this.negative=0,r=t.sub(this),this.negative=1,r):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var r=this.iadd(t);return t.negative=1,r._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n=this.cmp(t);if(n===0)return this.negative=0,this.length=1,this.words[0]=0,this;var a,l;n>0?(a=this,l=t):(a=t,l=this);for(var v=0,b=0;b<l.length;b++)r=(a.words[b]|0)-(l.words[b]|0)+v,v=r>>26,this.words[b]=r&67108863;for(;v!==0&&b<a.length;b++)r=(a.words[b]|0)+v,v=r>>26,this.words[b]=r&67108863;if(v===0&&b<a.length&&a!==this)for(;b<a.length;b++)this.words[b]=a.words[b];return this.length=Math.max(this.length,b),a!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(t){return this.clone().isub(t)};function S(d,t,r){r.negative=t.negative^d.negative;var n=d.length+t.length|0;r.length=n,n=n-1|0;var a=d.words[0]|0,l=t.words[0]|0,v=a*l,b=v&67108863,u=v/67108864|0;r.words[0]=b;for(var e=1;e<n;e++){for(var c=u>>>26,q=u&67108863,N=Math.min(e,t.length-1),L=Math.max(0,e-d.length+1);L<=N;L++){var $=e-L|0;a=d.words[$]|0,l=t.words[L]|0,v=a*l+q,c+=v/67108864|0,q=v&67108863}r.words[e]=q|0,u=c|0}return u!==0?r.words[e]=u|0:r.length--,r.strip()}var R=function(t,r,n){var a=t.words,l=r.words,v=n.words,b=0,u,e,c,q=a[0]|0,N=q&8191,L=q>>>13,$=a[1]|0,V=$&8191,z=$>>>13,G=a[2]|0,U=G&8191,A=G>>>13,j=a[3]|0,Z=j&8191,W=j>>>13,Dt=a[4]|0,at=Dt&8191,nt=Dt>>>13,Ft=a[5]|0,lt=Ft&8191,ut=Ft>>>13,kt=a[6]|0,st=kt&8191,it=kt>>>13,Ct=a[7]|0,et=Ct&8191,tt=Ct>>>13,qt=a[8]|0,X=qt&8191,rt=qt>>>13,Lt=a[9]|0,Q=Lt&8191,ot=Lt>>>13,Ut=l[0]|0,ft=Ut&8191,ht=Ut>>>13,zt=l[1]|0,Et=zt&8191,St=zt>>>13,ae=l[2]|0,xt=ae&8191,At=ae>>>13,Ee=l[3]|0,It=Ee&8191,dt=Ee>>>13,Gt=l[4]|0,pt=Gt&8191,vt=Gt>>>13,Wt=l[5]|0,ct=Wt&8191,bt=Wt>>>13,Yt=l[6]|0,yt=Yt&8191,wt=Yt>>>13,Jt=l[7]|0,gt=Jt&8191,mt=Jt>>>13,$t=l[8]|0,Mt=$t&8191,_t=$t>>>13,Re=l[9]|0,Rt=Re&8191,Bt=Re>>>13;n.negative=t.negative^r.negative,n.length=19,u=Math.imul(N,ft),e=Math.imul(N,ht),e=e+Math.imul(L,ft)|0,c=Math.imul(L,ht);var Xt=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,u=Math.imul(V,ft),e=Math.imul(V,ht),e=e+Math.imul(z,ft)|0,c=Math.imul(z,ht),u=u+Math.imul(N,Et)|0,e=e+Math.imul(N,St)|0,e=e+Math.imul(L,Et)|0,c=c+Math.imul(L,St)|0;var fe=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(fe>>>26)|0,fe&=67108863,u=Math.imul(U,ft),e=Math.imul(U,ht),e=e+Math.imul(A,ft)|0,c=Math.imul(A,ht),u=u+Math.imul(V,Et)|0,e=e+Math.imul(V,St)|0,e=e+Math.imul(z,Et)|0,c=c+Math.imul(z,St)|0,u=u+Math.imul(N,xt)|0,e=e+Math.imul(N,At)|0,e=e+Math.imul(L,xt)|0,c=c+Math.imul(L,At)|0;var he=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(he>>>26)|0,he&=67108863,u=Math.imul(Z,ft),e=Math.imul(Z,ht),e=e+Math.imul(W,ft)|0,c=Math.imul(W,ht),u=u+Math.imul(U,Et)|0,e=e+Math.imul(U,St)|0,e=e+Math.imul(A,Et)|0,c=c+Math.imul(A,St)|0,u=u+Math.imul(V,xt)|0,e=e+Math.imul(V,At)|0,e=e+Math.imul(z,xt)|0,c=c+Math.imul(z,At)|0,u=u+Math.imul(N,It)|0,e=e+Math.imul(N,dt)|0,e=e+Math.imul(L,It)|0,c=c+Math.imul(L,dt)|0;var ue=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ue>>>26)|0,ue&=67108863,u=Math.imul(at,ft),e=Math.imul(at,ht),e=e+Math.imul(nt,ft)|0,c=Math.imul(nt,ht),u=u+Math.imul(Z,Et)|0,e=e+Math.imul(Z,St)|0,e=e+Math.imul(W,Et)|0,c=c+Math.imul(W,St)|0,u=u+Math.imul(U,xt)|0,e=e+Math.imul(U,At)|0,e=e+Math.imul(A,xt)|0,c=c+Math.imul(A,At)|0,u=u+Math.imul(V,It)|0,e=e+Math.imul(V,dt)|0,e=e+Math.imul(z,It)|0,c=c+Math.imul(z,dt)|0,u=u+Math.imul(N,pt)|0,e=e+Math.imul(N,vt)|0,e=e+Math.imul(L,pt)|0,c=c+Math.imul(L,vt)|0;var ce=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ce>>>26)|0,ce&=67108863,u=Math.imul(lt,ft),e=Math.imul(lt,ht),e=e+Math.imul(ut,ft)|0,c=Math.imul(ut,ht),u=u+Math.imul(at,Et)|0,e=e+Math.imul(at,St)|0,e=e+Math.imul(nt,Et)|0,c=c+Math.imul(nt,St)|0,u=u+Math.imul(Z,xt)|0,e=e+Math.imul(Z,At)|0,e=e+Math.imul(W,xt)|0,c=c+Math.imul(W,At)|0,u=u+Math.imul(U,It)|0,e=e+Math.imul(U,dt)|0,e=e+Math.imul(A,It)|0,c=c+Math.imul(A,dt)|0,u=u+Math.imul(V,pt)|0,e=e+Math.imul(V,vt)|0,e=e+Math.imul(z,pt)|0,c=c+Math.imul(z,vt)|0,u=u+Math.imul(N,ct)|0,e=e+Math.imul(N,bt)|0,e=e+Math.imul(L,ct)|0,c=c+Math.imul(L,bt)|0;var le=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(le>>>26)|0,le&=67108863,u=Math.imul(st,ft),e=Math.imul(st,ht),e=e+Math.imul(it,ft)|0,c=Math.imul(it,ht),u=u+Math.imul(lt,Et)|0,e=e+Math.imul(lt,St)|0,e=e+Math.imul(ut,Et)|0,c=c+Math.imul(ut,St)|0,u=u+Math.imul(at,xt)|0,e=e+Math.imul(at,At)|0,e=e+Math.imul(nt,xt)|0,c=c+Math.imul(nt,At)|0,u=u+Math.imul(Z,It)|0,e=e+Math.imul(Z,dt)|0,e=e+Math.imul(W,It)|0,c=c+Math.imul(W,dt)|0,u=u+Math.imul(U,pt)|0,e=e+Math.imul(U,vt)|0,e=e+Math.imul(A,pt)|0,c=c+Math.imul(A,vt)|0,u=u+Math.imul(V,ct)|0,e=e+Math.imul(V,bt)|0,e=e+Math.imul(z,ct)|0,c=c+Math.imul(z,bt)|0,u=u+Math.imul(N,yt)|0,e=e+Math.imul(N,wt)|0,e=e+Math.imul(L,yt)|0,c=c+Math.imul(L,wt)|0;var ee=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ee>>>26)|0,ee&=67108863,u=Math.imul(et,ft),e=Math.imul(et,ht),e=e+Math.imul(tt,ft)|0,c=Math.imul(tt,ht),u=u+Math.imul(st,Et)|0,e=e+Math.imul(st,St)|0,e=e+Math.imul(it,Et)|0,c=c+Math.imul(it,St)|0,u=u+Math.imul(lt,xt)|0,e=e+Math.imul(lt,At)|0,e=e+Math.imul(ut,xt)|0,c=c+Math.imul(ut,At)|0,u=u+Math.imul(at,It)|0,e=e+Math.imul(at,dt)|0,e=e+Math.imul(nt,It)|0,c=c+Math.imul(nt,dt)|0,u=u+Math.imul(Z,pt)|0,e=e+Math.imul(Z,vt)|0,e=e+Math.imul(W,pt)|0,c=c+Math.imul(W,vt)|0,u=u+Math.imul(U,ct)|0,e=e+Math.imul(U,bt)|0,e=e+Math.imul(A,ct)|0,c=c+Math.imul(A,bt)|0,u=u+Math.imul(V,yt)|0,e=e+Math.imul(V,wt)|0,e=e+Math.imul(z,yt)|0,c=c+Math.imul(z,wt)|0,u=u+Math.imul(N,gt)|0,e=e+Math.imul(N,mt)|0,e=e+Math.imul(L,gt)|0,c=c+Math.imul(L,mt)|0;var de=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(de>>>26)|0,de&=67108863,u=Math.imul(X,ft),e=Math.imul(X,ht),e=e+Math.imul(rt,ft)|0,c=Math.imul(rt,ht),u=u+Math.imul(et,Et)|0,e=e+Math.imul(et,St)|0,e=e+Math.imul(tt,Et)|0,c=c+Math.imul(tt,St)|0,u=u+Math.imul(st,xt)|0,e=e+Math.imul(st,At)|0,e=e+Math.imul(it,xt)|0,c=c+Math.imul(it,At)|0,u=u+Math.imul(lt,It)|0,e=e+Math.imul(lt,dt)|0,e=e+Math.imul(ut,It)|0,c=c+Math.imul(ut,dt)|0,u=u+Math.imul(at,pt)|0,e=e+Math.imul(at,vt)|0,e=e+Math.imul(nt,pt)|0,c=c+Math.imul(nt,vt)|0,u=u+Math.imul(Z,ct)|0,e=e+Math.imul(Z,bt)|0,e=e+Math.imul(W,ct)|0,c=c+Math.imul(W,bt)|0,u=u+Math.imul(U,yt)|0,e=e+Math.imul(U,wt)|0,e=e+Math.imul(A,yt)|0,c=c+Math.imul(A,wt)|0,u=u+Math.imul(V,gt)|0,e=e+Math.imul(V,mt)|0,e=e+Math.imul(z,gt)|0,c=c+Math.imul(z,mt)|0,u=u+Math.imul(N,Mt)|0,e=e+Math.imul(N,_t)|0,e=e+Math.imul(L,Mt)|0,c=c+Math.imul(L,_t)|0;var pe=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(pe>>>26)|0,pe&=67108863,u=Math.imul(Q,ft),e=Math.imul(Q,ht),e=e+Math.imul(ot,ft)|0,c=Math.imul(ot,ht),u=u+Math.imul(X,Et)|0,e=e+Math.imul(X,St)|0,e=e+Math.imul(rt,Et)|0,c=c+Math.imul(rt,St)|0,u=u+Math.imul(et,xt)|0,e=e+Math.imul(et,At)|0,e=e+Math.imul(tt,xt)|0,c=c+Math.imul(tt,At)|0,u=u+Math.imul(st,It)|0,e=e+Math.imul(st,dt)|0,e=e+Math.imul(it,It)|0,c=c+Math.imul(it,dt)|0,u=u+Math.imul(lt,pt)|0,e=e+Math.imul(lt,vt)|0,e=e+Math.imul(ut,pt)|0,c=c+Math.imul(ut,vt)|0,u=u+Math.imul(at,ct)|0,e=e+Math.imul(at,bt)|0,e=e+Math.imul(nt,ct)|0,c=c+Math.imul(nt,bt)|0,u=u+Math.imul(Z,yt)|0,e=e+Math.imul(Z,wt)|0,e=e+Math.imul(W,yt)|0,c=c+Math.imul(W,wt)|0,u=u+Math.imul(U,gt)|0,e=e+Math.imul(U,mt)|0,e=e+Math.imul(A,gt)|0,c=c+Math.imul(A,mt)|0,u=u+Math.imul(V,Mt)|0,e=e+Math.imul(V,_t)|0,e=e+Math.imul(z,Mt)|0,c=c+Math.imul(z,_t)|0,u=u+Math.imul(N,Rt)|0,e=e+Math.imul(N,Bt)|0,e=e+Math.imul(L,Rt)|0,c=c+Math.imul(L,Bt)|0;var ve=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ve>>>26)|0,ve&=67108863,u=Math.imul(Q,Et),e=Math.imul(Q,St),e=e+Math.imul(ot,Et)|0,c=Math.imul(ot,St),u=u+Math.imul(X,xt)|0,e=e+Math.imul(X,At)|0,e=e+Math.imul(rt,xt)|0,c=c+Math.imul(rt,At)|0,u=u+Math.imul(et,It)|0,e=e+Math.imul(et,dt)|0,e=e+Math.imul(tt,It)|0,c=c+Math.imul(tt,dt)|0,u=u+Math.imul(st,pt)|0,e=e+Math.imul(st,vt)|0,e=e+Math.imul(it,pt)|0,c=c+Math.imul(it,vt)|0,u=u+Math.imul(lt,ct)|0,e=e+Math.imul(lt,bt)|0,e=e+Math.imul(ut,ct)|0,c=c+Math.imul(ut,bt)|0,u=u+Math.imul(at,yt)|0,e=e+Math.imul(at,wt)|0,e=e+Math.imul(nt,yt)|0,c=c+Math.imul(nt,wt)|0,u=u+Math.imul(Z,gt)|0,e=e+Math.imul(Z,mt)|0,e=e+Math.imul(W,gt)|0,c=c+Math.imul(W,mt)|0,u=u+Math.imul(U,Mt)|0,e=e+Math.imul(U,_t)|0,e=e+Math.imul(A,Mt)|0,c=c+Math.imul(A,_t)|0,u=u+Math.imul(V,Rt)|0,e=e+Math.imul(V,Bt)|0,e=e+Math.imul(z,Rt)|0,c=c+Math.imul(z,Bt)|0;var me=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(me>>>26)|0,me&=67108863,u=Math.imul(Q,xt),e=Math.imul(Q,At),e=e+Math.imul(ot,xt)|0,c=Math.imul(ot,At),u=u+Math.imul(X,It)|0,e=e+Math.imul(X,dt)|0,e=e+Math.imul(rt,It)|0,c=c+Math.imul(rt,dt)|0,u=u+Math.imul(et,pt)|0,e=e+Math.imul(et,vt)|0,e=e+Math.imul(tt,pt)|0,c=c+Math.imul(tt,vt)|0,u=u+Math.imul(st,ct)|0,e=e+Math.imul(st,bt)|0,e=e+Math.imul(it,ct)|0,c=c+Math.imul(it,bt)|0,u=u+Math.imul(lt,yt)|0,e=e+Math.imul(lt,wt)|0,e=e+Math.imul(ut,yt)|0,c=c+Math.imul(ut,wt)|0,u=u+Math.imul(at,gt)|0,e=e+Math.imul(at,mt)|0,e=e+Math.imul(nt,gt)|0,c=c+Math.imul(nt,mt)|0,u=u+Math.imul(Z,Mt)|0,e=e+Math.imul(Z,_t)|0,e=e+Math.imul(W,Mt)|0,c=c+Math.imul(W,_t)|0,u=u+Math.imul(U,Rt)|0,e=e+Math.imul(U,Bt)|0,e=e+Math.imul(A,Rt)|0,c=c+Math.imul(A,Bt)|0;var ge=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ge>>>26)|0,ge&=67108863,u=Math.imul(Q,It),e=Math.imul(Q,dt),e=e+Math.imul(ot,It)|0,c=Math.imul(ot,dt),u=u+Math.imul(X,pt)|0,e=e+Math.imul(X,vt)|0,e=e+Math.imul(rt,pt)|0,c=c+Math.imul(rt,vt)|0,u=u+Math.imul(et,ct)|0,e=e+Math.imul(et,bt)|0,e=e+Math.imul(tt,ct)|0,c=c+Math.imul(tt,bt)|0,u=u+Math.imul(st,yt)|0,e=e+Math.imul(st,wt)|0,e=e+Math.imul(it,yt)|0,c=c+Math.imul(it,wt)|0,u=u+Math.imul(lt,gt)|0,e=e+Math.imul(lt,mt)|0,e=e+Math.imul(ut,gt)|0,c=c+Math.imul(ut,mt)|0,u=u+Math.imul(at,Mt)|0,e=e+Math.imul(at,_t)|0,e=e+Math.imul(nt,Mt)|0,c=c+Math.imul(nt,_t)|0,u=u+Math.imul(Z,Rt)|0,e=e+Math.imul(Z,Bt)|0,e=e+Math.imul(W,Rt)|0,c=c+Math.imul(W,Bt)|0;var ie=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ie>>>26)|0,ie&=67108863,u=Math.imul(Q,pt),e=Math.imul(Q,vt),e=e+Math.imul(ot,pt)|0,c=Math.imul(ot,vt),u=u+Math.imul(X,ct)|0,e=e+Math.imul(X,bt)|0,e=e+Math.imul(rt,ct)|0,c=c+Math.imul(rt,bt)|0,u=u+Math.imul(et,yt)|0,e=e+Math.imul(et,wt)|0,e=e+Math.imul(tt,yt)|0,c=c+Math.imul(tt,wt)|0,u=u+Math.imul(st,gt)|0,e=e+Math.imul(st,mt)|0,e=e+Math.imul(it,gt)|0,c=c+Math.imul(it,mt)|0,u=u+Math.imul(lt,Mt)|0,e=e+Math.imul(lt,_t)|0,e=e+Math.imul(ut,Mt)|0,c=c+Math.imul(ut,_t)|0,u=u+Math.imul(at,Rt)|0,e=e+Math.imul(at,Bt)|0,e=e+Math.imul(nt,Rt)|0,c=c+Math.imul(nt,Bt)|0;var be=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(be>>>26)|0,be&=67108863,u=Math.imul(Q,ct),e=Math.imul(Q,bt),e=e+Math.imul(ot,ct)|0,c=Math.imul(ot,bt),u=u+Math.imul(X,yt)|0,e=e+Math.imul(X,wt)|0,e=e+Math.imul(rt,yt)|0,c=c+Math.imul(rt,wt)|0,u=u+Math.imul(et,gt)|0,e=e+Math.imul(et,mt)|0,e=e+Math.imul(tt,gt)|0,c=c+Math.imul(tt,mt)|0,u=u+Math.imul(st,Mt)|0,e=e+Math.imul(st,_t)|0,e=e+Math.imul(it,Mt)|0,c=c+Math.imul(it,_t)|0,u=u+Math.imul(lt,Rt)|0,e=e+Math.imul(lt,Bt)|0,e=e+Math.imul(ut,Rt)|0,c=c+Math.imul(ut,Bt)|0;var ye=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ye>>>26)|0,ye&=67108863,u=Math.imul(Q,yt),e=Math.imul(Q,wt),e=e+Math.imul(ot,yt)|0,c=Math.imul(ot,wt),u=u+Math.imul(X,gt)|0,e=e+Math.imul(X,mt)|0,e=e+Math.imul(rt,gt)|0,c=c+Math.imul(rt,mt)|0,u=u+Math.imul(et,Mt)|0,e=e+Math.imul(et,_t)|0,e=e+Math.imul(tt,Mt)|0,c=c+Math.imul(tt,_t)|0,u=u+Math.imul(st,Rt)|0,e=e+Math.imul(st,Bt)|0,e=e+Math.imul(it,Rt)|0,c=c+Math.imul(it,Bt)|0;var te=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(te>>>26)|0,te&=67108863,u=Math.imul(Q,gt),e=Math.imul(Q,mt),e=e+Math.imul(ot,gt)|0,c=Math.imul(ot,mt),u=u+Math.imul(X,Mt)|0,e=e+Math.imul(X,_t)|0,e=e+Math.imul(rt,Mt)|0,c=c+Math.imul(rt,_t)|0,u=u+Math.imul(et,Rt)|0,e=e+Math.imul(et,Bt)|0,e=e+Math.imul(tt,Rt)|0,c=c+Math.imul(tt,Bt)|0;var we=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(we>>>26)|0,we&=67108863,u=Math.imul(Q,Mt),e=Math.imul(Q,_t),e=e+Math.imul(ot,Mt)|0,c=Math.imul(ot,_t),u=u+Math.imul(X,Rt)|0,e=e+Math.imul(X,Bt)|0,e=e+Math.imul(rt,Rt)|0,c=c+Math.imul(rt,Bt)|0;var Me=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(Me>>>26)|0,Me&=67108863,u=Math.imul(Q,Rt),e=Math.imul(Q,Bt),e=e+Math.imul(ot,Rt)|0,c=Math.imul(ot,Bt);var _e=(b+u|0)+((e&8191)<<13)|0;return b=(c+(e>>>13)|0)+(_e>>>26)|0,_e&=67108863,v[0]=Xt,v[1]=fe,v[2]=he,v[3]=ue,v[4]=ce,v[5]=le,v[6]=ee,v[7]=de,v[8]=pe,v[9]=ve,v[10]=me,v[11]=ge,v[12]=ie,v[13]=be,v[14]=ye,v[15]=te,v[16]=we,v[17]=Me,v[18]=_e,b!==0&&(v[19]=b,n.length++),n};Math.imul||(R=S);function P(d,t,r){r.negative=t.negative^d.negative,r.length=d.length+t.length;for(var n=0,a=0,l=0;l<r.length-1;l++){var v=a;a=0;for(var b=n&67108863,u=Math.min(l,t.length-1),e=Math.max(0,l-d.length+1);e<=u;e++){var c=l-e,q=d.words[c]|0,N=t.words[e]|0,L=q*N,$=L&67108863;v=v+(L/67108864|0)|0,$=$+b|0,b=$&67108863,v=v+($>>>26)|0,a+=v>>>26,v&=67108863}r.words[l]=b,n=v,v=a}return n!==0?r.words[l]=n:r.length--,r.strip()}function O(d,t,r){var n=new B;return n.mulp(d,t,r)}i.prototype.mulTo=function(t,r){var n,a=this.length+t.length;return this.length===10&&t.length===10?n=R(this,t,r):a<63?n=S(this,t,r):a<1024?n=P(this,t,r):n=O(this,t,r),n};function B(d,t){this.x=d,this.y=t}B.prototype.makeRBT=function(t){for(var r=new Array(t),n=i.prototype._countBits(t)-1,a=0;a<t;a++)r[a]=this.revBin(a,n,t);return r},B.prototype.revBin=function(t,r,n){if(t===0||t===n-1)return t;for(var a=0,l=0;l<r;l++)a|=(t&1)<<r-l-1,t>>=1;return a},B.prototype.permute=function(t,r,n,a,l,v){for(var b=0;b<v;b++)a[b]=r[t[b]],l[b]=n[t[b]]},B.prototype.transform=function(t,r,n,a,l,v){this.permute(v,t,r,n,a,l);for(var b=1;b<l;b<<=1)for(var u=b<<1,e=Math.cos(2*Math.PI/u),c=Math.sin(2*Math.PI/u),q=0;q<l;q+=u)for(var N=e,L=c,$=0;$<b;$++){var V=n[q+$],z=a[q+$],G=n[q+$+b],U=a[q+$+b],A=N*G-L*U;U=N*U+L*G,G=A,n[q+$]=V+G,a[q+$]=z+U,n[q+$+b]=V-G,a[q+$+b]=z-U,$!==u&&(A=e*N-c*L,L=e*L+c*N,N=A)}},B.prototype.guessLen13b=function(t,r){var n=Math.max(r,t)|1,a=n&1,l=0;for(n=n/2|0;n;n=n>>>1)l++;return 1<<l+1+a},B.prototype.conjugate=function(t,r,n){if(!(n<=1))for(var a=0;a<n/2;a++){var l=t[a];t[a]=t[n-a-1],t[n-a-1]=l,l=r[a],r[a]=-r[n-a-1],r[n-a-1]=-l}},B.prototype.normalize13b=function(t,r){for(var n=0,a=0;a<r/2;a++){var l=Math.round(t[2*a+1]/r)*8192+Math.round(t[2*a]/r)+n;t[a]=l&67108863,l<67108864?n=0:n=l/67108864|0}return t},B.prototype.convert13b=function(t,r,n,a){for(var l=0,v=0;v<r;v++)l=l+(t[v]|0),n[2*v]=l&8191,l=l>>>13,n[2*v+1]=l&8191,l=l>>>13;for(v=2*r;v<a;++v)n[v]=0;o(l===0),o((l&-8192)===0)},B.prototype.stub=function(t){for(var r=new Array(t),n=0;n<t;n++)r[n]=0;return r},B.prototype.mulp=function(t,r,n){var a=2*this.guessLen13b(t.length,r.length),l=this.makeRBT(a),v=this.stub(a),b=new Array(a),u=new Array(a),e=new Array(a),c=new Array(a),q=new Array(a),N=new Array(a),L=n.words;L.length=a,this.convert13b(t.words,t.length,b,a),this.convert13b(r.words,r.length,c,a),this.transform(b,v,u,e,a,l),this.transform(c,v,q,N,a,l);for(var $=0;$<a;$++){var V=u[$]*q[$]-e[$]*N[$];e[$]=u[$]*N[$]+e[$]*q[$],u[$]=V}return this.conjugate(u,e,a),this.transform(u,e,L,v,a,l),this.conjugate(L,v,a),this.normalize13b(L,a),n.negative=t.negative^r.negative,n.length=t.length+r.length,n.strip()},i.prototype.mul=function(t){var r=new i(null);return r.words=new Array(this.length+t.length),this.mulTo(t,r)},i.prototype.mulf=function(t){var r=new i(null);return r.words=new Array(this.length+t.length),O(this,t,r)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){o(typeof t=="number"),o(t<67108864);for(var r=0,n=0;n<this.length;n++){var a=(this.words[n]|0)*t,l=(a&67108863)+(r&67108863);r>>=26,r+=a/67108864|0,r+=l>>>26,this.words[n]=l&67108863}return r!==0&&(this.words[n]=r,this.length++),this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var r=E(t);if(r.length===0)return new i(1);for(var n=this,a=0;a<r.length&&r[a]===0;a++,n=n.sqr());if(++a<r.length)for(var l=n.sqr();a<r.length;a++,l=l.sqr())r[a]!==0&&(n=n.mul(l));return n},i.prototype.iushln=function(t){o(typeof t=="number"&&t>=0);var r=t%26,n=(t-r)/26,a=67108863>>>26-r<<26-r,l;if(r!==0){var v=0;for(l=0;l<this.length;l++){var b=this.words[l]&a,u=(this.words[l]|0)-b<<r;this.words[l]=u|v,v=b>>>26-r}v&&(this.words[l]=v,this.length++)}if(n!==0){for(l=this.length-1;l>=0;l--)this.words[l+n]=this.words[l];for(l=0;l<n;l++)this.words[l]=0;this.length+=n}return this.strip()},i.prototype.ishln=function(t){return o(this.negative===0),this.iushln(t)},i.prototype.iushrn=function(t,r,n){o(typeof t=="number"&&t>=0);var a;r?a=(r-r%26)/26:a=0;var l=t%26,v=Math.min((t-l)/26,this.length),b=67108863^67108863>>>l<<l,u=n;if(a-=v,a=Math.max(0,a),u){for(var e=0;e<v;e++)u.words[e]=this.words[e];u.length=v}if(v!==0)if(this.length>v)for(this.length-=v,e=0;e<this.length;e++)this.words[e]=this.words[e+v];else this.words[0]=0,this.length=1;var c=0;for(e=this.length-1;e>=0&&(c!==0||e>=a);e--){var q=this.words[e]|0;this.words[e]=c<<26-l|q>>>l,c=q&b}return u&&c!==0&&(u.words[u.length++]=c),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(t,r,n){return o(this.negative===0),this.iushrn(t,r,n)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){o(typeof t=="number"&&t>=0);var r=t%26,n=(t-r)/26,a=1<<r;if(this.length<=n)return!1;var l=this.words[n];return!!(l&a)},i.prototype.imaskn=function(t){o(typeof t=="number"&&t>=0);var r=t%26,n=(t-r)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=n)return this;if(r!==0&&n++,this.length=Math.min(n,this.length),r!==0){var a=67108863^67108863>>>r<<r;this.words[this.length-1]&=a}return this.strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return o(typeof t=="number"),o(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var r=0;r<this.length&&this.words[r]>=67108864;r++)this.words[r]-=67108864,r===this.length-1?this.words[r+1]=1:this.words[r+1]++;return this.length=Math.max(this.length,r+1),this},i.prototype.isubn=function(t){if(o(typeof t=="number"),o(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var r=0;r<this.length&&this.words[r]<0;r++)this.words[r]+=67108864,this.words[r+1]-=1;return this.strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,r,n){var a=t.length+n,l;this._expand(a);var v,b=0;for(l=0;l<t.length;l++){v=(this.words[l+n]|0)+b;var u=(t.words[l]|0)*r;v-=u&67108863,b=(v>>26)-(u/67108864|0),this.words[l+n]=v&67108863}for(;l<this.length-n;l++)v=(this.words[l+n]|0)+b,b=v>>26,this.words[l+n]=v&67108863;if(b===0)return this.strip();for(o(b===-1),b=0,l=0;l<this.length;l++)v=-(this.words[l]|0)+b,b=v>>26,this.words[l]=v&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(t,r){var n=this.length-t.length,a=this.clone(),l=t,v=l.words[l.length-1]|0,b=this._countBits(v);n=26-b,n!==0&&(l=l.ushln(n),a.iushln(n),v=l.words[l.length-1]|0);var u=a.length-l.length,e;if(r!=="mod"){e=new i(null),e.length=u+1,e.words=new Array(e.length);for(var c=0;c<e.length;c++)e.words[c]=0}var q=a.clone()._ishlnsubmul(l,1,u);q.negative===0&&(a=q,e&&(e.words[u]=1));for(var N=u-1;N>=0;N--){var L=(a.words[l.length+N]|0)*67108864+(a.words[l.length+N-1]|0);for(L=Math.min(L/v|0,67108863),a._ishlnsubmul(l,L,N);a.negative!==0;)L--,a.negative=0,a._ishlnsubmul(l,1,N),a.isZero()||(a.negative^=1);e&&(e.words[N]=L)}return e&&e.strip(),a.strip(),r!=="div"&&n!==0&&a.iushrn(n),{div:e||null,mod:a}},i.prototype.divmod=function(t,r,n){if(o(!t.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var a,l,v;return this.negative!==0&&t.negative===0?(v=this.neg().divmod(t,r),r!=="mod"&&(a=v.div.neg()),r!=="div"&&(l=v.mod.neg(),n&&l.negative!==0&&l.iadd(t)),{div:a,mod:l}):this.negative===0&&t.negative!==0?(v=this.divmod(t.neg(),r),r!=="mod"&&(a=v.div.neg()),{div:a,mod:v.mod}):(this.negative&t.negative)!==0?(v=this.neg().divmod(t.neg(),r),r!=="div"&&(l=v.mod.neg(),n&&l.negative!==0&&l.isub(t)),{div:v.div,mod:l}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:t.length===1?r==="div"?{div:this.divn(t.words[0]),mod:null}:r==="mod"?{div:null,mod:new i(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modn(t.words[0]))}:this._wordDiv(t,r)},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var r=this.divmod(t);if(r.mod.isZero())return r.div;var n=r.div.negative!==0?r.mod.isub(t):r.mod,a=t.ushrn(1),l=t.andln(1),v=n.cmp(a);return v<0||l===1&&v===0?r.div:r.div.negative!==0?r.div.isubn(1):r.div.iaddn(1)},i.prototype.modn=function(t){o(t<=67108863);for(var r=(1<<26)%t,n=0,a=this.length-1;a>=0;a--)n=(r*n+(this.words[a]|0))%t;return n},i.prototype.idivn=function(t){o(t<=67108863);for(var r=0,n=this.length-1;n>=0;n--){var a=(this.words[n]|0)+r*67108864;this.words[n]=a/t|0,r=a%t}return this.strip()},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){o(t.negative===0),o(!t.isZero());var r=this,n=t.clone();r.negative!==0?r=r.umod(t):r=r.clone();for(var a=new i(1),l=new i(0),v=new i(0),b=new i(1),u=0;r.isEven()&&n.isEven();)r.iushrn(1),n.iushrn(1),++u;for(var e=n.clone(),c=r.clone();!r.isZero();){for(var q=0,N=1;(r.words[0]&N)===0&&q<26;++q,N<<=1);if(q>0)for(r.iushrn(q);q-- >0;)(a.isOdd()||l.isOdd())&&(a.iadd(e),l.isub(c)),a.iushrn(1),l.iushrn(1);for(var L=0,$=1;(n.words[0]&$)===0&&L<26;++L,$<<=1);if(L>0)for(n.iushrn(L);L-- >0;)(v.isOdd()||b.isOdd())&&(v.iadd(e),b.isub(c)),v.iushrn(1),b.iushrn(1);r.cmp(n)>=0?(r.isub(n),a.isub(v),l.isub(b)):(n.isub(r),v.isub(a),b.isub(l))}return{a:v,b,gcd:n.iushln(u)}},i.prototype._invmp=function(t){o(t.negative===0),o(!t.isZero());var r=this,n=t.clone();r.negative!==0?r=r.umod(t):r=r.clone();for(var a=new i(1),l=new i(0),v=n.clone();r.cmpn(1)>0&&n.cmpn(1)>0;){for(var b=0,u=1;(r.words[0]&u)===0&&b<26;++b,u<<=1);if(b>0)for(r.iushrn(b);b-- >0;)a.isOdd()&&a.iadd(v),a.iushrn(1);for(var e=0,c=1;(n.words[0]&c)===0&&e<26;++e,c<<=1);if(e>0)for(n.iushrn(e);e-- >0;)l.isOdd()&&l.iadd(v),l.iushrn(1);r.cmp(n)>=0?(r.isub(n),a.isub(l)):(n.isub(r),l.isub(a))}var q;return r.cmpn(1)===0?q=a:q=l,q.cmpn(0)<0&&q.iadd(t),q},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var r=this.clone(),n=t.clone();r.negative=0,n.negative=0;for(var a=0;r.isEven()&&n.isEven();a++)r.iushrn(1),n.iushrn(1);do{for(;r.isEven();)r.iushrn(1);for(;n.isEven();)n.iushrn(1);var l=r.cmp(n);if(l<0){var v=r;r=n,n=v}else if(l===0||n.cmpn(1)===0)break;r.isub(n)}while(!0);return n.iushln(a)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){o(typeof t=="number");var r=t%26,n=(t-r)/26,a=1<<r;if(this.length<=n)return this._expand(n+1),this.words[n]|=a,this;for(var l=a,v=n;l!==0&&v<this.length;v++){var b=this.words[v]|0;b+=l,l=b>>>26,b&=67108863,this.words[v]=b}return l!==0&&(this.words[v]=l,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(t){var r=t<0;if(this.negative!==0&&!r)return-1;if(this.negative===0&&r)return 1;this.strip();var n;if(this.length>1)n=1;else{r&&(t=-t),o(t<=67108863,"Number is too big");var a=this.words[0]|0;n=a===t?0:a<t?-1:1}return this.negative!==0?-n|0:n},i.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var r=this.ucmp(t);return this.negative!==0?-r|0:r},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var r=0,n=this.length-1;n>=0;n--){var a=this.words[n]|0,l=t.words[n]|0;if(a!==l){a<l?r=-1:a>l&&(r=1);break}}return r},i.prototype.gtn=function(t){return this.cmpn(t)===1},i.prototype.gt=function(t){return this.cmp(t)===1},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return this.cmpn(t)===-1},i.prototype.lt=function(t){return this.cmp(t)===-1},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return this.cmpn(t)===0},i.prototype.eq=function(t){return this.cmp(t)===0},i.red=function(t){return new K(t)},i.prototype.toRed=function(t){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return o(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return o(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var C={k256:null,p224:null,p192:null,p25519:null};function T(d,t){this.name=d,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}T.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},T.prototype.ireduce=function(t){var r=t,n;do this.split(r,this.tmp),r=this.imulK(r),r=r.iadd(this.tmp),n=r.bitLength();while(n>this.n);var a=n<this.n?-1:r.ucmp(this.p);return a===0?(r.words[0]=0,r.length=1):a>0?r.isub(this.p):r.strip!==void 0?r.strip():r._strip(),r},T.prototype.split=function(t,r){t.iushrn(this.n,0,r)},T.prototype.imulK=function(t){return t.imul(this.k)};function F(){T.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}p(F,T),F.prototype.split=function(t,r){for(var n=4194303,a=Math.min(t.length,9),l=0;l<a;l++)r.words[l]=t.words[l];if(r.length=a,t.length<=9){t.words[0]=0,t.length=1;return}var v=t.words[9];for(r.words[r.length++]=v&n,l=10;l<t.length;l++){var b=t.words[l]|0;t.words[l-10]=(b&n)<<4|v>>>22,v=b}v>>>=22,t.words[l-10]=v,v===0&&t.length>10?t.length-=10:t.length-=9},F.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var r=0,n=0;n<t.length;n++){var a=t.words[n]|0;r+=a*977,t.words[n]=r&67108863,r=a*64+(r/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function D(){T.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}p(D,T);function I(){T.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}p(I,T);function k(){T.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}p(k,T),k.prototype.imulK=function(t){for(var r=0,n=0;n<t.length;n++){var a=(t.words[n]|0)*19+r,l=a&67108863;a>>>=26,t.words[n]=l,r=a}return r!==0&&(t.words[t.length++]=r),t},i._prime=function(t){if(C[t])return C[t];var r;if(t==="k256")r=new F;else if(t==="p224")r=new D;else if(t==="p192")r=new I;else if(t==="p25519")r=new k;else throw new Error("Unknown prime "+t);return C[t]=r,r};function K(d){if(typeof d=="string"){var t=i._prime(d);this.m=t.p,this.prime=t}else o(d.gtn(1),"modulus must be greater than 1"),this.m=d,this.prime=null}K.prototype._verify1=function(t){o(t.negative===0,"red works only with positives"),o(t.red,"red works only with red numbers")},K.prototype._verify2=function(t,r){o((t.negative|r.negative)===0,"red works only with positives"),o(t.red&&t.red===r.red,"red works only with red numbers")},K.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},K.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},K.prototype.add=function(t,r){this._verify2(t,r);var n=t.add(r);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},K.prototype.iadd=function(t,r){this._verify2(t,r);var n=t.iadd(r);return n.cmp(this.m)>=0&&n.isub(this.m),n},K.prototype.sub=function(t,r){this._verify2(t,r);var n=t.sub(r);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},K.prototype.isub=function(t,r){this._verify2(t,r);var n=t.isub(r);return n.cmpn(0)<0&&n.iadd(this.m),n},K.prototype.shl=function(t,r){return this._verify1(t),this.imod(t.ushln(r))},K.prototype.imul=function(t,r){return this._verify2(t,r),this.imod(t.imul(r))},K.prototype.mul=function(t,r){return this._verify2(t,r),this.imod(t.mul(r))},K.prototype.isqr=function(t){return this.imul(t,t.clone())},K.prototype.sqr=function(t){return this.mul(t,t)},K.prototype.sqrt=function(t){if(t.isZero())return t.clone();var r=this.m.andln(3);if(o(r%2===1),r===3){var n=this.m.add(new i(1)).iushrn(2);return this.pow(t,n)}for(var a=this.m.subn(1),l=0;!a.isZero()&&a.andln(1)===0;)l++,a.iushrn(1);o(!a.isZero());var v=new i(1).toRed(this),b=v.redNeg(),u=this.m.subn(1).iushrn(1),e=this.m.bitLength();for(e=new i(2*e*e).toRed(this);this.pow(e,u).cmp(b)!==0;)e.redIAdd(b);for(var c=this.pow(e,a),q=this.pow(t,a.addn(1).iushrn(1)),N=this.pow(t,a),L=l;N.cmp(v)!==0;){for(var $=N,V=0;$.cmp(v)!==0;V++)$=$.redSqr();o(V<L);var z=this.pow(c,new i(1).iushln(L-V-1));q=q.redMul(z),c=z.redSqr(),N=N.redMul(c),L=V}return q},K.prototype.invm=function(t){var r=t._invmp(this.m);return r.negative!==0?(r.negative=0,this.imod(r).redNeg()):this.imod(r)},K.prototype.pow=function(t,r){if(r.isZero())return new i(1).toRed(this);if(r.cmpn(1)===0)return t.clone();var n=4,a=new Array(1<<n);a[0]=new i(1).toRed(this),a[1]=t;for(var l=2;l<a.length;l++)a[l]=this.mul(a[l-1],t);var v=a[0],b=0,u=0,e=r.bitLength()%26;for(e===0&&(e=26),l=r.length-1;l>=0;l--){for(var c=r.words[l],q=e-1;q>=0;q--){var N=c>>q&1;if(v!==a[0]&&(v=this.sqr(v)),N===0&&b===0){u=0;continue}b<<=1,b|=N,u++,!(u!==n&&(l!==0||q!==0))&&(v=this.mul(v,a[b]),u=0,b=0)}e=26}return v},K.prototype.convertTo=function(t){var r=t.umod(this.m);return r===t?r.clone():r},K.prototype.convertFrom=function(t){var r=t.clone();return r.red=null,r},i.mont=function(t){return new Y(t)};function Y(d){K.call(this,d),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}p(Y,K),Y.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},Y.prototype.convertFrom=function(t){var r=this.imod(t.mul(this.rinv));return r.red=null,r},Y.prototype.imul=function(t,r){if(t.isZero()||r.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(r),a=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=n.isub(a).iushrn(this.shift),v=l;return l.cmp(this.m)>=0?v=l.isub(this.m):l.cmpn(0)<0&&(v=l.iadd(this.m)),v._forceRed(this)},Y.prototype.mul=function(t,r){if(t.isZero()||r.isZero())return new i(0)._forceRed(this);var n=t.mul(r),a=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=n.isub(a).iushrn(this.shift),v=l;return l.cmp(this.m)>=0?v=l.isub(this.m):l.cmpn(0)<0&&(v=l.iadd(this.m)),v._forceRed(this)},Y.prototype.invm=function(t){var r=this.imod(t._invmp(this.m).mul(this.r2));return r._forceRed(this)}})(f,Zt)}(Es)),Es.exports}var Ss={},th;function wu(){return th||(th=1,function(f){var s=f;function h(i,M){if(Array.isArray(i))return i.slice();if(!i)return[];var w=[];if(typeof i!="string"){for(var y=0;y<i.length;y++)w[y]=i[y]|0;return w}if(M==="hex"){i=i.replace(/[^a-z0-9]+/ig,""),i.length%2!==0&&(i="0"+i);for(var y=0;y<i.length;y+=2)w.push(parseInt(i[y]+i[y+1],16))}else for(var y=0;y<i.length;y++){var g=i.charCodeAt(y),m=g>>8,_=g&255;m?w.push(m,_):w.push(_)}return w}s.toArray=h;function o(i){return i.length===1?"0"+i:i}s.zero2=o;function p(i){for(var M="",w=0;w<i.length;w++)M+=o(i[w].toString(16));return M}s.toHex=p,s.encode=function(M,w){return w==="hex"?p(M):M}}(Ss)),Ss}var eh;function hr(){return eh||(eh=1,function(f){var s=f,h=Er(),o=$r,p=wu();s.assert=o,s.toArray=p.toArray,s.zero2=p.zero2,s.toHex=p.toHex,s.encode=p.encode;function i(m,_,x){var E=new Array(Math.max(m.bitLength(),x)+1);E.fill(0);for(var S=1<<_+1,R=m.clone(),P=0;P<E.length;P++){var O,B=R.andln(S-1);R.isOdd()?(B>(S>>1)-1?O=(S>>1)-B:O=B,R.isubn(O)):O=0,E[P]=O,R.iushrn(1)}return E}s.getNAF=i;function M(m,_){var x=[[],[]];m=m.clone(),_=_.clone();for(var E=0,S=0,R;m.cmpn(-E)>0||_.cmpn(-S)>0;){var P=m.andln(3)+E&3,O=_.andln(3)+S&3;P===3&&(P=-1),O===3&&(O=-1);var B;(P&1)===0?B=0:(R=m.andln(7)+E&7,(R===3||R===5)&&O===2?B=-P:B=P),x[0].push(B);var C;(O&1)===0?C=0:(R=_.andln(7)+S&7,(R===3||R===5)&&P===2?C=-O:C=O),x[1].push(C),2*E===B+1&&(E=1-E),2*S===C+1&&(S=1-S),m.iushrn(1),_.iushrn(1)}return x}s.getJSF=M;function w(m,_,x){var E="_"+_;m.prototype[_]=function(){return this[E]!==void 0?this[E]:this[E]=x.call(this)}}s.cachedProperty=w;function y(m){return typeof m=="string"?s.toArray(m,"hex"):m}s.parseBytes=y;function g(m){return new h(m,"hex","le")}s.intFromLE=g}(xs)),xs}var As={},Is,rh;function xn(){if(rh)return Is;rh=1;var f=Er(),s=hr(),h=s.getNAF,o=s.getJSF,p=s.assert;function i(w,y){this.type=w,this.p=new f(y.p,16),this.red=y.prime?f.red(y.prime):f.mont(this.p),this.zero=new f(0).toRed(this.red),this.one=new f(1).toRed(this.red),this.two=new f(2).toRed(this.red),this.n=y.n&&new f(y.n,16),this.g=y.g&&this.pointFromJSON(y.g,y.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var g=this.n&&this.p.div(this.n);!g||g.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}Is=i,i.prototype.point=function(){throw new Error("Not implemented")},i.prototype.validate=function(){throw new Error("Not implemented")},i.prototype._fixedNafMul=function(y,g){p(y.precomputed);var m=y._getDoubles(),_=h(g,1,this._bitLength),x=(1<<m.step+1)-(m.step%2===0?2:1);x/=3;var E=[],S,R;for(S=0;S<_.length;S+=m.step){R=0;for(var P=S+m.step-1;P>=S;P--)R=(R<<1)+_[P];E.push(R)}for(var O=this.jpoint(null,null,null),B=this.jpoint(null,null,null),C=x;C>0;C--){for(S=0;S<E.length;S++)R=E[S],R===C?B=B.mixedAdd(m.points[S]):R===-C&&(B=B.mixedAdd(m.points[S].neg()));O=O.add(B)}return O.toP()},i.prototype._wnafMul=function(y,g){var m=4,_=y._getNAFPoints(m);m=_.wnd;for(var x=_.points,E=h(g,m,this._bitLength),S=this.jpoint(null,null,null),R=E.length-1;R>=0;R--){for(var P=0;R>=0&&E[R]===0;R--)P++;if(R>=0&&P++,S=S.dblp(P),R<0)break;var O=E[R];p(O!==0),y.type==="affine"?O>0?S=S.mixedAdd(x[O-1>>1]):S=S.mixedAdd(x[-O-1>>1].neg()):O>0?S=S.add(x[O-1>>1]):S=S.add(x[-O-1>>1].neg())}return y.type==="affine"?S.toP():S},i.prototype._wnafMulAdd=function(y,g,m,_,x){var E=this._wnafT1,S=this._wnafT2,R=this._wnafT3,P=0,O,B,C;for(O=0;O<_;O++){C=g[O];var T=C._getNAFPoints(y);E[O]=T.wnd,S[O]=T.points}for(O=_-1;O>=1;O-=2){var F=O-1,D=O;if(E[F]!==1||E[D]!==1){R[F]=h(m[F],E[F],this._bitLength),R[D]=h(m[D],E[D],this._bitLength),P=Math.max(R[F].length,P),P=Math.max(R[D].length,P);continue}var I=[g[F],null,null,g[D]];g[F].y.cmp(g[D].y)===0?(I[1]=g[F].add(g[D]),I[2]=g[F].toJ().mixedAdd(g[D].neg())):g[F].y.cmp(g[D].y.redNeg())===0?(I[1]=g[F].toJ().mixedAdd(g[D]),I[2]=g[F].add(g[D].neg())):(I[1]=g[F].toJ().mixedAdd(g[D]),I[2]=g[F].toJ().mixedAdd(g[D].neg()));var k=[-3,-1,-5,-7,0,7,5,1,3],K=o(m[F],m[D]);for(P=Math.max(K[0].length,P),R[F]=new Array(P),R[D]=new Array(P),B=0;B<P;B++){var Y=K[0][B]|0,d=K[1][B]|0;R[F][B]=k[(Y+1)*3+(d+1)],R[D][B]=0,S[F]=I}}var t=this.jpoint(null,null,null),r=this._wnafT4;for(O=P;O>=0;O--){for(var n=0;O>=0;){var a=!0;for(B=0;B<_;B++)r[B]=R[B][O]|0,r[B]!==0&&(a=!1);if(!a)break;n++,O--}if(O>=0&&n++,t=t.dblp(n),O<0)break;for(B=0;B<_;B++){var l=r[B];l!==0&&(l>0?C=S[B][l-1>>1]:l<0&&(C=S[B][-l-1>>1].neg()),C.type==="affine"?t=t.mixedAdd(C):t=t.add(C))}}for(O=0;O<_;O++)S[O]=null;return x?t:t.toP()};function M(w,y){this.curve=w,this.type=y,this.precomputed=null}return i.BasePoint=M,M.prototype.eq=function(){throw new Error("Not implemented")},M.prototype.validate=function(){return this.curve.validate(this)},i.prototype.decodePoint=function(y,g){y=s.toArray(y,g);var m=this.p.byteLength();if((y[0]===4||y[0]===6||y[0]===7)&&y.length-1===2*m){y[0]===6?p(y[y.length-1]%2===0):y[0]===7&&p(y[y.length-1]%2===1);var _=this.point(y.slice(1,1+m),y.slice(1+m,1+2*m));return _}else if((y[0]===2||y[0]===3)&&y.length-1===m)return this.pointFromX(y.slice(1,1+m),y[0]===3);throw new Error("Unknown point format")},M.prototype.encodeCompressed=function(y){return this.encode(y,!0)},M.prototype._encode=function(y){var g=this.curve.p.byteLength(),m=this.getX().toArray("be",g);return y?[this.getY().isEven()?2:3].concat(m):[4].concat(m,this.getY().toArray("be",g))},M.prototype.encode=function(y,g){return s.encode(this._encode(g),y)},M.prototype.precompute=function(y){if(this.precomputed)return this;var g={doubles:null,naf:null,beta:null};return g.naf=this._getNAFPoints(8),g.doubles=this._getDoubles(4,y),g.beta=this._getBeta(),this.precomputed=g,this},M.prototype._hasDoubles=function(y){if(!this.precomputed)return!1;var g=this.precomputed.doubles;return g?g.points.length>=Math.ceil((y.bitLength()+1)/g.step):!1},M.prototype._getDoubles=function(y,g){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var m=[this],_=this,x=0;x<g;x+=y){for(var E=0;E<y;E++)_=_.dbl();m.push(_)}return{step:y,points:m}},M.prototype._getNAFPoints=function(y){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var g=[this],m=(1<<y)-1,_=m===1?null:this.dbl(),x=1;x<m;x++)g[x]=g[x-1].add(_);return{wnd:y,points:g}},M.prototype._getBeta=function(){return null},M.prototype.dblp=function(y){for(var g=this,m=0;m<y;m++)g=g.dbl();return g},Is}var Rs,ih;function k1(){if(ih)return Rs;ih=1;var f=hr(),s=Er(),h=se.exports,o=xn(),p=f.assert;function i(y){o.call(this,"short",y),this.a=new s(y.a,16).toRed(this.red),this.b=new s(y.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(y),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}h(i,o),Rs=i,i.prototype._getEndomorphism=function(g){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var m,_;if(g.beta)m=new s(g.beta,16).toRed(this.red);else{var x=this._getEndoRoots(this.p);m=x[0].cmp(x[1])<0?x[0]:x[1],m=m.toRed(this.red)}if(g.lambda)_=new s(g.lambda,16);else{var E=this._getEndoRoots(this.n);this.g.mul(E[0]).x.cmp(this.g.x.redMul(m))===0?_=E[0]:(_=E[1],p(this.g.mul(_).x.cmp(this.g.x.redMul(m))===0))}var S;return g.basis?S=g.basis.map(function(R){return{a:new s(R.a,16),b:new s(R.b,16)}}):S=this._getEndoBasis(_),{beta:m,lambda:_,basis:S}}},i.prototype._getEndoRoots=function(g){var m=g===this.p?this.red:s.mont(g),_=new s(2).toRed(m).redInvm(),x=_.redNeg(),E=new s(3).toRed(m).redNeg().redSqrt().redMul(_),S=x.redAdd(E).fromRed(),R=x.redSub(E).fromRed();return[S,R]},i.prototype._getEndoBasis=function(g){for(var m=this.n.ushrn(Math.floor(this.n.bitLength()/2)),_=g,x=this.n.clone(),E=new s(1),S=new s(0),R=new s(0),P=new s(1),O,B,C,T,F,D,I,k=0,K,Y;_.cmpn(0)!==0;){var d=x.div(_);K=x.sub(d.mul(_)),Y=R.sub(d.mul(E));var t=P.sub(d.mul(S));if(!C&&K.cmp(m)<0)O=I.neg(),B=E,C=K.neg(),T=Y;else if(C&&++k===2)break;I=K,x=_,_=K,R=E,E=Y,P=S,S=t}F=K.neg(),D=Y;var r=C.sqr().add(T.sqr()),n=F.sqr().add(D.sqr());return n.cmp(r)>=0&&(F=O,D=B),C.negative&&(C=C.neg(),T=T.neg()),F.negative&&(F=F.neg(),D=D.neg()),[{a:C,b:T},{a:F,b:D}]},i.prototype._endoSplit=function(g){var m=this.endo.basis,_=m[0],x=m[1],E=x.b.mul(g).divRound(this.n),S=_.b.neg().mul(g).divRound(this.n),R=E.mul(_.a),P=S.mul(x.a),O=E.mul(_.b),B=S.mul(x.b),C=g.sub(R).sub(P),T=O.add(B).neg();return{k1:C,k2:T}},i.prototype.pointFromX=function(g,m){g=new s(g,16),g.red||(g=g.toRed(this.red));var _=g.redSqr().redMul(g).redIAdd(g.redMul(this.a)).redIAdd(this.b),x=_.redSqrt();if(x.redSqr().redSub(_).cmp(this.zero)!==0)throw new Error("invalid point");var E=x.fromRed().isOdd();return(m&&!E||!m&&E)&&(x=x.redNeg()),this.point(g,x)},i.prototype.validate=function(g){if(g.inf)return!0;var m=g.x,_=g.y,x=this.a.redMul(m),E=m.redSqr().redMul(m).redIAdd(x).redIAdd(this.b);return _.redSqr().redISub(E).cmpn(0)===0},i.prototype._endoWnafMulAdd=function(g,m,_){for(var x=this._endoWnafT1,E=this._endoWnafT2,S=0;S<g.length;S++){var R=this._endoSplit(m[S]),P=g[S],O=P._getBeta();R.k1.negative&&(R.k1.ineg(),P=P.neg(!0)),R.k2.negative&&(R.k2.ineg(),O=O.neg(!0)),x[S*2]=P,x[S*2+1]=O,E[S*2]=R.k1,E[S*2+1]=R.k2}for(var B=this._wnafMulAdd(1,x,E,S*2,_),C=0;C<S*2;C++)x[C]=null,E[C]=null;return B};function M(y,g,m,_){o.BasePoint.call(this,y,"affine"),g===null&&m===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new s(g,16),this.y=new s(m,16),_&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}h(M,o.BasePoint),i.prototype.point=function(g,m,_){return new M(this,g,m,_)},i.prototype.pointFromJSON=function(g,m){return M.fromJSON(this,g,m)},M.prototype._getBeta=function(){if(!!this.curve.endo){var g=this.precomputed;if(g&&g.beta)return g.beta;var m=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(g){var _=this.curve,x=function(E){return _.point(E.x.redMul(_.endo.beta),E.y)};g.beta=m,m.precomputed={beta:null,naf:g.naf&&{wnd:g.naf.wnd,points:g.naf.points.map(x)},doubles:g.doubles&&{step:g.doubles.step,points:g.doubles.points.map(x)}}}return m}},M.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},M.fromJSON=function(g,m,_){typeof m=="string"&&(m=JSON.parse(m));var x=g.point(m[0],m[1],_);if(!m[2])return x;function E(R){return g.point(R[0],R[1],_)}var S=m[2];return x.precomputed={beta:null,doubles:S.doubles&&{step:S.doubles.step,points:[x].concat(S.doubles.points.map(E))},naf:S.naf&&{wnd:S.naf.wnd,points:[x].concat(S.naf.points.map(E))}},x},M.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},M.prototype.isInfinity=function(){return this.inf},M.prototype.add=function(g){if(this.inf)return g;if(g.inf)return this;if(this.eq(g))return this.dbl();if(this.neg().eq(g))return this.curve.point(null,null);if(this.x.cmp(g.x)===0)return this.curve.point(null,null);var m=this.y.redSub(g.y);m.cmpn(0)!==0&&(m=m.redMul(this.x.redSub(g.x).redInvm()));var _=m.redSqr().redISub(this.x).redISub(g.x),x=m.redMul(this.x.redSub(_)).redISub(this.y);return this.curve.point(_,x)},M.prototype.dbl=function(){if(this.inf)return this;var g=this.y.redAdd(this.y);if(g.cmpn(0)===0)return this.curve.point(null,null);var m=this.curve.a,_=this.x.redSqr(),x=g.redInvm(),E=_.redAdd(_).redIAdd(_).redIAdd(m).redMul(x),S=E.redSqr().redISub(this.x.redAdd(this.x)),R=E.redMul(this.x.redSub(S)).redISub(this.y);return this.curve.point(S,R)},M.prototype.getX=function(){return this.x.fromRed()},M.prototype.getY=function(){return this.y.fromRed()},M.prototype.mul=function(g){return g=new s(g,16),this.isInfinity()?this:this._hasDoubles(g)?this.curve._fixedNafMul(this,g):this.curve.endo?this.curve._endoWnafMulAdd([this],[g]):this.curve._wnafMul(this,g)},M.prototype.mulAdd=function(g,m,_){var x=[this,m],E=[g,_];return this.curve.endo?this.curve._endoWnafMulAdd(x,E):this.curve._wnafMulAdd(1,x,E,2)},M.prototype.jmulAdd=function(g,m,_){var x=[this,m],E=[g,_];return this.curve.endo?this.curve._endoWnafMulAdd(x,E,!0):this.curve._wnafMulAdd(1,x,E,2,!0)},M.prototype.eq=function(g){return this===g||this.inf===g.inf&&(this.inf||this.x.cmp(g.x)===0&&this.y.cmp(g.y)===0)},M.prototype.neg=function(g){if(this.inf)return this;var m=this.curve.point(this.x,this.y.redNeg());if(g&&this.precomputed){var _=this.precomputed,x=function(E){return E.neg()};m.precomputed={naf:_.naf&&{wnd:_.naf.wnd,points:_.naf.points.map(x)},doubles:_.doubles&&{step:_.doubles.step,points:_.doubles.points.map(x)}}}return m},M.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var g=this.curve.jpoint(this.x,this.y,this.curve.one);return g};function w(y,g,m,_){o.BasePoint.call(this,y,"jacobian"),g===null&&m===null&&_===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new s(0)):(this.x=new s(g,16),this.y=new s(m,16),this.z=new s(_,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return h(w,o.BasePoint),i.prototype.jpoint=function(g,m,_){return new w(this,g,m,_)},w.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var g=this.z.redInvm(),m=g.redSqr(),_=this.x.redMul(m),x=this.y.redMul(m).redMul(g);return this.curve.point(_,x)},w.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},w.prototype.add=function(g){if(this.isInfinity())return g;if(g.isInfinity())return this;var m=g.z.redSqr(),_=this.z.redSqr(),x=this.x.redMul(m),E=g.x.redMul(_),S=this.y.redMul(m.redMul(g.z)),R=g.y.redMul(_.redMul(this.z)),P=x.redSub(E),O=S.redSub(R);if(P.cmpn(0)===0)return O.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var B=P.redSqr(),C=B.redMul(P),T=x.redMul(B),F=O.redSqr().redIAdd(C).redISub(T).redISub(T),D=O.redMul(T.redISub(F)).redISub(S.redMul(C)),I=this.z.redMul(g.z).redMul(P);return this.curve.jpoint(F,D,I)},w.prototype.mixedAdd=function(g){if(this.isInfinity())return g.toJ();if(g.isInfinity())return this;var m=this.z.redSqr(),_=this.x,x=g.x.redMul(m),E=this.y,S=g.y.redMul(m).redMul(this.z),R=_.redSub(x),P=E.redSub(S);if(R.cmpn(0)===0)return P.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var O=R.redSqr(),B=O.redMul(R),C=_.redMul(O),T=P.redSqr().redIAdd(B).redISub(C).redISub(C),F=P.redMul(C.redISub(T)).redISub(E.redMul(B)),D=this.z.redMul(R);return this.curve.jpoint(T,F,D)},w.prototype.dblp=function(g){if(g===0)return this;if(this.isInfinity())return this;if(!g)return this.dbl();var m;if(this.curve.zeroA||this.curve.threeA){var _=this;for(m=0;m<g;m++)_=_.dbl();return _}var x=this.curve.a,E=this.curve.tinv,S=this.x,R=this.y,P=this.z,O=P.redSqr().redSqr(),B=R.redAdd(R);for(m=0;m<g;m++){var C=S.redSqr(),T=B.redSqr(),F=T.redSqr(),D=C.redAdd(C).redIAdd(C).redIAdd(x.redMul(O)),I=S.redMul(T),k=D.redSqr().redISub(I.redAdd(I)),K=I.redISub(k),Y=D.redMul(K);Y=Y.redIAdd(Y).redISub(F);var d=B.redMul(P);m+1<g&&(O=O.redMul(F)),S=k,P=d,B=Y}return this.curve.jpoint(S,B.redMul(E),P)},w.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},w.prototype._zeroDbl=function(){var g,m,_;if(this.zOne){var x=this.x.redSqr(),E=this.y.redSqr(),S=E.redSqr(),R=this.x.redAdd(E).redSqr().redISub(x).redISub(S);R=R.redIAdd(R);var P=x.redAdd(x).redIAdd(x),O=P.redSqr().redISub(R).redISub(R),B=S.redIAdd(S);B=B.redIAdd(B),B=B.redIAdd(B),g=O,m=P.redMul(R.redISub(O)).redISub(B),_=this.y.redAdd(this.y)}else{var C=this.x.redSqr(),T=this.y.redSqr(),F=T.redSqr(),D=this.x.redAdd(T).redSqr().redISub(C).redISub(F);D=D.redIAdd(D);var I=C.redAdd(C).redIAdd(C),k=I.redSqr(),K=F.redIAdd(F);K=K.redIAdd(K),K=K.redIAdd(K),g=k.redISub(D).redISub(D),m=I.redMul(D.redISub(g)).redISub(K),_=this.y.redMul(this.z),_=_.redIAdd(_)}return this.curve.jpoint(g,m,_)},w.prototype._threeDbl=function(){var g,m,_;if(this.zOne){var x=this.x.redSqr(),E=this.y.redSqr(),S=E.redSqr(),R=this.x.redAdd(E).redSqr().redISub(x).redISub(S);R=R.redIAdd(R);var P=x.redAdd(x).redIAdd(x).redIAdd(this.curve.a),O=P.redSqr().redISub(R).redISub(R);g=O;var B=S.redIAdd(S);B=B.redIAdd(B),B=B.redIAdd(B),m=P.redMul(R.redISub(O)).redISub(B),_=this.y.redAdd(this.y)}else{var C=this.z.redSqr(),T=this.y.redSqr(),F=this.x.redMul(T),D=this.x.redSub(C).redMul(this.x.redAdd(C));D=D.redAdd(D).redIAdd(D);var I=F.redIAdd(F);I=I.redIAdd(I);var k=I.redAdd(I);g=D.redSqr().redISub(k),_=this.y.redAdd(this.z).redSqr().redISub(T).redISub(C);var K=T.redSqr();K=K.redIAdd(K),K=K.redIAdd(K),K=K.redIAdd(K),m=D.redMul(I.redISub(g)).redISub(K)}return this.curve.jpoint(g,m,_)},w.prototype._dbl=function(){var g=this.curve.a,m=this.x,_=this.y,x=this.z,E=x.redSqr().redSqr(),S=m.redSqr(),R=_.redSqr(),P=S.redAdd(S).redIAdd(S).redIAdd(g.redMul(E)),O=m.redAdd(m);O=O.redIAdd(O);var B=O.redMul(R),C=P.redSqr().redISub(B.redAdd(B)),T=B.redISub(C),F=R.redSqr();F=F.redIAdd(F),F=F.redIAdd(F),F=F.redIAdd(F);var D=P.redMul(T).redISub(F),I=_.redAdd(_).redMul(x);return this.curve.jpoint(C,D,I)},w.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var g=this.x.redSqr(),m=this.y.redSqr(),_=this.z.redSqr(),x=m.redSqr(),E=g.redAdd(g).redIAdd(g),S=E.redSqr(),R=this.x.redAdd(m).redSqr().redISub(g).redISub(x);R=R.redIAdd(R),R=R.redAdd(R).redIAdd(R),R=R.redISub(S);var P=R.redSqr(),O=x.redIAdd(x);O=O.redIAdd(O),O=O.redIAdd(O),O=O.redIAdd(O);var B=E.redIAdd(R).redSqr().redISub(S).redISub(P).redISub(O),C=m.redMul(B);C=C.redIAdd(C),C=C.redIAdd(C);var T=this.x.redMul(P).redISub(C);T=T.redIAdd(T),T=T.redIAdd(T);var F=this.y.redMul(B.redMul(O.redISub(B)).redISub(R.redMul(P)));F=F.redIAdd(F),F=F.redIAdd(F),F=F.redIAdd(F);var D=this.z.redAdd(R).redSqr().redISub(_).redISub(P);return this.curve.jpoint(T,F,D)},w.prototype.mul=function(g,m){return g=new s(g,m),this.curve._wnafMul(this,g)},w.prototype.eq=function(g){if(g.type==="affine")return this.eq(g.toJ());if(this===g)return!0;var m=this.z.redSqr(),_=g.z.redSqr();if(this.x.redMul(_).redISub(g.x.redMul(m)).cmpn(0)!==0)return!1;var x=m.redMul(this.z),E=_.redMul(g.z);return this.y.redMul(E).redISub(g.y.redMul(x)).cmpn(0)===0},w.prototype.eqXToP=function(g){var m=this.z.redSqr(),_=g.toRed(this.curve.red).redMul(m);if(this.x.cmp(_)===0)return!0;for(var x=g.clone(),E=this.curve.redN.redMul(m);;){if(x.iadd(this.curve.n),x.cmp(this.curve.p)>=0)return!1;if(_.redIAdd(E),this.x.cmp(_)===0)return!0}},w.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},w.prototype.isInfinity=function(){return this.z.cmpn(0)===0},Rs}var Bs,nh;function U1(){if(nh)return Bs;nh=1;var f=Er(),s=se.exports,h=xn(),o=hr();function p(M){h.call(this,"mont",M),this.a=new f(M.a,16).toRed(this.red),this.b=new f(M.b,16).toRed(this.red),this.i4=new f(4).toRed(this.red).redInvm(),this.two=new f(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}s(p,h),Bs=p,p.prototype.validate=function(w){var y=w.normalize().x,g=y.redSqr(),m=g.redMul(y).redAdd(g.redMul(this.a)).redAdd(y),_=m.redSqrt();return _.redSqr().cmp(m)===0};function i(M,w,y){h.BasePoint.call(this,M,"projective"),w===null&&y===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new f(w,16),this.z=new f(y,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return s(i,h.BasePoint),p.prototype.decodePoint=function(w,y){return this.point(o.toArray(w,y),1)},p.prototype.point=function(w,y){return new i(this,w,y)},p.prototype.pointFromJSON=function(w){return i.fromJSON(this,w)},i.prototype.precompute=function(){},i.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},i.fromJSON=function(w,y){return new i(w,y[0],y[1]||w.one)},i.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},i.prototype.isInfinity=function(){return this.z.cmpn(0)===0},i.prototype.dbl=function(){var w=this.x.redAdd(this.z),y=w.redSqr(),g=this.x.redSub(this.z),m=g.redSqr(),_=y.redSub(m),x=y.redMul(m),E=_.redMul(m.redAdd(this.curve.a24.redMul(_)));return this.curve.point(x,E)},i.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.diffAdd=function(w,y){var g=this.x.redAdd(this.z),m=this.x.redSub(this.z),_=w.x.redAdd(w.z),x=w.x.redSub(w.z),E=x.redMul(g),S=_.redMul(m),R=y.z.redMul(E.redAdd(S).redSqr()),P=y.x.redMul(E.redISub(S).redSqr());return this.curve.point(R,P)},i.prototype.mul=function(w){for(var y=w.clone(),g=this,m=this.curve.point(null,null),_=this,x=[];y.cmpn(0)!==0;y.iushrn(1))x.push(y.andln(1));for(var E=x.length-1;E>=0;E--)x[E]===0?(g=g.diffAdd(m,_),m=m.dbl()):(m=g.diffAdd(m,_),g=g.dbl());return m},i.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.eq=function(w){return this.getX().cmp(w.getX())===0},i.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},i.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Bs}var Ps,sh;function F1(){if(sh)return Ps;sh=1;var f=hr(),s=Er(),h=se.exports,o=xn(),p=f.assert;function i(w){this.twisted=(w.a|0)!==1,this.mOneA=this.twisted&&(w.a|0)===-1,this.extended=this.mOneA,o.call(this,"edwards",w),this.a=new s(w.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new s(w.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new s(w.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),p(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(w.c|0)===1}h(i,o),Ps=i,i.prototype._mulA=function(y){return this.mOneA?y.redNeg():this.a.redMul(y)},i.prototype._mulC=function(y){return this.oneC?y:this.c.redMul(y)},i.prototype.jpoint=function(y,g,m,_){return this.point(y,g,m,_)},i.prototype.pointFromX=function(y,g){y=new s(y,16),y.red||(y=y.toRed(this.red));var m=y.redSqr(),_=this.c2.redSub(this.a.redMul(m)),x=this.one.redSub(this.c2.redMul(this.d).redMul(m)),E=_.redMul(x.redInvm()),S=E.redSqrt();if(S.redSqr().redSub(E).cmp(this.zero)!==0)throw new Error("invalid point");var R=S.fromRed().isOdd();return(g&&!R||!g&&R)&&(S=S.redNeg()),this.point(y,S)},i.prototype.pointFromY=function(y,g){y=new s(y,16),y.red||(y=y.toRed(this.red));var m=y.redSqr(),_=m.redSub(this.c2),x=m.redMul(this.d).redMul(this.c2).redSub(this.a),E=_.redMul(x.redInvm());if(E.cmp(this.zero)===0){if(g)throw new Error("invalid point");return this.point(this.zero,y)}var S=E.redSqrt();if(S.redSqr().redSub(E).cmp(this.zero)!==0)throw new Error("invalid point");return S.fromRed().isOdd()!==g&&(S=S.redNeg()),this.point(S,y)},i.prototype.validate=function(y){if(y.isInfinity())return!0;y.normalize();var g=y.x.redSqr(),m=y.y.redSqr(),_=g.redMul(this.a).redAdd(m),x=this.c2.redMul(this.one.redAdd(this.d.redMul(g).redMul(m)));return _.cmp(x)===0};function M(w,y,g,m,_){o.BasePoint.call(this,w,"projective"),y===null&&g===null&&m===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new s(y,16),this.y=new s(g,16),this.z=m?new s(m,16):this.curve.one,this.t=_&&new s(_,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return h(M,o.BasePoint),i.prototype.pointFromJSON=function(y){return M.fromJSON(this,y)},i.prototype.point=function(y,g,m,_){return new M(this,y,g,m,_)},M.fromJSON=function(y,g){return new M(y,g[0],g[1],g[2])},M.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},M.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},M.prototype._extDbl=function(){var y=this.x.redSqr(),g=this.y.redSqr(),m=this.z.redSqr();m=m.redIAdd(m);var _=this.curve._mulA(y),x=this.x.redAdd(this.y).redSqr().redISub(y).redISub(g),E=_.redAdd(g),S=E.redSub(m),R=_.redSub(g),P=x.redMul(S),O=E.redMul(R),B=x.redMul(R),C=S.redMul(E);return this.curve.point(P,O,C,B)},M.prototype._projDbl=function(){var y=this.x.redAdd(this.y).redSqr(),g=this.x.redSqr(),m=this.y.redSqr(),_,x,E,S,R,P;if(this.curve.twisted){S=this.curve._mulA(g);var O=S.redAdd(m);this.zOne?(_=y.redSub(g).redSub(m).redMul(O.redSub(this.curve.two)),x=O.redMul(S.redSub(m)),E=O.redSqr().redSub(O).redSub(O)):(R=this.z.redSqr(),P=O.redSub(R).redISub(R),_=y.redSub(g).redISub(m).redMul(P),x=O.redMul(S.redSub(m)),E=O.redMul(P))}else S=g.redAdd(m),R=this.curve._mulC(this.z).redSqr(),P=S.redSub(R).redSub(R),_=this.curve._mulC(y.redISub(S)).redMul(P),x=this.curve._mulC(S).redMul(g.redISub(m)),E=S.redMul(P);return this.curve.point(_,x,E)},M.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},M.prototype._extAdd=function(y){var g=this.y.redSub(this.x).redMul(y.y.redSub(y.x)),m=this.y.redAdd(this.x).redMul(y.y.redAdd(y.x)),_=this.t.redMul(this.curve.dd).redMul(y.t),x=this.z.redMul(y.z.redAdd(y.z)),E=m.redSub(g),S=x.redSub(_),R=x.redAdd(_),P=m.redAdd(g),O=E.redMul(S),B=R.redMul(P),C=E.redMul(P),T=S.redMul(R);return this.curve.point(O,B,T,C)},M.prototype._projAdd=function(y){var g=this.z.redMul(y.z),m=g.redSqr(),_=this.x.redMul(y.x),x=this.y.redMul(y.y),E=this.curve.d.redMul(_).redMul(x),S=m.redSub(E),R=m.redAdd(E),P=this.x.redAdd(this.y).redMul(y.x.redAdd(y.y)).redISub(_).redISub(x),O=g.redMul(S).redMul(P),B,C;return this.curve.twisted?(B=g.redMul(R).redMul(x.redSub(this.curve._mulA(_))),C=S.redMul(R)):(B=g.redMul(R).redMul(x.redSub(_)),C=this.curve._mulC(S).redMul(R)),this.curve.point(O,B,C)},M.prototype.add=function(y){return this.isInfinity()?y:y.isInfinity()?this:this.curve.extended?this._extAdd(y):this._projAdd(y)},M.prototype.mul=function(y){return this._hasDoubles(y)?this.curve._fixedNafMul(this,y):this.curve._wnafMul(this,y)},M.prototype.mulAdd=function(y,g,m){return this.curve._wnafMulAdd(1,[this,g],[y,m],2,!1)},M.prototype.jmulAdd=function(y,g,m){return this.curve._wnafMulAdd(1,[this,g],[y,m],2,!0)},M.prototype.normalize=function(){if(this.zOne)return this;var y=this.z.redInvm();return this.x=this.x.redMul(y),this.y=this.y.redMul(y),this.t&&(this.t=this.t.redMul(y)),this.z=this.curve.one,this.zOne=!0,this},M.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},M.prototype.getX=function(){return this.normalize(),this.x.fromRed()},M.prototype.getY=function(){return this.normalize(),this.y.fromRed()},M.prototype.eq=function(y){return this===y||this.getX().cmp(y.getX())===0&&this.getY().cmp(y.getY())===0},M.prototype.eqXToP=function(y){var g=y.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(g)===0)return!0;for(var m=y.clone(),_=this.curve.redN.redMul(this.z);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(g.redIAdd(_),this.x.cmp(g)===0)return!0}},M.prototype.toP=M.prototype.normalize,M.prototype.mixedAdd=M.prototype.add,Ps}var ah;function Mu(){return ah||(ah=1,function(f){var s=f;s.base=xn(),s.short=k1(),s.mont=U1(),s.edwards=F1()}(As)),As}var Ts={},Ns,oh;function z1(){return oh||(oh=1,Ns={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),Ns}var fh;function Wa(){return fh||(fh=1,function(f){var s=f,h=Ua,o=Mu(),p=hr(),i=p.assert;function M(g){g.type==="short"?this.curve=new o.short(g):g.type==="edwards"?this.curve=new o.edwards(g):this.curve=new o.mont(g),this.g=this.curve.g,this.n=this.curve.n,this.hash=g.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}s.PresetCurve=M;function w(g,m){Object.defineProperty(s,g,{configurable:!0,enumerable:!0,get:function(){var _=new M(m);return Object.defineProperty(s,g,{configurable:!0,enumerable:!0,value:_}),_}})}w("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:h.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),w("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:h.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),w("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:h.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),w("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:h.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),w("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:h.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),w("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:h.sha256,gRed:!1,g:["9"]}),w("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:h.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var y;try{y=z1()}catch{y=void 0}w("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:h.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",y]})}(Ts)),Ts}var Os,hh;function $1(){if(hh)return Os;hh=1;var f=Ua,s=wu(),h=$r;function o(p){if(!(this instanceof o))return new o(p);this.hash=p.hash,this.predResist=!!p.predResist,this.outLen=this.hash.outSize,this.minEntropy=p.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var i=s.toArray(p.entropy,p.entropyEnc||"hex"),M=s.toArray(p.nonce,p.nonceEnc||"hex"),w=s.toArray(p.pers,p.persEnc||"hex");h(i.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(i,M,w)}return Os=o,o.prototype._init=function(i,M,w){var y=i.concat(M).concat(w);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var g=0;g<this.V.length;g++)this.K[g]=0,this.V[g]=1;this._update(y),this._reseed=1,this.reseedInterval=281474976710656},o.prototype._hmac=function(){return new f.hmac(this.hash,this.K)},o.prototype._update=function(i){var M=this._hmac().update(this.V).update([0]);i&&(M=M.update(i)),this.K=M.digest(),this.V=this._hmac().update(this.V).digest(),i&&(this.K=this._hmac().update(this.V).update([1]).update(i).digest(),this.V=this._hmac().update(this.V).digest())},o.prototype.reseed=function(i,M,w,y){typeof M!="string"&&(y=w,w=M,M=null),i=s.toArray(i,M),w=s.toArray(w,y),h(i.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(i.concat(w||[])),this._reseed=1},o.prototype.generate=function(i,M,w,y){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof M!="string"&&(y=w,w=M,M=null),w&&(w=s.toArray(w,y||"hex"),this._update(w));for(var g=[];g.length<i;)this.V=this._hmac().update(this.V).digest(),g=g.concat(this.V);var m=g.slice(0,i);return this._update(w),this._reseed++,s.encode(m,M)},Os}var qs,uh;function K1(){if(uh)return qs;uh=1;var f=Er(),s=hr(),h=s.assert;function o(p,i){this.ec=p,this.priv=null,this.pub=null,i.priv&&this._importPrivate(i.priv,i.privEnc),i.pub&&this._importPublic(i.pub,i.pubEnc)}return qs=o,o.fromPublic=function(i,M,w){return M instanceof o?M:new o(i,{pub:M,pubEnc:w})},o.fromPrivate=function(i,M,w){return M instanceof o?M:new o(i,{priv:M,privEnc:w})},o.prototype.validate=function(){var i=this.getPublic();return i.isInfinity()?{result:!1,reason:"Invalid public key"}:i.validate()?i.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(i,M){return typeof i=="string"&&(M=i,i=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),M?this.pub.encode(M,i):this.pub},o.prototype.getPrivate=function(i){return i==="hex"?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(i,M){this.priv=new f(i,M||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(i,M){if(i.x||i.y){this.ec.curve.type==="mont"?h(i.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&h(i.x&&i.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(i.x,i.y);return}this.pub=this.ec.curve.decodePoint(i,M)},o.prototype.derive=function(i){return i.validate()||h(i.validate(),"public point not validated"),i.mul(this.priv).getX()},o.prototype.sign=function(i,M,w){return this.ec.sign(i,this,M,w)},o.prototype.verify=function(i,M){return this.ec.verify(i,M,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},qs}var Cs,ch;function H1(){if(ch)return Cs;ch=1;var f=Er(),s=hr(),h=s.assert;function o(y,g){if(y instanceof o)return y;this._importDER(y,g)||(h(y.r&&y.s,"Signature without r or s"),this.r=new f(y.r,16),this.s=new f(y.s,16),y.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=y.recoveryParam)}Cs=o;function p(){this.place=0}function i(y,g){var m=y[g.place++];if(!(m&128))return m;var _=m&15;if(_===0||_>4)return!1;for(var x=0,E=0,S=g.place;E<_;E++,S++)x<<=8,x|=y[S],x>>>=0;return x<=127?!1:(g.place=S,x)}function M(y){for(var g=0,m=y.length-1;!y[g]&&!(y[g+1]&128)&&g<m;)g++;return g===0?y:y.slice(g)}o.prototype._importDER=function(g,m){g=s.toArray(g,m);var _=new p;if(g[_.place++]!==48)return!1;var x=i(g,_);if(x===!1||x+_.place!==g.length||g[_.place++]!==2)return!1;var E=i(g,_);if(E===!1)return!1;var S=g.slice(_.place,E+_.place);if(_.place+=E,g[_.place++]!==2)return!1;var R=i(g,_);if(R===!1||g.length!==R+_.place)return!1;var P=g.slice(_.place,R+_.place);if(S[0]===0)if(S[1]&128)S=S.slice(1);else return!1;if(P[0]===0)if(P[1]&128)P=P.slice(1);else return!1;return this.r=new f(S),this.s=new f(P),this.recoveryParam=null,!0};function w(y,g){if(g<128){y.push(g);return}var m=1+(Math.log(g)/Math.LN2>>>3);for(y.push(m|128);--m;)y.push(g>>>(m<<3)&255);y.push(g)}return o.prototype.toDER=function(g){var m=this.r.toArray(),_=this.s.toArray();for(m[0]&128&&(m=[0].concat(m)),_[0]&128&&(_=[0].concat(_)),m=M(m),_=M(_);!_[0]&&!(_[1]&128);)_=_.slice(1);var x=[2];w(x,m.length),x=x.concat(m),x.push(2),w(x,_.length);var E=x.concat(_),S=[48];return w(S,E.length),S=S.concat(E),s.encode(S,g)},Cs}var Ds,lh;function j1(){if(lh)return Ds;lh=1;var f=Er(),s=$1(),h=hr(),o=Wa(),p=Ga(),i=h.assert,M=K1(),w=H1();function y(g){if(!(this instanceof y))return new y(g);typeof g=="string"&&(i(Object.prototype.hasOwnProperty.call(o,g),"Unknown curve "+g),g=o[g]),g instanceof o.PresetCurve&&(g={curve:g}),this.curve=g.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=g.curve.g,this.g.precompute(g.curve.n.bitLength()+1),this.hash=g.hash||g.curve.hash}return Ds=y,y.prototype.keyPair=function(m){return new M(this,m)},y.prototype.keyFromPrivate=function(m,_){return M.fromPrivate(this,m,_)},y.prototype.keyFromPublic=function(m,_){return M.fromPublic(this,m,_)},y.prototype.genKeyPair=function(m){m||(m={});for(var _=new s({hash:this.hash,pers:m.pers,persEnc:m.persEnc||"utf8",entropy:m.entropy||p(this.hash.hmacStrength),entropyEnc:m.entropy&&m.entropyEnc||"utf8",nonce:this.n.toArray()}),x=this.n.byteLength(),E=this.n.sub(new f(2));;){var S=new f(_.generate(x));if(!(S.cmp(E)>0))return S.iaddn(1),this.keyFromPrivate(S)}},y.prototype._truncateToN=function(m,_){var x=m.byteLength()*8-this.n.bitLength();return x>0&&(m=m.ushrn(x)),!_&&m.cmp(this.n)>=0?m.sub(this.n):m},y.prototype.sign=function(m,_,x,E){typeof x=="object"&&(E=x,x=null),E||(E={}),_=this.keyFromPrivate(_,x),m=this._truncateToN(new f(m,16));for(var S=this.n.byteLength(),R=_.getPrivate().toArray("be",S),P=m.toArray("be",S),O=new s({hash:this.hash,entropy:R,nonce:P,pers:E.pers,persEnc:E.persEnc||"utf8"}),B=this.n.sub(new f(1)),C=0;;C++){var T=E.k?E.k(C):new f(O.generate(this.n.byteLength()));if(T=this._truncateToN(T,!0),!(T.cmpn(1)<=0||T.cmp(B)>=0)){var F=this.g.mul(T);if(!F.isInfinity()){var D=F.getX(),I=D.umod(this.n);if(I.cmpn(0)!==0){var k=T.invm(this.n).mul(I.mul(_.getPrivate()).iadd(m));if(k=k.umod(this.n),k.cmpn(0)!==0){var K=(F.getY().isOdd()?1:0)|(D.cmp(I)!==0?2:0);return E.canonical&&k.cmp(this.nh)>0&&(k=this.n.sub(k),K^=1),new w({r:I,s:k,recoveryParam:K})}}}}}},y.prototype.verify=function(m,_,x,E){m=this._truncateToN(new f(m,16)),x=this.keyFromPublic(x,E),_=new w(_,"hex");var S=_.r,R=_.s;if(S.cmpn(1)<0||S.cmp(this.n)>=0||R.cmpn(1)<0||R.cmp(this.n)>=0)return!1;var P=R.invm(this.n),O=P.mul(m).umod(this.n),B=P.mul(S).umod(this.n),C;return this.curve._maxwellTrick?(C=this.g.jmulAdd(O,x.getPublic(),B),C.isInfinity()?!1:C.eqXToP(S)):(C=this.g.mulAdd(O,x.getPublic(),B),C.isInfinity()?!1:C.getX().umod(this.n).cmp(S)===0)},y.prototype.recoverPubKey=function(g,m,_,x){i((3&_)===_,"The recovery param is more than two bits"),m=new w(m,x);var E=this.n,S=new f(g),R=m.r,P=m.s,O=_&1,B=_>>1;if(R.cmp(this.curve.p.umod(this.curve.n))>=0&&B)throw new Error("Unable to find sencond key candinate");B?R=this.curve.pointFromX(R.add(this.curve.n),O):R=this.curve.pointFromX(R,O);var C=m.r.invm(E),T=E.sub(S).mul(C).umod(E),F=P.mul(C).umod(E);return this.g.mulAdd(T,R,F)},y.prototype.getKeyRecoveryParam=function(g,m,_,x){if(m=new w(m,x),m.recoveryParam!==null)return m.recoveryParam;for(var E=0;E<4;E++){var S;try{S=this.recoverPubKey(g,m,E)}catch{continue}if(S.eq(_))return E}throw new Error("Unable to find valid recovery factor")},Ds}var Ls,dh;function V1(){if(dh)return Ls;dh=1;var f=hr(),s=f.assert,h=f.parseBytes,o=f.cachedProperty;function p(i,M){this.eddsa=i,this._secret=h(M.secret),i.isPoint(M.pub)?this._pub=M.pub:this._pubBytes=h(M.pub)}return p.fromPublic=function(M,w){return w instanceof p?w:new p(M,{pub:w})},p.fromSecret=function(M,w){return w instanceof p?w:new p(M,{secret:w})},p.prototype.secret=function(){return this._secret},o(p,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),o(p,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),o(p,"privBytes",function(){var M=this.eddsa,w=this.hash(),y=M.encodingLength-1,g=w.slice(0,M.encodingLength);return g[0]&=248,g[y]&=127,g[y]|=64,g}),o(p,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),o(p,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),o(p,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),p.prototype.sign=function(M){return s(this._secret,"KeyPair can only verify"),this.eddsa.sign(M,this)},p.prototype.verify=function(M,w){return this.eddsa.verify(M,w,this)},p.prototype.getSecret=function(M){return s(this._secret,"KeyPair is public only"),f.encode(this.secret(),M)},p.prototype.getPublic=function(M){return f.encode(this.pubBytes(),M)},Ls=p,Ls}var ks,ph;function G1(){if(ph)return ks;ph=1;var f=Er(),s=hr(),h=s.assert,o=s.cachedProperty,p=s.parseBytes;function i(M,w){this.eddsa=M,typeof w!="object"&&(w=p(w)),Array.isArray(w)&&(w={R:w.slice(0,M.encodingLength),S:w.slice(M.encodingLength)}),h(w.R&&w.S,"Signature without R or S"),M.isPoint(w.R)&&(this._R=w.R),w.S instanceof f&&(this._S=w.S),this._Rencoded=Array.isArray(w.R)?w.R:w.Rencoded,this._Sencoded=Array.isArray(w.S)?w.S:w.Sencoded}return o(i,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),o(i,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),o(i,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),o(i,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),i.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},i.prototype.toHex=function(){return s.encode(this.toBytes(),"hex").toUpperCase()},ks=i,ks}var Us,vh;function Z1(){if(vh)return Us;vh=1;var f=Ua,s=Wa(),h=hr(),o=h.assert,p=h.parseBytes,i=V1(),M=G1();function w(y){if(o(y==="ed25519","only tested with ed25519 so far"),!(this instanceof w))return new w(y);y=s[y].curve,this.curve=y,this.g=y.g,this.g.precompute(y.n.bitLength()+1),this.pointClass=y.point().constructor,this.encodingLength=Math.ceil(y.n.bitLength()/8),this.hash=f.sha512}return Us=w,w.prototype.sign=function(g,m){g=p(g);var _=this.keyFromSecret(m),x=this.hashInt(_.messagePrefix(),g),E=this.g.mul(x),S=this.encodePoint(E),R=this.hashInt(S,_.pubBytes(),g).mul(_.priv()),P=x.add(R).umod(this.curve.n);return this.makeSignature({R:E,S:P,Rencoded:S})},w.prototype.verify=function(g,m,_){g=p(g),m=this.makeSignature(m);var x=this.keyFromPublic(_),E=this.hashInt(m.Rencoded(),x.pubBytes(),g),S=this.g.mul(m.S()),R=m.R().add(x.pub().mul(E));return R.eq(S)},w.prototype.hashInt=function(){for(var g=this.hash(),m=0;m<arguments.length;m++)g.update(arguments[m]);return h.intFromLE(g.digest()).umod(this.curve.n)},w.prototype.keyFromPublic=function(g){return i.fromPublic(this,g)},w.prototype.keyFromSecret=function(g){return i.fromSecret(this,g)},w.prototype.makeSignature=function(g){return g instanceof M?g:new M(this,g)},w.prototype.encodePoint=function(g){var m=g.getY().toArray("le",this.encodingLength);return m[this.encodingLength-1]|=g.getX().isOdd()?128:0,m},w.prototype.decodePoint=function(g){g=h.parseBytes(g);var m=g.length-1,_=g.slice(0,m).concat(g[m]&-129),x=(g[m]&128)!==0,E=h.intFromLE(_);return this.curve.pointFromY(E,x)},w.prototype.encodeInt=function(g){return g.toArray("le",this.encodingLength)},w.prototype.decodeInt=function(g){return h.intFromLE(g)},w.prototype.isPoint=function(g){return g instanceof this.pointClass},Us}var mh;function Ya(){return mh||(mh=1,function(f){var s=f;s.version=L1.version,s.utils=hr(),s.rand=Ga(),s.curve=Mu(),s.curves=Wa(),s.ec=j1(),s.eddsa=Z1()}(_s)),_s}var sr={},Fs={},zs={exports:{}},gh;function _u(){return gh||(gh=1,function(f){(function(s,h){function o(d,t){if(!d)throw new Error(t||"Assertion failed")}function p(d,t){d.super_=t;var r=function(){};r.prototype=t.prototype,d.prototype=new r,d.prototype.constructor=d}function i(d,t,r){if(i.isBN(d))return d;this.negative=0,this.words=null,this.length=0,this.red=null,d!==null&&((t==="le"||t==="be")&&(r=t,t=10),this._init(d||0,t||10,r||"be"))}typeof s=="object"?s.exports=i:h.BN=i,i.BN=i,i.wordSize=26;var M;try{typeof window<"u"&&typeof window.Buffer<"u"?M=window.Buffer:M=Vt.Buffer}catch{}i.isBN=function(t){return t instanceof i?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,r){return t.cmp(r)>0?t:r},i.min=function(t,r){return t.cmp(r)<0?t:r},i.prototype._init=function(t,r,n){if(typeof t=="number")return this._initNumber(t,r,n);if(typeof t=="object")return this._initArray(t,r,n);r==="hex"&&(r=16),o(r===(r|0)&&r>=2&&r<=36),t=t.toString().replace(/\s+/g,"");var a=0;t[0]==="-"&&(a++,this.negative=1),a<t.length&&(r===16?this._parseHex(t,a,n):(this._parseBase(t,r,a),n==="le"&&this._initArray(this.toArray(),r,n)))},i.prototype._initNumber=function(t,r,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(o(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),n==="le"&&this._initArray(this.toArray(),r,n)},i.prototype._initArray=function(t,r,n){if(o(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var l,v,b=0;if(n==="be")for(a=t.length-1,l=0;a>=0;a-=3)v=t[a]|t[a-1]<<8|t[a-2]<<16,this.words[l]|=v<<b&67108863,this.words[l+1]=v>>>26-b&67108863,b+=24,b>=26&&(b-=26,l++);else if(n==="le")for(a=0,l=0;a<t.length;a+=3)v=t[a]|t[a+1]<<8|t[a+2]<<16,this.words[l]|=v<<b&67108863,this.words[l+1]=v>>>26-b&67108863,b+=24,b>=26&&(b-=26,l++);return this.strip()};function w(d,t){var r=d.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function y(d,t,r){var n=w(d,r);return r-1>=t&&(n|=w(d,r-1)<<4),n}i.prototype._parseHex=function(t,r,n){this.length=Math.ceil((t.length-r)/6),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var l=0,v=0,b;if(n==="be")for(a=t.length-1;a>=r;a-=2)b=y(t,r,a)<<l,this.words[v]|=b&67108863,l>=18?(l-=18,v+=1,this.words[v]|=b>>>26):l+=8;else{var u=t.length-r;for(a=u%2===0?r+1:r;a<t.length;a+=2)b=y(t,r,a)<<l,this.words[v]|=b&67108863,l>=18?(l-=18,v+=1,this.words[v]|=b>>>26):l+=8}this.strip()};function g(d,t,r,n){for(var a=0,l=Math.min(d.length,r),v=t;v<l;v++){var b=d.charCodeAt(v)-48;a*=n,b>=49?a+=b-49+10:b>=17?a+=b-17+10:a+=b}return a}i.prototype._parseBase=function(t,r,n){this.words=[0],this.length=1;for(var a=0,l=1;l<=67108863;l*=r)a++;a--,l=l/r|0;for(var v=t.length-n,b=v%a,u=Math.min(v,v-b)+n,e=0,c=n;c<u;c+=a)e=g(t,c,c+a,r),this.imuln(l),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e);if(b!==0){var q=1;for(e=g(t,c,t.length,r),c=0;c<b;c++)q*=r;this.imuln(q),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e)}this.strip()},i.prototype.copy=function(t){t.words=new Array(this.length);for(var r=0;r<this.length;r++)t.words[r]=this.words[r];t.length=this.length,t.negative=this.negative,t.red=this.red},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(t,r){t=t||10,r=r|0||1;var n;if(t===16||t==="hex"){n="";for(var a=0,l=0,v=0;v<this.length;v++){var b=this.words[v],u=((b<<a|l)&16777215).toString(16);l=b>>>24-a&16777215,l!==0||v!==this.length-1?n=m[6-u.length]+u+n:n=u+n,a+=2,a>=26&&(a-=26,v--)}for(l!==0&&(n=l.toString(16)+n);n.length%r!==0;)n="0"+n;return this.negative!==0&&(n="-"+n),n}if(t===(t|0)&&t>=2&&t<=36){var e=_[t],c=x[t];n="";var q=this.clone();for(q.negative=0;!q.isZero();){var N=q.modn(c).toString(t);q=q.idivn(c),q.isZero()?n=N+n:n=m[e-N.length]+N+n}for(this.isZero()&&(n="0"+n);n.length%r!==0;)n="0"+n;return this.negative!==0&&(n="-"+n),n}o(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(t,r){return o(typeof M<"u"),this.toArrayLike(M,t,r)},i.prototype.toArray=function(t,r){return this.toArrayLike(Array,t,r)},i.prototype.toArrayLike=function(t,r,n){var a=this.byteLength(),l=n||Math.max(1,a);o(a<=l,"byte array longer than desired length"),o(l>0,"Requested array length <= 0"),this.strip();var v=r==="le",b=new t(l),u,e,c=this.clone();if(v){for(e=0;!c.isZero();e++)u=c.andln(255),c.iushrn(8),b[e]=u;for(;e<l;e++)b[e]=0}else{for(e=0;e<l-a;e++)b[e]=0;for(e=0;!c.isZero();e++)u=c.andln(255),c.iushrn(8),b[l-e-1]=u}return b},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var r=t,n=0;return r>=4096&&(n+=13,r>>>=13),r>=64&&(n+=7,r>>>=7),r>=8&&(n+=4,r>>>=4),r>=2&&(n+=2,r>>>=2),n+r},i.prototype._zeroBits=function(t){if(t===0)return 26;var r=t,n=0;return(r&8191)===0&&(n+=13,r>>>=13),(r&127)===0&&(n+=7,r>>>=7),(r&15)===0&&(n+=4,r>>>=4),(r&3)===0&&(n+=2,r>>>=2),(r&1)===0&&n++,n},i.prototype.bitLength=function(){var t=this.words[this.length-1],r=this._countBits(t);return(this.length-1)*26+r};function E(d){for(var t=new Array(d.bitLength()),r=0;r<t.length;r++){var n=r/26|0,a=r%26;t[r]=(d.words[n]&1<<a)>>>a}return t}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,r=0;r<this.length;r++){var n=this._zeroBits(this.words[r]);if(t+=n,n!==26)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]|t.words[r];return this.strip()},i.prototype.ior=function(t){return o((this.negative|t.negative)===0),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var r;this.length>t.length?r=t:r=this;for(var n=0;n<r.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=r.length,this.strip()},i.prototype.iand=function(t){return o((this.negative|t.negative)===0),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var r,n;this.length>t.length?(r=this,n=t):(r=t,n=this);for(var a=0;a<n.length;a++)this.words[a]=r.words[a]^n.words[a];if(this!==r)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=r.length,this.strip()},i.prototype.ixor=function(t){return o((this.negative|t.negative)===0),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){o(typeof t=="number"&&t>=0);var r=Math.ceil(t/26)|0,n=t%26;this._expand(r),n>0&&r--;for(var a=0;a<r;a++)this.words[a]=~this.words[a]&67108863;return n>0&&(this.words[a]=~this.words[a]&67108863>>26-n),this.strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,r){o(typeof t=="number"&&t>=0);var n=t/26|0,a=t%26;return this._expand(n+1),r?this.words[n]=this.words[n]|1<<a:this.words[n]=this.words[n]&~(1<<a),this.strip()},i.prototype.iadd=function(t){var r;if(this.negative!==0&&t.negative===0)return this.negative=0,r=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,r=this.isub(t),t.negative=1,r._normSign();var n,a;this.length>t.length?(n=this,a=t):(n=t,a=this);for(var l=0,v=0;v<a.length;v++)r=(n.words[v]|0)+(a.words[v]|0)+l,this.words[v]=r&67108863,l=r>>>26;for(;l!==0&&v<n.length;v++)r=(n.words[v]|0)+l,this.words[v]=r&67108863,l=r>>>26;if(this.length=n.length,l!==0)this.words[this.length]=l,this.length++;else if(n!==this)for(;v<n.length;v++)this.words[v]=n.words[v];return this},i.prototype.add=function(t){var r;return t.negative!==0&&this.negative===0?(t.negative=0,r=this.sub(t),t.negative^=1,r):t.negative===0&&this.negative!==0?(this.negative=0,r=t.sub(this),this.negative=1,r):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var r=this.iadd(t);return t.negative=1,r._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n=this.cmp(t);if(n===0)return this.negative=0,this.length=1,this.words[0]=0,this;var a,l;n>0?(a=this,l=t):(a=t,l=this);for(var v=0,b=0;b<l.length;b++)r=(a.words[b]|0)-(l.words[b]|0)+v,v=r>>26,this.words[b]=r&67108863;for(;v!==0&&b<a.length;b++)r=(a.words[b]|0)+v,v=r>>26,this.words[b]=r&67108863;if(v===0&&b<a.length&&a!==this)for(;b<a.length;b++)this.words[b]=a.words[b];return this.length=Math.max(this.length,b),a!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(t){return this.clone().isub(t)};function S(d,t,r){r.negative=t.negative^d.negative;var n=d.length+t.length|0;r.length=n,n=n-1|0;var a=d.words[0]|0,l=t.words[0]|0,v=a*l,b=v&67108863,u=v/67108864|0;r.words[0]=b;for(var e=1;e<n;e++){for(var c=u>>>26,q=u&67108863,N=Math.min(e,t.length-1),L=Math.max(0,e-d.length+1);L<=N;L++){var $=e-L|0;a=d.words[$]|0,l=t.words[L]|0,v=a*l+q,c+=v/67108864|0,q=v&67108863}r.words[e]=q|0,u=c|0}return u!==0?r.words[e]=u|0:r.length--,r.strip()}var R=function(t,r,n){var a=t.words,l=r.words,v=n.words,b=0,u,e,c,q=a[0]|0,N=q&8191,L=q>>>13,$=a[1]|0,V=$&8191,z=$>>>13,G=a[2]|0,U=G&8191,A=G>>>13,j=a[3]|0,Z=j&8191,W=j>>>13,Dt=a[4]|0,at=Dt&8191,nt=Dt>>>13,Ft=a[5]|0,lt=Ft&8191,ut=Ft>>>13,kt=a[6]|0,st=kt&8191,it=kt>>>13,Ct=a[7]|0,et=Ct&8191,tt=Ct>>>13,qt=a[8]|0,X=qt&8191,rt=qt>>>13,Lt=a[9]|0,Q=Lt&8191,ot=Lt>>>13,Ut=l[0]|0,ft=Ut&8191,ht=Ut>>>13,zt=l[1]|0,Et=zt&8191,St=zt>>>13,ae=l[2]|0,xt=ae&8191,At=ae>>>13,Ee=l[3]|0,It=Ee&8191,dt=Ee>>>13,Gt=l[4]|0,pt=Gt&8191,vt=Gt>>>13,Wt=l[5]|0,ct=Wt&8191,bt=Wt>>>13,Yt=l[6]|0,yt=Yt&8191,wt=Yt>>>13,Jt=l[7]|0,gt=Jt&8191,mt=Jt>>>13,$t=l[8]|0,Mt=$t&8191,_t=$t>>>13,Re=l[9]|0,Rt=Re&8191,Bt=Re>>>13;n.negative=t.negative^r.negative,n.length=19,u=Math.imul(N,ft),e=Math.imul(N,ht),e=e+Math.imul(L,ft)|0,c=Math.imul(L,ht);var Xt=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,u=Math.imul(V,ft),e=Math.imul(V,ht),e=e+Math.imul(z,ft)|0,c=Math.imul(z,ht),u=u+Math.imul(N,Et)|0,e=e+Math.imul(N,St)|0,e=e+Math.imul(L,Et)|0,c=c+Math.imul(L,St)|0;var fe=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(fe>>>26)|0,fe&=67108863,u=Math.imul(U,ft),e=Math.imul(U,ht),e=e+Math.imul(A,ft)|0,c=Math.imul(A,ht),u=u+Math.imul(V,Et)|0,e=e+Math.imul(V,St)|0,e=e+Math.imul(z,Et)|0,c=c+Math.imul(z,St)|0,u=u+Math.imul(N,xt)|0,e=e+Math.imul(N,At)|0,e=e+Math.imul(L,xt)|0,c=c+Math.imul(L,At)|0;var he=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(he>>>26)|0,he&=67108863,u=Math.imul(Z,ft),e=Math.imul(Z,ht),e=e+Math.imul(W,ft)|0,c=Math.imul(W,ht),u=u+Math.imul(U,Et)|0,e=e+Math.imul(U,St)|0,e=e+Math.imul(A,Et)|0,c=c+Math.imul(A,St)|0,u=u+Math.imul(V,xt)|0,e=e+Math.imul(V,At)|0,e=e+Math.imul(z,xt)|0,c=c+Math.imul(z,At)|0,u=u+Math.imul(N,It)|0,e=e+Math.imul(N,dt)|0,e=e+Math.imul(L,It)|0,c=c+Math.imul(L,dt)|0;var ue=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ue>>>26)|0,ue&=67108863,u=Math.imul(at,ft),e=Math.imul(at,ht),e=e+Math.imul(nt,ft)|0,c=Math.imul(nt,ht),u=u+Math.imul(Z,Et)|0,e=e+Math.imul(Z,St)|0,e=e+Math.imul(W,Et)|0,c=c+Math.imul(W,St)|0,u=u+Math.imul(U,xt)|0,e=e+Math.imul(U,At)|0,e=e+Math.imul(A,xt)|0,c=c+Math.imul(A,At)|0,u=u+Math.imul(V,It)|0,e=e+Math.imul(V,dt)|0,e=e+Math.imul(z,It)|0,c=c+Math.imul(z,dt)|0,u=u+Math.imul(N,pt)|0,e=e+Math.imul(N,vt)|0,e=e+Math.imul(L,pt)|0,c=c+Math.imul(L,vt)|0;var ce=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ce>>>26)|0,ce&=67108863,u=Math.imul(lt,ft),e=Math.imul(lt,ht),e=e+Math.imul(ut,ft)|0,c=Math.imul(ut,ht),u=u+Math.imul(at,Et)|0,e=e+Math.imul(at,St)|0,e=e+Math.imul(nt,Et)|0,c=c+Math.imul(nt,St)|0,u=u+Math.imul(Z,xt)|0,e=e+Math.imul(Z,At)|0,e=e+Math.imul(W,xt)|0,c=c+Math.imul(W,At)|0,u=u+Math.imul(U,It)|0,e=e+Math.imul(U,dt)|0,e=e+Math.imul(A,It)|0,c=c+Math.imul(A,dt)|0,u=u+Math.imul(V,pt)|0,e=e+Math.imul(V,vt)|0,e=e+Math.imul(z,pt)|0,c=c+Math.imul(z,vt)|0,u=u+Math.imul(N,ct)|0,e=e+Math.imul(N,bt)|0,e=e+Math.imul(L,ct)|0,c=c+Math.imul(L,bt)|0;var le=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(le>>>26)|0,le&=67108863,u=Math.imul(st,ft),e=Math.imul(st,ht),e=e+Math.imul(it,ft)|0,c=Math.imul(it,ht),u=u+Math.imul(lt,Et)|0,e=e+Math.imul(lt,St)|0,e=e+Math.imul(ut,Et)|0,c=c+Math.imul(ut,St)|0,u=u+Math.imul(at,xt)|0,e=e+Math.imul(at,At)|0,e=e+Math.imul(nt,xt)|0,c=c+Math.imul(nt,At)|0,u=u+Math.imul(Z,It)|0,e=e+Math.imul(Z,dt)|0,e=e+Math.imul(W,It)|0,c=c+Math.imul(W,dt)|0,u=u+Math.imul(U,pt)|0,e=e+Math.imul(U,vt)|0,e=e+Math.imul(A,pt)|0,c=c+Math.imul(A,vt)|0,u=u+Math.imul(V,ct)|0,e=e+Math.imul(V,bt)|0,e=e+Math.imul(z,ct)|0,c=c+Math.imul(z,bt)|0,u=u+Math.imul(N,yt)|0,e=e+Math.imul(N,wt)|0,e=e+Math.imul(L,yt)|0,c=c+Math.imul(L,wt)|0;var ee=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ee>>>26)|0,ee&=67108863,u=Math.imul(et,ft),e=Math.imul(et,ht),e=e+Math.imul(tt,ft)|0,c=Math.imul(tt,ht),u=u+Math.imul(st,Et)|0,e=e+Math.imul(st,St)|0,e=e+Math.imul(it,Et)|0,c=c+Math.imul(it,St)|0,u=u+Math.imul(lt,xt)|0,e=e+Math.imul(lt,At)|0,e=e+Math.imul(ut,xt)|0,c=c+Math.imul(ut,At)|0,u=u+Math.imul(at,It)|0,e=e+Math.imul(at,dt)|0,e=e+Math.imul(nt,It)|0,c=c+Math.imul(nt,dt)|0,u=u+Math.imul(Z,pt)|0,e=e+Math.imul(Z,vt)|0,e=e+Math.imul(W,pt)|0,c=c+Math.imul(W,vt)|0,u=u+Math.imul(U,ct)|0,e=e+Math.imul(U,bt)|0,e=e+Math.imul(A,ct)|0,c=c+Math.imul(A,bt)|0,u=u+Math.imul(V,yt)|0,e=e+Math.imul(V,wt)|0,e=e+Math.imul(z,yt)|0,c=c+Math.imul(z,wt)|0,u=u+Math.imul(N,gt)|0,e=e+Math.imul(N,mt)|0,e=e+Math.imul(L,gt)|0,c=c+Math.imul(L,mt)|0;var de=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(de>>>26)|0,de&=67108863,u=Math.imul(X,ft),e=Math.imul(X,ht),e=e+Math.imul(rt,ft)|0,c=Math.imul(rt,ht),u=u+Math.imul(et,Et)|0,e=e+Math.imul(et,St)|0,e=e+Math.imul(tt,Et)|0,c=c+Math.imul(tt,St)|0,u=u+Math.imul(st,xt)|0,e=e+Math.imul(st,At)|0,e=e+Math.imul(it,xt)|0,c=c+Math.imul(it,At)|0,u=u+Math.imul(lt,It)|0,e=e+Math.imul(lt,dt)|0,e=e+Math.imul(ut,It)|0,c=c+Math.imul(ut,dt)|0,u=u+Math.imul(at,pt)|0,e=e+Math.imul(at,vt)|0,e=e+Math.imul(nt,pt)|0,c=c+Math.imul(nt,vt)|0,u=u+Math.imul(Z,ct)|0,e=e+Math.imul(Z,bt)|0,e=e+Math.imul(W,ct)|0,c=c+Math.imul(W,bt)|0,u=u+Math.imul(U,yt)|0,e=e+Math.imul(U,wt)|0,e=e+Math.imul(A,yt)|0,c=c+Math.imul(A,wt)|0,u=u+Math.imul(V,gt)|0,e=e+Math.imul(V,mt)|0,e=e+Math.imul(z,gt)|0,c=c+Math.imul(z,mt)|0,u=u+Math.imul(N,Mt)|0,e=e+Math.imul(N,_t)|0,e=e+Math.imul(L,Mt)|0,c=c+Math.imul(L,_t)|0;var pe=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(pe>>>26)|0,pe&=67108863,u=Math.imul(Q,ft),e=Math.imul(Q,ht),e=e+Math.imul(ot,ft)|0,c=Math.imul(ot,ht),u=u+Math.imul(X,Et)|0,e=e+Math.imul(X,St)|0,e=e+Math.imul(rt,Et)|0,c=c+Math.imul(rt,St)|0,u=u+Math.imul(et,xt)|0,e=e+Math.imul(et,At)|0,e=e+Math.imul(tt,xt)|0,c=c+Math.imul(tt,At)|0,u=u+Math.imul(st,It)|0,e=e+Math.imul(st,dt)|0,e=e+Math.imul(it,It)|0,c=c+Math.imul(it,dt)|0,u=u+Math.imul(lt,pt)|0,e=e+Math.imul(lt,vt)|0,e=e+Math.imul(ut,pt)|0,c=c+Math.imul(ut,vt)|0,u=u+Math.imul(at,ct)|0,e=e+Math.imul(at,bt)|0,e=e+Math.imul(nt,ct)|0,c=c+Math.imul(nt,bt)|0,u=u+Math.imul(Z,yt)|0,e=e+Math.imul(Z,wt)|0,e=e+Math.imul(W,yt)|0,c=c+Math.imul(W,wt)|0,u=u+Math.imul(U,gt)|0,e=e+Math.imul(U,mt)|0,e=e+Math.imul(A,gt)|0,c=c+Math.imul(A,mt)|0,u=u+Math.imul(V,Mt)|0,e=e+Math.imul(V,_t)|0,e=e+Math.imul(z,Mt)|0,c=c+Math.imul(z,_t)|0,u=u+Math.imul(N,Rt)|0,e=e+Math.imul(N,Bt)|0,e=e+Math.imul(L,Rt)|0,c=c+Math.imul(L,Bt)|0;var ve=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ve>>>26)|0,ve&=67108863,u=Math.imul(Q,Et),e=Math.imul(Q,St),e=e+Math.imul(ot,Et)|0,c=Math.imul(ot,St),u=u+Math.imul(X,xt)|0,e=e+Math.imul(X,At)|0,e=e+Math.imul(rt,xt)|0,c=c+Math.imul(rt,At)|0,u=u+Math.imul(et,It)|0,e=e+Math.imul(et,dt)|0,e=e+Math.imul(tt,It)|0,c=c+Math.imul(tt,dt)|0,u=u+Math.imul(st,pt)|0,e=e+Math.imul(st,vt)|0,e=e+Math.imul(it,pt)|0,c=c+Math.imul(it,vt)|0,u=u+Math.imul(lt,ct)|0,e=e+Math.imul(lt,bt)|0,e=e+Math.imul(ut,ct)|0,c=c+Math.imul(ut,bt)|0,u=u+Math.imul(at,yt)|0,e=e+Math.imul(at,wt)|0,e=e+Math.imul(nt,yt)|0,c=c+Math.imul(nt,wt)|0,u=u+Math.imul(Z,gt)|0,e=e+Math.imul(Z,mt)|0,e=e+Math.imul(W,gt)|0,c=c+Math.imul(W,mt)|0,u=u+Math.imul(U,Mt)|0,e=e+Math.imul(U,_t)|0,e=e+Math.imul(A,Mt)|0,c=c+Math.imul(A,_t)|0,u=u+Math.imul(V,Rt)|0,e=e+Math.imul(V,Bt)|0,e=e+Math.imul(z,Rt)|0,c=c+Math.imul(z,Bt)|0;var me=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(me>>>26)|0,me&=67108863,u=Math.imul(Q,xt),e=Math.imul(Q,At),e=e+Math.imul(ot,xt)|0,c=Math.imul(ot,At),u=u+Math.imul(X,It)|0,e=e+Math.imul(X,dt)|0,e=e+Math.imul(rt,It)|0,c=c+Math.imul(rt,dt)|0,u=u+Math.imul(et,pt)|0,e=e+Math.imul(et,vt)|0,e=e+Math.imul(tt,pt)|0,c=c+Math.imul(tt,vt)|0,u=u+Math.imul(st,ct)|0,e=e+Math.imul(st,bt)|0,e=e+Math.imul(it,ct)|0,c=c+Math.imul(it,bt)|0,u=u+Math.imul(lt,yt)|0,e=e+Math.imul(lt,wt)|0,e=e+Math.imul(ut,yt)|0,c=c+Math.imul(ut,wt)|0,u=u+Math.imul(at,gt)|0,e=e+Math.imul(at,mt)|0,e=e+Math.imul(nt,gt)|0,c=c+Math.imul(nt,mt)|0,u=u+Math.imul(Z,Mt)|0,e=e+Math.imul(Z,_t)|0,e=e+Math.imul(W,Mt)|0,c=c+Math.imul(W,_t)|0,u=u+Math.imul(U,Rt)|0,e=e+Math.imul(U,Bt)|0,e=e+Math.imul(A,Rt)|0,c=c+Math.imul(A,Bt)|0;var ge=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ge>>>26)|0,ge&=67108863,u=Math.imul(Q,It),e=Math.imul(Q,dt),e=e+Math.imul(ot,It)|0,c=Math.imul(ot,dt),u=u+Math.imul(X,pt)|0,e=e+Math.imul(X,vt)|0,e=e+Math.imul(rt,pt)|0,c=c+Math.imul(rt,vt)|0,u=u+Math.imul(et,ct)|0,e=e+Math.imul(et,bt)|0,e=e+Math.imul(tt,ct)|0,c=c+Math.imul(tt,bt)|0,u=u+Math.imul(st,yt)|0,e=e+Math.imul(st,wt)|0,e=e+Math.imul(it,yt)|0,c=c+Math.imul(it,wt)|0,u=u+Math.imul(lt,gt)|0,e=e+Math.imul(lt,mt)|0,e=e+Math.imul(ut,gt)|0,c=c+Math.imul(ut,mt)|0,u=u+Math.imul(at,Mt)|0,e=e+Math.imul(at,_t)|0,e=e+Math.imul(nt,Mt)|0,c=c+Math.imul(nt,_t)|0,u=u+Math.imul(Z,Rt)|0,e=e+Math.imul(Z,Bt)|0,e=e+Math.imul(W,Rt)|0,c=c+Math.imul(W,Bt)|0;var ie=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ie>>>26)|0,ie&=67108863,u=Math.imul(Q,pt),e=Math.imul(Q,vt),e=e+Math.imul(ot,pt)|0,c=Math.imul(ot,vt),u=u+Math.imul(X,ct)|0,e=e+Math.imul(X,bt)|0,e=e+Math.imul(rt,ct)|0,c=c+Math.imul(rt,bt)|0,u=u+Math.imul(et,yt)|0,e=e+Math.imul(et,wt)|0,e=e+Math.imul(tt,yt)|0,c=c+Math.imul(tt,wt)|0,u=u+Math.imul(st,gt)|0,e=e+Math.imul(st,mt)|0,e=e+Math.imul(it,gt)|0,c=c+Math.imul(it,mt)|0,u=u+Math.imul(lt,Mt)|0,e=e+Math.imul(lt,_t)|0,e=e+Math.imul(ut,Mt)|0,c=c+Math.imul(ut,_t)|0,u=u+Math.imul(at,Rt)|0,e=e+Math.imul(at,Bt)|0,e=e+Math.imul(nt,Rt)|0,c=c+Math.imul(nt,Bt)|0;var be=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(be>>>26)|0,be&=67108863,u=Math.imul(Q,ct),e=Math.imul(Q,bt),e=e+Math.imul(ot,ct)|0,c=Math.imul(ot,bt),u=u+Math.imul(X,yt)|0,e=e+Math.imul(X,wt)|0,e=e+Math.imul(rt,yt)|0,c=c+Math.imul(rt,wt)|0,u=u+Math.imul(et,gt)|0,e=e+Math.imul(et,mt)|0,e=e+Math.imul(tt,gt)|0,c=c+Math.imul(tt,mt)|0,u=u+Math.imul(st,Mt)|0,e=e+Math.imul(st,_t)|0,e=e+Math.imul(it,Mt)|0,c=c+Math.imul(it,_t)|0,u=u+Math.imul(lt,Rt)|0,e=e+Math.imul(lt,Bt)|0,e=e+Math.imul(ut,Rt)|0,c=c+Math.imul(ut,Bt)|0;var ye=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ye>>>26)|0,ye&=67108863,u=Math.imul(Q,yt),e=Math.imul(Q,wt),e=e+Math.imul(ot,yt)|0,c=Math.imul(ot,wt),u=u+Math.imul(X,gt)|0,e=e+Math.imul(X,mt)|0,e=e+Math.imul(rt,gt)|0,c=c+Math.imul(rt,mt)|0,u=u+Math.imul(et,Mt)|0,e=e+Math.imul(et,_t)|0,e=e+Math.imul(tt,Mt)|0,c=c+Math.imul(tt,_t)|0,u=u+Math.imul(st,Rt)|0,e=e+Math.imul(st,Bt)|0,e=e+Math.imul(it,Rt)|0,c=c+Math.imul(it,Bt)|0;var te=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(te>>>26)|0,te&=67108863,u=Math.imul(Q,gt),e=Math.imul(Q,mt),e=e+Math.imul(ot,gt)|0,c=Math.imul(ot,mt),u=u+Math.imul(X,Mt)|0,e=e+Math.imul(X,_t)|0,e=e+Math.imul(rt,Mt)|0,c=c+Math.imul(rt,_t)|0,u=u+Math.imul(et,Rt)|0,e=e+Math.imul(et,Bt)|0,e=e+Math.imul(tt,Rt)|0,c=c+Math.imul(tt,Bt)|0;var we=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(we>>>26)|0,we&=67108863,u=Math.imul(Q,Mt),e=Math.imul(Q,_t),e=e+Math.imul(ot,Mt)|0,c=Math.imul(ot,_t),u=u+Math.imul(X,Rt)|0,e=e+Math.imul(X,Bt)|0,e=e+Math.imul(rt,Rt)|0,c=c+Math.imul(rt,Bt)|0;var Me=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(Me>>>26)|0,Me&=67108863,u=Math.imul(Q,Rt),e=Math.imul(Q,Bt),e=e+Math.imul(ot,Rt)|0,c=Math.imul(ot,Bt);var _e=(b+u|0)+((e&8191)<<13)|0;return b=(c+(e>>>13)|0)+(_e>>>26)|0,_e&=67108863,v[0]=Xt,v[1]=fe,v[2]=he,v[3]=ue,v[4]=ce,v[5]=le,v[6]=ee,v[7]=de,v[8]=pe,v[9]=ve,v[10]=me,v[11]=ge,v[12]=ie,v[13]=be,v[14]=ye,v[15]=te,v[16]=we,v[17]=Me,v[18]=_e,b!==0&&(v[19]=b,n.length++),n};Math.imul||(R=S);function P(d,t,r){r.negative=t.negative^d.negative,r.length=d.length+t.length;for(var n=0,a=0,l=0;l<r.length-1;l++){var v=a;a=0;for(var b=n&67108863,u=Math.min(l,t.length-1),e=Math.max(0,l-d.length+1);e<=u;e++){var c=l-e,q=d.words[c]|0,N=t.words[e]|0,L=q*N,$=L&67108863;v=v+(L/67108864|0)|0,$=$+b|0,b=$&67108863,v=v+($>>>26)|0,a+=v>>>26,v&=67108863}r.words[l]=b,n=v,v=a}return n!==0?r.words[l]=n:r.length--,r.strip()}function O(d,t,r){var n=new B;return n.mulp(d,t,r)}i.prototype.mulTo=function(t,r){var n,a=this.length+t.length;return this.length===10&&t.length===10?n=R(this,t,r):a<63?n=S(this,t,r):a<1024?n=P(this,t,r):n=O(this,t,r),n};function B(d,t){this.x=d,this.y=t}B.prototype.makeRBT=function(t){for(var r=new Array(t),n=i.prototype._countBits(t)-1,a=0;a<t;a++)r[a]=this.revBin(a,n,t);return r},B.prototype.revBin=function(t,r,n){if(t===0||t===n-1)return t;for(var a=0,l=0;l<r;l++)a|=(t&1)<<r-l-1,t>>=1;return a},B.prototype.permute=function(t,r,n,a,l,v){for(var b=0;b<v;b++)a[b]=r[t[b]],l[b]=n[t[b]]},B.prototype.transform=function(t,r,n,a,l,v){this.permute(v,t,r,n,a,l);for(var b=1;b<l;b<<=1)for(var u=b<<1,e=Math.cos(2*Math.PI/u),c=Math.sin(2*Math.PI/u),q=0;q<l;q+=u)for(var N=e,L=c,$=0;$<b;$++){var V=n[q+$],z=a[q+$],G=n[q+$+b],U=a[q+$+b],A=N*G-L*U;U=N*U+L*G,G=A,n[q+$]=V+G,a[q+$]=z+U,n[q+$+b]=V-G,a[q+$+b]=z-U,$!==u&&(A=e*N-c*L,L=e*L+c*N,N=A)}},B.prototype.guessLen13b=function(t,r){var n=Math.max(r,t)|1,a=n&1,l=0;for(n=n/2|0;n;n=n>>>1)l++;return 1<<l+1+a},B.prototype.conjugate=function(t,r,n){if(!(n<=1))for(var a=0;a<n/2;a++){var l=t[a];t[a]=t[n-a-1],t[n-a-1]=l,l=r[a],r[a]=-r[n-a-1],r[n-a-1]=-l}},B.prototype.normalize13b=function(t,r){for(var n=0,a=0;a<r/2;a++){var l=Math.round(t[2*a+1]/r)*8192+Math.round(t[2*a]/r)+n;t[a]=l&67108863,l<67108864?n=0:n=l/67108864|0}return t},B.prototype.convert13b=function(t,r,n,a){for(var l=0,v=0;v<r;v++)l=l+(t[v]|0),n[2*v]=l&8191,l=l>>>13,n[2*v+1]=l&8191,l=l>>>13;for(v=2*r;v<a;++v)n[v]=0;o(l===0),o((l&-8192)===0)},B.prototype.stub=function(t){for(var r=new Array(t),n=0;n<t;n++)r[n]=0;return r},B.prototype.mulp=function(t,r,n){var a=2*this.guessLen13b(t.length,r.length),l=this.makeRBT(a),v=this.stub(a),b=new Array(a),u=new Array(a),e=new Array(a),c=new Array(a),q=new Array(a),N=new Array(a),L=n.words;L.length=a,this.convert13b(t.words,t.length,b,a),this.convert13b(r.words,r.length,c,a),this.transform(b,v,u,e,a,l),this.transform(c,v,q,N,a,l);for(var $=0;$<a;$++){var V=u[$]*q[$]-e[$]*N[$];e[$]=u[$]*N[$]+e[$]*q[$],u[$]=V}return this.conjugate(u,e,a),this.transform(u,e,L,v,a,l),this.conjugate(L,v,a),this.normalize13b(L,a),n.negative=t.negative^r.negative,n.length=t.length+r.length,n.strip()},i.prototype.mul=function(t){var r=new i(null);return r.words=new Array(this.length+t.length),this.mulTo(t,r)},i.prototype.mulf=function(t){var r=new i(null);return r.words=new Array(this.length+t.length),O(this,t,r)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){o(typeof t=="number"),o(t<67108864);for(var r=0,n=0;n<this.length;n++){var a=(this.words[n]|0)*t,l=(a&67108863)+(r&67108863);r>>=26,r+=a/67108864|0,r+=l>>>26,this.words[n]=l&67108863}return r!==0&&(this.words[n]=r,this.length++),this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var r=E(t);if(r.length===0)return new i(1);for(var n=this,a=0;a<r.length&&r[a]===0;a++,n=n.sqr());if(++a<r.length)for(var l=n.sqr();a<r.length;a++,l=l.sqr())r[a]!==0&&(n=n.mul(l));return n},i.prototype.iushln=function(t){o(typeof t=="number"&&t>=0);var r=t%26,n=(t-r)/26,a=67108863>>>26-r<<26-r,l;if(r!==0){var v=0;for(l=0;l<this.length;l++){var b=this.words[l]&a,u=(this.words[l]|0)-b<<r;this.words[l]=u|v,v=b>>>26-r}v&&(this.words[l]=v,this.length++)}if(n!==0){for(l=this.length-1;l>=0;l--)this.words[l+n]=this.words[l];for(l=0;l<n;l++)this.words[l]=0;this.length+=n}return this.strip()},i.prototype.ishln=function(t){return o(this.negative===0),this.iushln(t)},i.prototype.iushrn=function(t,r,n){o(typeof t=="number"&&t>=0);var a;r?a=(r-r%26)/26:a=0;var l=t%26,v=Math.min((t-l)/26,this.length),b=67108863^67108863>>>l<<l,u=n;if(a-=v,a=Math.max(0,a),u){for(var e=0;e<v;e++)u.words[e]=this.words[e];u.length=v}if(v!==0)if(this.length>v)for(this.length-=v,e=0;e<this.length;e++)this.words[e]=this.words[e+v];else this.words[0]=0,this.length=1;var c=0;for(e=this.length-1;e>=0&&(c!==0||e>=a);e--){var q=this.words[e]|0;this.words[e]=c<<26-l|q>>>l,c=q&b}return u&&c!==0&&(u.words[u.length++]=c),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(t,r,n){return o(this.negative===0),this.iushrn(t,r,n)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){o(typeof t=="number"&&t>=0);var r=t%26,n=(t-r)/26,a=1<<r;if(this.length<=n)return!1;var l=this.words[n];return!!(l&a)},i.prototype.imaskn=function(t){o(typeof t=="number"&&t>=0);var r=t%26,n=(t-r)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=n)return this;if(r!==0&&n++,this.length=Math.min(n,this.length),r!==0){var a=67108863^67108863>>>r<<r;this.words[this.length-1]&=a}return this.strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return o(typeof t=="number"),o(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var r=0;r<this.length&&this.words[r]>=67108864;r++)this.words[r]-=67108864,r===this.length-1?this.words[r+1]=1:this.words[r+1]++;return this.length=Math.max(this.length,r+1),this},i.prototype.isubn=function(t){if(o(typeof t=="number"),o(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var r=0;r<this.length&&this.words[r]<0;r++)this.words[r]+=67108864,this.words[r+1]-=1;return this.strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,r,n){var a=t.length+n,l;this._expand(a);var v,b=0;for(l=0;l<t.length;l++){v=(this.words[l+n]|0)+b;var u=(t.words[l]|0)*r;v-=u&67108863,b=(v>>26)-(u/67108864|0),this.words[l+n]=v&67108863}for(;l<this.length-n;l++)v=(this.words[l+n]|0)+b,b=v>>26,this.words[l+n]=v&67108863;if(b===0)return this.strip();for(o(b===-1),b=0,l=0;l<this.length;l++)v=-(this.words[l]|0)+b,b=v>>26,this.words[l]=v&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(t,r){var n=this.length-t.length,a=this.clone(),l=t,v=l.words[l.length-1]|0,b=this._countBits(v);n=26-b,n!==0&&(l=l.ushln(n),a.iushln(n),v=l.words[l.length-1]|0);var u=a.length-l.length,e;if(r!=="mod"){e=new i(null),e.length=u+1,e.words=new Array(e.length);for(var c=0;c<e.length;c++)e.words[c]=0}var q=a.clone()._ishlnsubmul(l,1,u);q.negative===0&&(a=q,e&&(e.words[u]=1));for(var N=u-1;N>=0;N--){var L=(a.words[l.length+N]|0)*67108864+(a.words[l.length+N-1]|0);for(L=Math.min(L/v|0,67108863),a._ishlnsubmul(l,L,N);a.negative!==0;)L--,a.negative=0,a._ishlnsubmul(l,1,N),a.isZero()||(a.negative^=1);e&&(e.words[N]=L)}return e&&e.strip(),a.strip(),r!=="div"&&n!==0&&a.iushrn(n),{div:e||null,mod:a}},i.prototype.divmod=function(t,r,n){if(o(!t.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var a,l,v;return this.negative!==0&&t.negative===0?(v=this.neg().divmod(t,r),r!=="mod"&&(a=v.div.neg()),r!=="div"&&(l=v.mod.neg(),n&&l.negative!==0&&l.iadd(t)),{div:a,mod:l}):this.negative===0&&t.negative!==0?(v=this.divmod(t.neg(),r),r!=="mod"&&(a=v.div.neg()),{div:a,mod:v.mod}):(this.negative&t.negative)!==0?(v=this.neg().divmod(t.neg(),r),r!=="div"&&(l=v.mod.neg(),n&&l.negative!==0&&l.isub(t)),{div:v.div,mod:l}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:t.length===1?r==="div"?{div:this.divn(t.words[0]),mod:null}:r==="mod"?{div:null,mod:new i(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modn(t.words[0]))}:this._wordDiv(t,r)},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var r=this.divmod(t);if(r.mod.isZero())return r.div;var n=r.div.negative!==0?r.mod.isub(t):r.mod,a=t.ushrn(1),l=t.andln(1),v=n.cmp(a);return v<0||l===1&&v===0?r.div:r.div.negative!==0?r.div.isubn(1):r.div.iaddn(1)},i.prototype.modn=function(t){o(t<=67108863);for(var r=(1<<26)%t,n=0,a=this.length-1;a>=0;a--)n=(r*n+(this.words[a]|0))%t;return n},i.prototype.idivn=function(t){o(t<=67108863);for(var r=0,n=this.length-1;n>=0;n--){var a=(this.words[n]|0)+r*67108864;this.words[n]=a/t|0,r=a%t}return this.strip()},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){o(t.negative===0),o(!t.isZero());var r=this,n=t.clone();r.negative!==0?r=r.umod(t):r=r.clone();for(var a=new i(1),l=new i(0),v=new i(0),b=new i(1),u=0;r.isEven()&&n.isEven();)r.iushrn(1),n.iushrn(1),++u;for(var e=n.clone(),c=r.clone();!r.isZero();){for(var q=0,N=1;(r.words[0]&N)===0&&q<26;++q,N<<=1);if(q>0)for(r.iushrn(q);q-- >0;)(a.isOdd()||l.isOdd())&&(a.iadd(e),l.isub(c)),a.iushrn(1),l.iushrn(1);for(var L=0,$=1;(n.words[0]&$)===0&&L<26;++L,$<<=1);if(L>0)for(n.iushrn(L);L-- >0;)(v.isOdd()||b.isOdd())&&(v.iadd(e),b.isub(c)),v.iushrn(1),b.iushrn(1);r.cmp(n)>=0?(r.isub(n),a.isub(v),l.isub(b)):(n.isub(r),v.isub(a),b.isub(l))}return{a:v,b,gcd:n.iushln(u)}},i.prototype._invmp=function(t){o(t.negative===0),o(!t.isZero());var r=this,n=t.clone();r.negative!==0?r=r.umod(t):r=r.clone();for(var a=new i(1),l=new i(0),v=n.clone();r.cmpn(1)>0&&n.cmpn(1)>0;){for(var b=0,u=1;(r.words[0]&u)===0&&b<26;++b,u<<=1);if(b>0)for(r.iushrn(b);b-- >0;)a.isOdd()&&a.iadd(v),a.iushrn(1);for(var e=0,c=1;(n.words[0]&c)===0&&e<26;++e,c<<=1);if(e>0)for(n.iushrn(e);e-- >0;)l.isOdd()&&l.iadd(v),l.iushrn(1);r.cmp(n)>=0?(r.isub(n),a.isub(l)):(n.isub(r),l.isub(a))}var q;return r.cmpn(1)===0?q=a:q=l,q.cmpn(0)<0&&q.iadd(t),q},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var r=this.clone(),n=t.clone();r.negative=0,n.negative=0;for(var a=0;r.isEven()&&n.isEven();a++)r.iushrn(1),n.iushrn(1);do{for(;r.isEven();)r.iushrn(1);for(;n.isEven();)n.iushrn(1);var l=r.cmp(n);if(l<0){var v=r;r=n,n=v}else if(l===0||n.cmpn(1)===0)break;r.isub(n)}while(!0);return n.iushln(a)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){o(typeof t=="number");var r=t%26,n=(t-r)/26,a=1<<r;if(this.length<=n)return this._expand(n+1),this.words[n]|=a,this;for(var l=a,v=n;l!==0&&v<this.length;v++){var b=this.words[v]|0;b+=l,l=b>>>26,b&=67108863,this.words[v]=b}return l!==0&&(this.words[v]=l,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(t){var r=t<0;if(this.negative!==0&&!r)return-1;if(this.negative===0&&r)return 1;this.strip();var n;if(this.length>1)n=1;else{r&&(t=-t),o(t<=67108863,"Number is too big");var a=this.words[0]|0;n=a===t?0:a<t?-1:1}return this.negative!==0?-n|0:n},i.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var r=this.ucmp(t);return this.negative!==0?-r|0:r},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var r=0,n=this.length-1;n>=0;n--){var a=this.words[n]|0,l=t.words[n]|0;if(a!==l){a<l?r=-1:a>l&&(r=1);break}}return r},i.prototype.gtn=function(t){return this.cmpn(t)===1},i.prototype.gt=function(t){return this.cmp(t)===1},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return this.cmpn(t)===-1},i.prototype.lt=function(t){return this.cmp(t)===-1},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return this.cmpn(t)===0},i.prototype.eq=function(t){return this.cmp(t)===0},i.red=function(t){return new K(t)},i.prototype.toRed=function(t){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return o(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return o(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var C={k256:null,p224:null,p192:null,p25519:null};function T(d,t){this.name=d,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}T.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},T.prototype.ireduce=function(t){var r=t,n;do this.split(r,this.tmp),r=this.imulK(r),r=r.iadd(this.tmp),n=r.bitLength();while(n>this.n);var a=n<this.n?-1:r.ucmp(this.p);return a===0?(r.words[0]=0,r.length=1):a>0?r.isub(this.p):r.strip!==void 0?r.strip():r._strip(),r},T.prototype.split=function(t,r){t.iushrn(this.n,0,r)},T.prototype.imulK=function(t){return t.imul(this.k)};function F(){T.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}p(F,T),F.prototype.split=function(t,r){for(var n=4194303,a=Math.min(t.length,9),l=0;l<a;l++)r.words[l]=t.words[l];if(r.length=a,t.length<=9){t.words[0]=0,t.length=1;return}var v=t.words[9];for(r.words[r.length++]=v&n,l=10;l<t.length;l++){var b=t.words[l]|0;t.words[l-10]=(b&n)<<4|v>>>22,v=b}v>>>=22,t.words[l-10]=v,v===0&&t.length>10?t.length-=10:t.length-=9},F.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var r=0,n=0;n<t.length;n++){var a=t.words[n]|0;r+=a*977,t.words[n]=r&67108863,r=a*64+(r/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function D(){T.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}p(D,T);function I(){T.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}p(I,T);function k(){T.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}p(k,T),k.prototype.imulK=function(t){for(var r=0,n=0;n<t.length;n++){var a=(t.words[n]|0)*19+r,l=a&67108863;a>>>=26,t.words[n]=l,r=a}return r!==0&&(t.words[t.length++]=r),t},i._prime=function(t){if(C[t])return C[t];var r;if(t==="k256")r=new F;else if(t==="p224")r=new D;else if(t==="p192")r=new I;else if(t==="p25519")r=new k;else throw new Error("Unknown prime "+t);return C[t]=r,r};function K(d){if(typeof d=="string"){var t=i._prime(d);this.m=t.p,this.prime=t}else o(d.gtn(1),"modulus must be greater than 1"),this.m=d,this.prime=null}K.prototype._verify1=function(t){o(t.negative===0,"red works only with positives"),o(t.red,"red works only with red numbers")},K.prototype._verify2=function(t,r){o((t.negative|r.negative)===0,"red works only with positives"),o(t.red&&t.red===r.red,"red works only with red numbers")},K.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},K.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},K.prototype.add=function(t,r){this._verify2(t,r);var n=t.add(r);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},K.prototype.iadd=function(t,r){this._verify2(t,r);var n=t.iadd(r);return n.cmp(this.m)>=0&&n.isub(this.m),n},K.prototype.sub=function(t,r){this._verify2(t,r);var n=t.sub(r);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},K.prototype.isub=function(t,r){this._verify2(t,r);var n=t.isub(r);return n.cmpn(0)<0&&n.iadd(this.m),n},K.prototype.shl=function(t,r){return this._verify1(t),this.imod(t.ushln(r))},K.prototype.imul=function(t,r){return this._verify2(t,r),this.imod(t.imul(r))},K.prototype.mul=function(t,r){return this._verify2(t,r),this.imod(t.mul(r))},K.prototype.isqr=function(t){return this.imul(t,t.clone())},K.prototype.sqr=function(t){return this.mul(t,t)},K.prototype.sqrt=function(t){if(t.isZero())return t.clone();var r=this.m.andln(3);if(o(r%2===1),r===3){var n=this.m.add(new i(1)).iushrn(2);return this.pow(t,n)}for(var a=this.m.subn(1),l=0;!a.isZero()&&a.andln(1)===0;)l++,a.iushrn(1);o(!a.isZero());var v=new i(1).toRed(this),b=v.redNeg(),u=this.m.subn(1).iushrn(1),e=this.m.bitLength();for(e=new i(2*e*e).toRed(this);this.pow(e,u).cmp(b)!==0;)e.redIAdd(b);for(var c=this.pow(e,a),q=this.pow(t,a.addn(1).iushrn(1)),N=this.pow(t,a),L=l;N.cmp(v)!==0;){for(var $=N,V=0;$.cmp(v)!==0;V++)$=$.redSqr();o(V<L);var z=this.pow(c,new i(1).iushln(L-V-1));q=q.redMul(z),c=z.redSqr(),N=N.redMul(c),L=V}return q},K.prototype.invm=function(t){var r=t._invmp(this.m);return r.negative!==0?(r.negative=0,this.imod(r).redNeg()):this.imod(r)},K.prototype.pow=function(t,r){if(r.isZero())return new i(1).toRed(this);if(r.cmpn(1)===0)return t.clone();var n=4,a=new Array(1<<n);a[0]=new i(1).toRed(this),a[1]=t;for(var l=2;l<a.length;l++)a[l]=this.mul(a[l-1],t);var v=a[0],b=0,u=0,e=r.bitLength()%26;for(e===0&&(e=26),l=r.length-1;l>=0;l--){for(var c=r.words[l],q=e-1;q>=0;q--){var N=c>>q&1;if(v!==a[0]&&(v=this.sqr(v)),N===0&&b===0){u=0;continue}b<<=1,b|=N,u++,!(u!==n&&(l!==0||q!==0))&&(v=this.mul(v,a[b]),u=0,b=0)}e=26}return v},K.prototype.convertTo=function(t){var r=t.umod(this.m);return r===t?r.clone():r},K.prototype.convertFrom=function(t){var r=t.clone();return r.red=null,r},i.mont=function(t){return new Y(t)};function Y(d){K.call(this,d),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}p(Y,K),Y.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},Y.prototype.convertFrom=function(t){var r=this.imod(t.mul(this.rinv));return r.red=null,r},Y.prototype.imul=function(t,r){if(t.isZero()||r.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(r),a=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=n.isub(a).iushrn(this.shift),v=l;return l.cmp(this.m)>=0?v=l.isub(this.m):l.cmpn(0)<0&&(v=l.iadd(this.m)),v._forceRed(this)},Y.prototype.mul=function(t,r){if(t.isZero()||r.isZero())return new i(0)._forceRed(this);var n=t.mul(r),a=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=n.isub(a).iushrn(this.shift),v=l;return l.cmp(this.m)>=0?v=l.isub(this.m):l.cmpn(0)<0&&(v=l.iadd(this.m)),v._forceRed(this)},Y.prototype.invm=function(t){var r=this.imod(t._invmp(this.m).mul(this.r2));return r._forceRed(this)}})(f,Zt)}(zs)),zs.exports}var $s={},Ks={},Hs,bh;function Ja(){if(bh)return Hs;bh=1;var f=Vt,s=f.Buffer,h={},o;for(o in f)!f.hasOwnProperty(o)||o==="SlowBuffer"||o==="Buffer"||(h[o]=f[o]);var p=h.Buffer={};for(o in s)!s.hasOwnProperty(o)||o==="allocUnsafe"||o==="allocUnsafeSlow"||(p[o]=s[o]);if(h.Buffer.prototype=s.prototype,(!p.from||p.from===Uint8Array.from)&&(p.from=function(i,M,w){if(typeof i=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof i);if(i&&typeof i.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i);return s(i,M,w)}),p.alloc||(p.alloc=function(i,M,w){if(typeof i!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof i);if(i<0||i>=2*(1<<30))throw new RangeError('The value "'+i+'" is invalid for option "size"');var y=s(i);return!M||M.length===0?y.fill(0):typeof w=="string"?y.fill(M,w):y.fill(M),y}),!h.kStringMaxLength)try{h.kStringMaxLength=or.exports.binding("buffer").kStringMaxLength}catch{}return h.constants||(h.constants={MAX_LENGTH:h.kMaxLength},h.kStringMaxLength&&(h.constants.MAX_STRING_LENGTH=h.kStringMaxLength)),Hs=h,Hs}var js={},yh;function Xa(){if(yh)return js;yh=1;const f=se.exports;function s(o){this._reporterState={obj:null,path:[],options:o||{},errors:[]}}js.Reporter=s,s.prototype.isError=function(p){return p instanceof h},s.prototype.save=function(){const p=this._reporterState;return{obj:p.obj,pathLen:p.path.length}},s.prototype.restore=function(p){const i=this._reporterState;i.obj=p.obj,i.path=i.path.slice(0,p.pathLen)},s.prototype.enterKey=function(p){return this._reporterState.path.push(p)},s.prototype.exitKey=function(p){const i=this._reporterState;i.path=i.path.slice(0,p-1)},s.prototype.leaveKey=function(p,i,M){const w=this._reporterState;this.exitKey(p),w.obj!==null&&(w.obj[i]=M)},s.prototype.path=function(){return this._reporterState.path.join("/")},s.prototype.enterObject=function(){const p=this._reporterState,i=p.obj;return p.obj={},i},s.prototype.leaveObject=function(p){const i=this._reporterState,M=i.obj;return i.obj=p,M},s.prototype.error=function(p){let i;const M=this._reporterState,w=p instanceof h;if(w?i=p:i=new h(M.path.map(function(y){return"["+JSON.stringify(y)+"]"}).join(""),p.message||p,p.stack),!M.options.partial)throw i;return w||M.errors.push(i),i},s.prototype.wrapResult=function(p){const i=this._reporterState;return i.options.partial?{result:this.isError(p)?null:p,errors:i.errors}:p};function h(o,p){this.path=o,this.rethrow(p)}return f(h,Error),h.prototype.rethrow=function(p){if(this.message=p+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,h),!this.stack)try{throw new Error(this.message)}catch(i){this.stack=i.stack}return this},js}var Qi={},wh;function Ai(){if(wh)return Qi;wh=1;const f=se.exports,s=Xa().Reporter,h=Ja().Buffer;function o(i,M){if(s.call(this,M),!h.isBuffer(i)){this.error("Input not Buffer");return}this.base=i,this.offset=0,this.length=i.length}f(o,s),Qi.DecoderBuffer=o,o.isDecoderBuffer=function(M){return M instanceof o?!0:typeof M=="object"&&h.isBuffer(M.base)&&M.constructor.name==="DecoderBuffer"&&typeof M.offset=="number"&&typeof M.length=="number"&&typeof M.save=="function"&&typeof M.restore=="function"&&typeof M.isEmpty=="function"&&typeof M.readUInt8=="function"&&typeof M.skip=="function"&&typeof M.raw=="function"},o.prototype.save=function(){return{offset:this.offset,reporter:s.prototype.save.call(this)}},o.prototype.restore=function(M){const w=new o(this.base);return w.offset=M.offset,w.length=this.offset,this.offset=M.offset,s.prototype.restore.call(this,M.reporter),w},o.prototype.isEmpty=function(){return this.offset===this.length},o.prototype.readUInt8=function(M){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(M||"DecoderBuffer overrun")},o.prototype.skip=function(M,w){if(!(this.offset+M<=this.length))return this.error(w||"DecoderBuffer overrun");const y=new o(this.base);return y._reporterState=this._reporterState,y.offset=this.offset,y.length=this.offset+M,this.offset+=M,y},o.prototype.raw=function(M){return this.base.slice(M?M.offset:this.offset,this.length)};function p(i,M){if(Array.isArray(i))this.length=0,this.value=i.map(function(w){return p.isEncoderBuffer(w)||(w=new p(w,M)),this.length+=w.length,w},this);else if(typeof i=="number"){if(!(0<=i&&i<=255))return M.error("non-byte EncoderBuffer value");this.value=i,this.length=1}else if(typeof i=="string")this.value=i,this.length=h.byteLength(i);else if(h.isBuffer(i))this.value=i,this.length=i.length;else return M.error("Unsupported type: "+typeof i)}return Qi.EncoderBuffer=p,p.isEncoderBuffer=function(M){return M instanceof p?!0:typeof M=="object"&&M.constructor.name==="EncoderBuffer"&&typeof M.length=="number"&&typeof M.join=="function"},p.prototype.join=function(M,w){return M||(M=h.alloc(this.length)),w||(w=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(y){y.join(M,w),w+=y.length}):(typeof this.value=="number"?M[w]=this.value:typeof this.value=="string"?M.write(this.value,w):h.isBuffer(this.value)&&this.value.copy(M,w),w+=this.length)),M},Qi}var Vs,Mh;function Qa(){if(Mh)return Vs;Mh=1;const f=Xa().Reporter,s=Ai().EncoderBuffer,h=Ai().DecoderBuffer,o=$r,p=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],i=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(p),M=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function w(g,m,_){const x={};this._baseState=x,x.name=_,x.enc=g,x.parent=m||null,x.children=null,x.tag=null,x.args=null,x.reverseArgs=null,x.choice=null,x.optional=!1,x.any=!1,x.obj=!1,x.use=null,x.useDecoder=null,x.key=null,x.default=null,x.explicit=null,x.implicit=null,x.contains=null,x.parent||(x.children=[],this._wrap())}Vs=w;const y=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return w.prototype.clone=function(){const m=this._baseState,_={};y.forEach(function(E){_[E]=m[E]});const x=new this.constructor(_.parent);return x._baseState=_,x},w.prototype._wrap=function(){const m=this._baseState;i.forEach(function(_){this[_]=function(){const E=new this.constructor(this);return m.children.push(E),E[_].apply(E,arguments)}},this)},w.prototype._init=function(m){const _=this._baseState;o(_.parent===null),m.call(this),_.children=_.children.filter(function(x){return x._baseState.parent===this},this),o.equal(_.children.length,1,"Root node can have only one child")},w.prototype._useArgs=function(m){const _=this._baseState,x=m.filter(function(E){return E instanceof this.constructor},this);m=m.filter(function(E){return!(E instanceof this.constructor)},this),x.length!==0&&(o(_.children===null),_.children=x,x.forEach(function(E){E._baseState.parent=this},this)),m.length!==0&&(o(_.args===null),_.args=m,_.reverseArgs=m.map(function(E){if(typeof E!="object"||E.constructor!==Object)return E;const S={};return Object.keys(E).forEach(function(R){R==(R|0)&&(R|=0);const P=E[R];S[P]=R}),S}))},M.forEach(function(g){w.prototype[g]=function(){const _=this._baseState;throw new Error(g+" not implemented for encoding: "+_.enc)}}),p.forEach(function(g){w.prototype[g]=function(){const _=this._baseState,x=Array.prototype.slice.call(arguments);return o(_.tag===null),_.tag=g,this._useArgs(x),this}}),w.prototype.use=function(m){o(m);const _=this._baseState;return o(_.use===null),_.use=m,this},w.prototype.optional=function(){const m=this._baseState;return m.optional=!0,this},w.prototype.def=function(m){const _=this._baseState;return o(_.default===null),_.default=m,_.optional=!0,this},w.prototype.explicit=function(m){const _=this._baseState;return o(_.explicit===null&&_.implicit===null),_.explicit=m,this},w.prototype.implicit=function(m){const _=this._baseState;return o(_.explicit===null&&_.implicit===null),_.implicit=m,this},w.prototype.obj=function(){const m=this._baseState,_=Array.prototype.slice.call(arguments);return m.obj=!0,_.length!==0&&this._useArgs(_),this},w.prototype.key=function(m){const _=this._baseState;return o(_.key===null),_.key=m,this},w.prototype.any=function(){const m=this._baseState;return m.any=!0,this},w.prototype.choice=function(m){const _=this._baseState;return o(_.choice===null),_.choice=m,this._useArgs(Object.keys(m).map(function(x){return m[x]})),this},w.prototype.contains=function(m){const _=this._baseState;return o(_.use===null),_.contains=m,this},w.prototype._decode=function(m,_){const x=this._baseState;if(x.parent===null)return m.wrapResult(x.children[0]._decode(m,_));let E=x.default,S=!0,R=null;if(x.key!==null&&(R=m.enterKey(x.key)),x.optional){let O=null;if(x.explicit!==null?O=x.explicit:x.implicit!==null?O=x.implicit:x.tag!==null&&(O=x.tag),O===null&&!x.any){const B=m.save();try{x.choice===null?this._decodeGeneric(x.tag,m,_):this._decodeChoice(m,_),S=!0}catch{S=!1}m.restore(B)}else if(S=this._peekTag(m,O,x.any),m.isError(S))return S}let P;if(x.obj&&S&&(P=m.enterObject()),S){if(x.explicit!==null){const B=this._decodeTag(m,x.explicit);if(m.isError(B))return B;m=B}const O=m.offset;if(x.use===null&&x.choice===null){let B;x.any&&(B=m.save());const C=this._decodeTag(m,x.implicit!==null?x.implicit:x.tag,x.any);if(m.isError(C))return C;x.any?E=m.raw(B):m=C}if(_&&_.track&&x.tag!==null&&_.track(m.path(),O,m.length,"tagged"),_&&_.track&&x.tag!==null&&_.track(m.path(),m.offset,m.length,"content"),x.any||(x.choice===null?E=this._decodeGeneric(x.tag,m,_):E=this._decodeChoice(m,_)),m.isError(E))return E;if(!x.any&&x.choice===null&&x.children!==null&&x.children.forEach(function(C){C._decode(m,_)}),x.contains&&(x.tag==="octstr"||x.tag==="bitstr")){const B=new h(E);E=this._getUse(x.contains,m._reporterState.obj)._decode(B,_)}}return x.obj&&S&&(E=m.leaveObject(P)),x.key!==null&&(E!==null||S===!0)?m.leaveKey(R,x.key,E):R!==null&&m.exitKey(R),E},w.prototype._decodeGeneric=function(m,_,x){const E=this._baseState;return m==="seq"||m==="set"?null:m==="seqof"||m==="setof"?this._decodeList(_,m,E.args[0],x):/str$/.test(m)?this._decodeStr(_,m,x):m==="objid"&&E.args?this._decodeObjid(_,E.args[0],E.args[1],x):m==="objid"?this._decodeObjid(_,null,null,x):m==="gentime"||m==="utctime"?this._decodeTime(_,m,x):m==="null_"?this._decodeNull(_,x):m==="bool"?this._decodeBool(_,x):m==="objDesc"?this._decodeStr(_,m,x):m==="int"||m==="enum"?this._decodeInt(_,E.args&&E.args[0],x):E.use!==null?this._getUse(E.use,_._reporterState.obj)._decode(_,x):_.error("unknown tag: "+m)},w.prototype._getUse=function(m,_){const x=this._baseState;return x.useDecoder=this._use(m,_),o(x.useDecoder._baseState.parent===null),x.useDecoder=x.useDecoder._baseState.children[0],x.implicit!==x.useDecoder._baseState.implicit&&(x.useDecoder=x.useDecoder.clone(),x.useDecoder._baseState.implicit=x.implicit),x.useDecoder},w.prototype._decodeChoice=function(m,_){const x=this._baseState;let E=null,S=!1;return Object.keys(x.choice).some(function(R){const P=m.save(),O=x.choice[R];try{const B=O._decode(m,_);if(m.isError(B))return!1;E={type:R,value:B},S=!0}catch{return m.restore(P),!1}return!0},this),S?E:m.error("Choice not matched")},w.prototype._createEncoderBuffer=function(m){return new s(m,this.reporter)},w.prototype._encode=function(m,_,x){const E=this._baseState;if(E.default!==null&&E.default===m)return;const S=this._encodeValue(m,_,x);if(S!==void 0&&!this._skipDefault(S,_,x))return S},w.prototype._encodeValue=function(m,_,x){const E=this._baseState;if(E.parent===null)return E.children[0]._encode(m,_||new f);let S=null;if(this.reporter=_,E.optional&&m===void 0)if(E.default!==null)m=E.default;else return;let R=null,P=!1;if(E.any)S=this._createEncoderBuffer(m);else if(E.choice)S=this._encodeChoice(m,_);else if(E.contains)R=this._getUse(E.contains,x)._encode(m,_),P=!0;else if(E.children)R=E.children.map(function(O){if(O._baseState.tag==="null_")return O._encode(null,_,m);if(O._baseState.key===null)return _.error("Child should have a key");const B=_.enterKey(O._baseState.key);if(typeof m!="object")return _.error("Child expected, but input is not object");const C=O._encode(m[O._baseState.key],_,m);return _.leaveKey(B),C},this).filter(function(O){return O}),R=this._createEncoderBuffer(R);else if(E.tag==="seqof"||E.tag==="setof"){if(!(E.args&&E.args.length===1))return _.error("Too many args for : "+E.tag);if(!Array.isArray(m))return _.error("seqof/setof, but data is not Array");const O=this.clone();O._baseState.implicit=null,R=this._createEncoderBuffer(m.map(function(B){const C=this._baseState;return this._getUse(C.args[0],m)._encode(B,_)},O))}else E.use!==null?S=this._getUse(E.use,x)._encode(m,_):(R=this._encodePrimitive(E.tag,m),P=!0);if(!E.any&&E.choice===null){const O=E.implicit!==null?E.implicit:E.tag,B=E.implicit===null?"universal":"context";O===null?E.use===null&&_.error("Tag could be omitted only for .use()"):E.use===null&&(S=this._encodeComposite(O,P,B,R))}return E.explicit!==null&&(S=this._encodeComposite(E.explicit,!1,"context",S)),S},w.prototype._encodeChoice=function(m,_){const x=this._baseState,E=x.choice[m.type];return E||o(!1,m.type+" not found in "+JSON.stringify(Object.keys(x.choice))),E._encode(m.value,_)},w.prototype._encodePrimitive=function(m,_){const x=this._baseState;if(/str$/.test(m))return this._encodeStr(_,m);if(m==="objid"&&x.args)return this._encodeObjid(_,x.reverseArgs[0],x.args[1]);if(m==="objid")return this._encodeObjid(_,null,null);if(m==="gentime"||m==="utctime")return this._encodeTime(_,m);if(m==="null_")return this._encodeNull();if(m==="int"||m==="enum")return this._encodeInt(_,x.args&&x.reverseArgs[0]);if(m==="bool")return this._encodeBool(_);if(m==="objDesc")return this._encodeStr(_,m);throw new Error("Unsupported tag: "+m)},w.prototype._isNumstr=function(m){return/^[0-9 ]*$/.test(m)},w.prototype._isPrintstr=function(m){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(m)},Vs}var Gs={},_h;function to(){return _h||(_h=1,function(f){function s(h){const o={};return Object.keys(h).forEach(function(p){(p|0)==p&&(p=p|0);const i=h[p];o[i]=p}),o}f.tagClass={0:"universal",1:"application",2:"context",3:"private"},f.tagClassByName=s(f.tagClass),f.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},f.tagByName=s(f.tag)}(Gs)),Gs}var Zs,xh;function xu(){if(xh)return Zs;xh=1;const f=se.exports,s=Ja().Buffer,h=Qa(),o=to();function p(y){this.enc="der",this.name=y.name,this.entity=y,this.tree=new i,this.tree._init(y.body)}Zs=p,p.prototype.encode=function(g,m){return this.tree._encode(g,m).join()};function i(y){h.call(this,"der",y)}f(i,h),i.prototype._encodeComposite=function(g,m,_,x){const E=w(g,m,_,this.reporter);if(x.length<128){const P=s.alloc(2);return P[0]=E,P[1]=x.length,this._createEncoderBuffer([P,x])}let S=1;for(let P=x.length;P>=256;P>>=8)S++;const R=s.alloc(1+1+S);R[0]=E,R[1]=128|S;for(let P=1+S,O=x.length;O>0;P--,O>>=8)R[P]=O&255;return this._createEncoderBuffer([R,x])},i.prototype._encodeStr=function(g,m){if(m==="bitstr")return this._createEncoderBuffer([g.unused|0,g.data]);if(m==="bmpstr"){const _=s.alloc(g.length*2);for(let x=0;x<g.length;x++)_.writeUInt16BE(g.charCodeAt(x),x*2);return this._createEncoderBuffer(_)}else return m==="numstr"?this._isNumstr(g)?this._createEncoderBuffer(g):this.reporter.error("Encoding of string type: numstr supports only digits and space"):m==="printstr"?this._isPrintstr(g)?this._createEncoderBuffer(g):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(m)?this._createEncoderBuffer(g):m==="objDesc"?this._createEncoderBuffer(g):this.reporter.error("Encoding of string type: "+m+" unsupported")},i.prototype._encodeObjid=function(g,m,_){if(typeof g=="string"){if(!m)return this.reporter.error("string objid given, but no values map found");if(!m.hasOwnProperty(g))return this.reporter.error("objid not found in values map");g=m[g].split(/[\s.]+/g);for(let R=0;R<g.length;R++)g[R]|=0}else if(Array.isArray(g)){g=g.slice();for(let R=0;R<g.length;R++)g[R]|=0}if(!Array.isArray(g))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(g));if(!_){if(g[1]>=40)return this.reporter.error("Second objid identifier OOB");g.splice(0,2,g[0]*40+g[1])}let x=0;for(let R=0;R<g.length;R++){let P=g[R];for(x++;P>=128;P>>=7)x++}const E=s.alloc(x);let S=E.length-1;for(let R=g.length-1;R>=0;R--){let P=g[R];for(E[S--]=P&127;(P>>=7)>0;)E[S--]=128|P&127}return this._createEncoderBuffer(E)};function M(y){return y<10?"0"+y:y}i.prototype._encodeTime=function(g,m){let _;const x=new Date(g);return m==="gentime"?_=[M(x.getUTCFullYear()),M(x.getUTCMonth()+1),M(x.getUTCDate()),M(x.getUTCHours()),M(x.getUTCMinutes()),M(x.getUTCSeconds()),"Z"].join(""):m==="utctime"?_=[M(x.getUTCFullYear()%100),M(x.getUTCMonth()+1),M(x.getUTCDate()),M(x.getUTCHours()),M(x.getUTCMinutes()),M(x.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+m+" time is not supported yet"),this._encodeStr(_,"octstr")},i.prototype._encodeNull=function(){return this._createEncoderBuffer("")},i.prototype._encodeInt=function(g,m){if(typeof g=="string"){if(!m)return this.reporter.error("String int or enum given, but no values map");if(!m.hasOwnProperty(g))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(g));g=m[g]}if(typeof g!="number"&&!s.isBuffer(g)){const E=g.toArray();!g.sign&&E[0]&128&&E.unshift(0),g=s.from(E)}if(s.isBuffer(g)){let E=g.length;g.length===0&&E++;const S=s.alloc(E);return g.copy(S),g.length===0&&(S[0]=0),this._createEncoderBuffer(S)}if(g<128)return this._createEncoderBuffer(g);if(g<256)return this._createEncoderBuffer([0,g]);let _=1;for(let E=g;E>=256;E>>=8)_++;const x=new Array(_);for(let E=x.length-1;E>=0;E--)x[E]=g&255,g>>=8;return x[0]&128&&x.unshift(0),this._createEncoderBuffer(s.from(x))},i.prototype._encodeBool=function(g){return this._createEncoderBuffer(g?255:0)},i.prototype._use=function(g,m){return typeof g=="function"&&(g=g(m)),g._getEncoder("der").tree},i.prototype._skipDefault=function(g,m,_){const x=this._baseState;let E;if(x.default===null)return!1;const S=g.join();if(x.defaultBuffer===void 0&&(x.defaultBuffer=this._encodeValue(x.default,m,_).join()),S.length!==x.defaultBuffer.length)return!1;for(E=0;E<S.length;E++)if(S[E]!==x.defaultBuffer[E])return!1;return!0};function w(y,g,m,_){let x;if(y==="seqof"?y="seq":y==="setof"&&(y="set"),o.tagByName.hasOwnProperty(y))x=o.tagByName[y];else if(typeof y=="number"&&(y|0)===y)x=y;else return _.error("Unknown tag: "+y);return x>=31?_.error("Multi-octet tag encoding unsupported"):(g||(x|=32),x|=o.tagClassByName[m||"universal"]<<6,x)}return Zs}var Ws,Eh;function W1(){if(Eh)return Ws;Eh=1;const f=se.exports,s=xu();function h(o){s.call(this,o),this.enc="pem"}return f(h,s),Ws=h,h.prototype.encode=function(p,i){const w=s.prototype.encode.call(this,p).toString("base64"),y=["-----BEGIN "+i.label+"-----"];for(let g=0;g<w.length;g+=64)y.push(w.slice(g,g+64));return y.push("-----END "+i.label+"-----"),y.join(`
`)},Ws}var Sh;function Eu(){return Sh||(Sh=1,function(f){const s=f;s.der=xu(),s.pem=W1()}(Ks)),Ks}var Ys={},Js,Ah;function Su(){if(Ah)return Js;Ah=1;const f=se.exports,s=_u(),h=Ai().DecoderBuffer,o=Qa(),p=to();function i(g){this.enc="der",this.name=g.name,this.entity=g,this.tree=new M,this.tree._init(g.body)}Js=i,i.prototype.decode=function(m,_){return h.isDecoderBuffer(m)||(m=new h(m,_)),this.tree._decode(m,_)};function M(g){o.call(this,"der",g)}f(M,o),M.prototype._peekTag=function(m,_,x){if(m.isEmpty())return!1;const E=m.save(),S=w(m,'Failed to peek tag: "'+_+'"');return m.isError(S)?S:(m.restore(E),S.tag===_||S.tagStr===_||S.tagStr+"of"===_||x)},M.prototype._decodeTag=function(m,_,x){const E=w(m,'Failed to decode tag of "'+_+'"');if(m.isError(E))return E;let S=y(m,E.primitive,'Failed to get length of "'+_+'"');if(m.isError(S))return S;if(!x&&E.tag!==_&&E.tagStr!==_&&E.tagStr+"of"!==_)return m.error('Failed to match tag: "'+_+'"');if(E.primitive||S!==null)return m.skip(S,'Failed to match body of: "'+_+'"');const R=m.save(),P=this._skipUntilEnd(m,'Failed to skip indefinite length body: "'+this.tag+'"');return m.isError(P)?P:(S=m.offset-R.offset,m.restore(R),m.skip(S,'Failed to match body of: "'+_+'"'))},M.prototype._skipUntilEnd=function(m,_){for(;;){const x=w(m,_);if(m.isError(x))return x;const E=y(m,x.primitive,_);if(m.isError(E))return E;let S;if(x.primitive||E!==null?S=m.skip(E):S=this._skipUntilEnd(m,_),m.isError(S))return S;if(x.tagStr==="end")break}},M.prototype._decodeList=function(m,_,x,E){const S=[];for(;!m.isEmpty();){const R=this._peekTag(m,"end");if(m.isError(R))return R;const P=x.decode(m,"der",E);if(m.isError(P)&&R)break;S.push(P)}return S},M.prototype._decodeStr=function(m,_){if(_==="bitstr"){const x=m.readUInt8();return m.isError(x)?x:{unused:x,data:m.raw()}}else if(_==="bmpstr"){const x=m.raw();if(x.length%2===1)return m.error("Decoding of string type: bmpstr length mismatch");let E="";for(let S=0;S<x.length/2;S++)E+=String.fromCharCode(x.readUInt16BE(S*2));return E}else if(_==="numstr"){const x=m.raw().toString("ascii");return this._isNumstr(x)?x:m.error("Decoding of string type: numstr unsupported characters")}else{if(_==="octstr")return m.raw();if(_==="objDesc")return m.raw();if(_==="printstr"){const x=m.raw().toString("ascii");return this._isPrintstr(x)?x:m.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(_)?m.raw().toString():m.error("Decoding of string type: "+_+" unsupported")}},M.prototype._decodeObjid=function(m,_,x){let E;const S=[];let R=0,P=0;for(;!m.isEmpty();)P=m.readUInt8(),R<<=7,R|=P&127,(P&128)===0&&(S.push(R),R=0);P&128&&S.push(R);const O=S[0]/40|0,B=S[0]%40;if(x?E=S:E=[O,B].concat(S.slice(1)),_){let C=_[E.join(" ")];C===void 0&&(C=_[E.join(".")]),C!==void 0&&(E=C)}return E},M.prototype._decodeTime=function(m,_){const x=m.raw().toString();let E,S,R,P,O,B;if(_==="gentime")E=x.slice(0,4)|0,S=x.slice(4,6)|0,R=x.slice(6,8)|0,P=x.slice(8,10)|0,O=x.slice(10,12)|0,B=x.slice(12,14)|0;else if(_==="utctime")E=x.slice(0,2)|0,S=x.slice(2,4)|0,R=x.slice(4,6)|0,P=x.slice(6,8)|0,O=x.slice(8,10)|0,B=x.slice(10,12)|0,E<70?E=2e3+E:E=1900+E;else return m.error("Decoding "+_+" time is not supported yet");return Date.UTC(E,S-1,R,P,O,B,0)},M.prototype._decodeNull=function(){return null},M.prototype._decodeBool=function(m){const _=m.readUInt8();return m.isError(_)?_:_!==0},M.prototype._decodeInt=function(m,_){const x=m.raw();let E=new s(x);return _&&(E=_[E.toString(10)]||E),E},M.prototype._use=function(m,_){return typeof m=="function"&&(m=m(_)),m._getDecoder("der").tree};function w(g,m){let _=g.readUInt8(m);if(g.isError(_))return _;const x=p.tagClass[_>>6],E=(_&32)===0;if((_&31)===31){let R=_;for(_=0;(R&128)===128;){if(R=g.readUInt8(m),g.isError(R))return R;_<<=7,_|=R&127}}else _&=31;const S=p.tag[_];return{cls:x,primitive:E,tag:_,tagStr:S}}function y(g,m,_){let x=g.readUInt8(_);if(g.isError(x))return x;if(!m&&x===128)return null;if((x&128)===0)return x;const E=x&127;if(E>4)return g.error("length octect is too long");x=0;for(let S=0;S<E;S++){x<<=8;const R=g.readUInt8(_);if(g.isError(R))return R;x|=R}return x}return Js}var Xs,Ih;function Y1(){if(Ih)return Xs;Ih=1;const f=se.exports,s=Ja().Buffer,h=Su();function o(p){h.call(this,p),this.enc="pem"}return f(o,h),Xs=o,o.prototype.decode=function(i,M){const w=i.toString().split(/[\r\n]+/g),y=M.label.toUpperCase(),g=/^-----(BEGIN|END) ([^-]+)-----$/;let m=-1,_=-1;for(let S=0;S<w.length;S++){const R=w[S].match(g);if(R!==null&&R[2]===y)if(m===-1){if(R[1]!=="BEGIN")break;m=S}else{if(R[1]!=="END")break;_=S;break}}if(m===-1||_===-1)throw new Error("PEM section not found for: "+y);const x=w.slice(m+1,_).join("");x.replace(/[^a-z0-9+/=]+/gi,"");const E=s.from(x,"base64");return h.prototype.decode.call(this,E,M)},Xs}var Rh;function Au(){return Rh||(Rh=1,function(f){const s=f;s.der=Su(),s.pem=Y1()}(Ys)),Ys}var Bh;function J1(){return Bh||(Bh=1,function(f){const s=Eu(),h=Au(),o=se.exports,p=f;p.define=function(w,y){return new i(w,y)};function i(M,w){this.name=M,this.body=w,this.decoders={},this.encoders={}}i.prototype._createNamed=function(w){const y=this.name;function g(m){this._initNamed(m,y)}return o(g,w),g.prototype._initNamed=function(_,x){w.call(this,_,x)},new g(this)},i.prototype._getDecoder=function(w){return w=w||"der",this.decoders.hasOwnProperty(w)||(this.decoders[w]=this._createNamed(h[w])),this.decoders[w]},i.prototype.decode=function(w,y,g){return this._getDecoder(y).decode(w,g)},i.prototype._getEncoder=function(w){return w=w||"der",this.encoders.hasOwnProperty(w)||(this.encoders[w]=this._createNamed(s[w])),this.encoders[w]},i.prototype.encode=function(w,y,g){return this._getEncoder(y).encode(w,g)}}($s)),$s}var Qs={},Ph;function X1(){return Ph||(Ph=1,function(f){const s=f;s.Reporter=Xa().Reporter,s.DecoderBuffer=Ai().DecoderBuffer,s.EncoderBuffer=Ai().EncoderBuffer,s.Node=Qa()}(Qs)),Qs}var ta={},Th;function Q1(){return Th||(Th=1,function(f){const s=f;s._reverse=function(o){const p={};return Object.keys(o).forEach(function(i){(i|0)==i&&(i=i|0);const M=o[i];p[M]=i}),p},s.der=to()}(ta)),ta}var Nh;function Iu(){return Nh||(Nh=1,function(f){const s=f;s.bignum=_u(),s.define=J1().define,s.base=X1(),s.constants=Q1(),s.decoders=Au(),s.encoders=Eu()}(Fs)),Fs}var ea,Oh;function tp(){if(Oh)return ea;Oh=1;var f=Iu(),s=f.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),h=f.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),o=f.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),p=f.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())}),i=f.define("RelativeDistinguishedName",function(){this.setof(h)}),M=f.define("RDNSequence",function(){this.seqof(i)}),w=f.define("Name",function(){this.choice({rdnSequence:this.use(M)})}),y=f.define("Validity",function(){this.seq().obj(this.key("notBefore").use(s),this.key("notAfter").use(s))}),g=f.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),m=f.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(o),this.key("issuer").use(w),this.key("validity").use(y),this.key("subject").use(w),this.key("subjectPublicKeyInfo").use(p),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(g).optional())}),_=f.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(m),this.key("signatureAlgorithm").use(o),this.key("signatureValue").bitstr())});return ea=_,ea}var qh;function ep(){if(qh)return sr;qh=1;var f=Iu();sr.certificate=tp();var s=f.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});sr.RSAPrivateKey=s;var h=f.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});sr.RSAPublicKey=h;var o=f.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(p),this.key("subjectPublicKey").bitstr())});sr.PublicKey=o;var p=f.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),i=f.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(p),this.key("subjectPrivateKey").octstr())});sr.PrivateKey=i;var M=f.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});sr.EncryptedPrivateKey=M;var w=f.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});sr.DSAPrivateKey=w,sr.DSAparam=f.define("DSAparam",function(){this.int()});var y=f.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(g),this.key("publicKey").optional().explicit(1).bitstr())});sr.ECPrivateKey=y;var g=f.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});return sr.signature=f.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),sr}const rp={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var ra,Ch;function ip(){if(Ch)return ra;Ch=1;var f=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,h=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,o=_n(),p=Va(),i=re.exports.Buffer;return ra=function(M,w){var y=M.toString(),g=y.match(f),m;if(g){var x="aes"+g[1],E=i.from(g[2],"hex"),S=i.from(g[3].replace(/[\r\n]/g,""),"base64"),R=o(w,E.slice(0,8),parseInt(g[1],10)).key,P=[],O=p.createDecipheriv(x,R,E);P.push(O.update(S)),P.push(O.final()),m=i.concat(P)}else{var _=y.match(h);m=i.from(_[2].replace(/[\r\n]/g,""),"base64")}var B=y.match(s)[1];return{tag:B,data:m}},ra}var ia,Dh;function En(){if(Dh)return ia;Dh=1;var f=ep(),s=rp,h=ip(),o=Va(),p=uu(),i=re.exports.Buffer;ia=M;function M(y){var g;typeof y=="object"&&!i.isBuffer(y)&&(g=y.passphrase,y=y.key),typeof y=="string"&&(y=i.from(y));var m=h(y,g),_=m.tag,x=m.data,E,S;switch(_){case"CERTIFICATE":S=f.certificate.decode(x,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(S||(S=f.PublicKey.decode(x,"der")),E=S.algorithm.algorithm.join("."),E){case"1.2.840.113549.1.1.1":return f.RSAPublicKey.decode(S.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return S.subjectPrivateKey=S.subjectPublicKey,{type:"ec",data:S};case"1.2.840.10040.4.1":return S.algorithm.params.pub_key=f.DSAparam.decode(S.subjectPublicKey.data,"der"),{type:"dsa",data:S.algorithm.params};default:throw new Error("unknown key id "+E)}case"ENCRYPTED PRIVATE KEY":x=f.EncryptedPrivateKey.decode(x,"der"),x=w(x,g);case"PRIVATE KEY":switch(S=f.PrivateKey.decode(x,"der"),E=S.algorithm.algorithm.join("."),E){case"1.2.840.113549.1.1.1":return f.RSAPrivateKey.decode(S.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:S.algorithm.curve,privateKey:f.ECPrivateKey.decode(S.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return S.algorithm.params.priv_key=f.DSAparam.decode(S.subjectPrivateKey,"der"),{type:"dsa",params:S.algorithm.params};default:throw new Error("unknown key id "+E)}case"RSA PUBLIC KEY":return f.RSAPublicKey.decode(x,"der");case"RSA PRIVATE KEY":return f.RSAPrivateKey.decode(x,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:f.DSAPrivateKey.decode(x,"der")};case"EC PRIVATE KEY":return x=f.ECPrivateKey.decode(x,"der"),{curve:x.parameters.value,privateKey:x.privateKey};default:throw new Error("unknown key type "+_)}}M.signature=f.signature;function w(y,g){var m=y.algorithm.decrypt.kde.kdeparams.salt,_=parseInt(y.algorithm.decrypt.kde.kdeparams.iters.toString(),10),x=s[y.algorithm.decrypt.cipher.algo.join(".")],E=y.algorithm.decrypt.cipher.iv,S=y.subjectPrivateKey,R=parseInt(x.split("-")[1],10)/8,P=p.pbkdf2Sync(g,m,_,R,"sha1"),O=o.createDecipheriv(x,P,E),B=[];return B.push(O.update(S)),B.push(O.final()),i.concat(B)}return ia}const Ru={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var Lh;function np(){if(Lh)return bi.exports;Lh=1;var f=re.exports.Buffer,s=nu(),h=Za(),o=Ya().ec,p=ka.exports,i=En(),M=Ru,w=1;function y(O,B,C,T,F){var D=i(B);if(D.curve){if(T!=="ecdsa"&&T!=="ecdsa/rsa")throw new Error("wrong private key type");return g(O,D)}else if(D.type==="dsa"){if(T!=="dsa")throw new Error("wrong private key type");return m(O,D,C)}if(T!=="rsa"&&T!=="ecdsa/rsa")throw new Error("wrong private key type");if(B.padding!==void 0&&B.padding!==w)throw new Error("illegal or unsupported padding mode");O=f.concat([F,O]);for(var I=D.modulus.byteLength(),k=[0,1];O.length+k.length+1<I;)k.push(255);k.push(0);for(var K=-1;++K<O.length;)k.push(O[K]);var Y=h(k,D);return Y}function g(O,B){var C=M[B.curve.join(".")];if(!C)throw new Error("unknown curve "+B.curve.join("."));var T=new o(C),F=T.keyFromPrivate(B.privateKey),D=F.sign(O);return f.from(D.toDER())}function m(O,B,C){for(var T=B.params.priv_key,F=B.params.p,D=B.params.q,I=B.params.g,k=new p(0),K,Y=E(O,D).mod(D),d=!1,t=x(T,D,O,C);d===!1;)K=R(D,t,C),k=P(I,K,F,D),d=K.invm(D).imul(Y.add(T.mul(k))).mod(D),d.cmpn(0)===0&&(d=!1,k=new p(0));return _(k,d)}function _(O,B){O=O.toArray(),B=B.toArray(),O[0]&128&&(O=[0].concat(O)),B[0]&128&&(B=[0].concat(B));var C=O.length+B.length+4,T=[48,C,2,O.length];return T=T.concat(O,[2,B.length],B),f.from(T)}function x(O,B,C,T){if(O=f.from(O.toArray()),O.length<B.byteLength()){var F=f.alloc(B.byteLength()-O.length);O=f.concat([F,O])}var D=C.length,I=S(C,B),k=f.alloc(D);k.fill(1);var K=f.alloc(D);return K=s(T,K).update(k).update(f.from([0])).update(O).update(I).digest(),k=s(T,K).update(k).digest(),K=s(T,K).update(k).update(f.from([1])).update(O).update(I).digest(),k=s(T,K).update(k).digest(),{k:K,v:k}}function E(O,B){var C=new p(O),T=(O.length<<3)-B.bitLength();return T>0&&C.ishrn(T),C}function S(O,B){O=E(O,B),O=O.mod(B);var C=f.from(O.toArray());if(C.length<B.byteLength()){var T=f.alloc(B.byteLength()-C.length);C=f.concat([T,C])}return C}function R(O,B,C){var T,F;do{for(T=f.alloc(0);T.length*8<O.bitLength();)B.v=s(C,B.k).update(B.v).digest(),T=f.concat([T,B.v]);F=E(T,O),B.k=s(C,B.k).update(B.v).update(f.from([0])).digest(),B.v=s(C,B.k).update(B.v).digest()}while(F.cmp(O)!==-1);return F}function P(O,B,C,T){return O.toRed(p.mont(C)).redPow(B).fromRed().mod(T)}return bi.exports=y,bi.exports.getKey=x,bi.exports.makeKey=R,bi.exports}var na,kh;function sp(){if(kh)return na;kh=1;var f=re.exports.Buffer,s=ka.exports,h=Ya().ec,o=En(),p=Ru;function i(g,m,_,x,E){var S=o(_);if(S.type==="ec"){if(x!=="ecdsa"&&x!=="ecdsa/rsa")throw new Error("wrong public key type");return M(g,m,S)}else if(S.type==="dsa"){if(x!=="dsa")throw new Error("wrong public key type");return w(g,m,S)}if(x!=="rsa"&&x!=="ecdsa/rsa")throw new Error("wrong public key type");m=f.concat([E,m]);for(var R=S.modulus.byteLength(),P=[1],O=0;m.length+P.length+2<R;)P.push(255),O+=1;P.push(0);for(var B=-1;++B<m.length;)P.push(m[B]);P=f.from(P);var C=s.mont(S.modulus);g=new s(g).toRed(C),g=g.redPow(new s(S.publicExponent)),g=f.from(g.fromRed().toArray());var T=O<8?1:0;for(R=Math.min(g.length,P.length),g.length!==P.length&&(T=1),B=-1;++B<R;)T|=g[B]^P[B];return T===0}function M(g,m,_){var x=p[_.data.algorithm.curve.join(".")];if(!x)throw new Error("unknown curve "+_.data.algorithm.curve.join("."));var E=new h(x),S=_.data.subjectPrivateKey.data;return E.verify(m,g,S)}function w(g,m,_){var x=_.data.p,E=_.data.q,S=_.data.g,R=_.data.pub_key,P=o.signature.decode(g,"der"),O=P.s,B=P.r;y(O,E),y(B,E);var C=s.mont(x),T=O.invm(E),F=S.toRed(C).redPow(new s(m).mul(T).mod(E)).fromRed().mul(R.toRed(C).redPow(B.mul(T).mod(E)).fromRed()).mod(x).mod(E);return F.cmp(B)===0}function y(g,m){if(g.cmpn(0)<=0)throw new Error("invalid sig");if(g.cmp(m)>=0)throw new Error("invalid sig")}return na=i,na}var sa,Uh;function ap(){if(Uh)return sa;Uh=1;var f=re.exports.Buffer,s=Ti,h=K0(),o=se.exports,p=np(),i=sp(),M=su;Object.keys(M).forEach(function(_){M[_].id=f.from(M[_].id,"hex"),M[_.toLowerCase()]=M[_]});function w(_){h.Writable.call(this);var x=M[_];if(!x)throw new Error("Unknown message digest");this._hashType=x.hash,this._hash=s(x.hash),this._tag=x.id,this._signType=x.sign}o(w,h.Writable),w.prototype._write=function(x,E,S){this._hash.update(x),S()},w.prototype.update=function(x,E){return this._hash.update(typeof x=="string"?f.from(x,E):x),this},w.prototype.sign=function(x,E){this.end();var S=this._hash.digest(),R=p(S,x,this._hashType,this._signType,this._tag);return E?R.toString(E):R};function y(_){h.Writable.call(this);var x=M[_];if(!x)throw new Error("Unknown message digest");this._hash=s(x.hash),this._tag=x.id,this._signType=x.sign}o(y,h.Writable),y.prototype._write=function(x,E,S){this._hash.update(x),S()},y.prototype.update=function(x,E){return this._hash.update(typeof x=="string"?f.from(x,E):x),this},y.prototype.verify=function(x,E,S){var R=typeof E=="string"?f.from(E,S):E;this.end();var P=this._hash.digest();return i(R,P,x,this._signType,this._tag)};function g(_){return new w(_)}function m(_){return new y(_)}return sa={Sign:g,Verify:m,createSign:g,createVerify:m},sa}var aa={exports:{}},Fh;function op(){return Fh||(Fh=1,function(f){(function(s,h){function o(d,t){if(!d)throw new Error(t||"Assertion failed")}function p(d,t){d.super_=t;var r=function(){};r.prototype=t.prototype,d.prototype=new r,d.prototype.constructor=d}function i(d,t,r){if(i.isBN(d))return d;this.negative=0,this.words=null,this.length=0,this.red=null,d!==null&&((t==="le"||t==="be")&&(r=t,t=10),this._init(d||0,t||10,r||"be"))}typeof s=="object"?s.exports=i:h.BN=i,i.BN=i,i.wordSize=26;var M;try{typeof window<"u"&&typeof window.Buffer<"u"?M=window.Buffer:M=Vt.Buffer}catch{}i.isBN=function(t){return t instanceof i?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,r){return t.cmp(r)>0?t:r},i.min=function(t,r){return t.cmp(r)<0?t:r},i.prototype._init=function(t,r,n){if(typeof t=="number")return this._initNumber(t,r,n);if(typeof t=="object")return this._initArray(t,r,n);r==="hex"&&(r=16),o(r===(r|0)&&r>=2&&r<=36),t=t.toString().replace(/\s+/g,"");var a=0;t[0]==="-"&&(a++,this.negative=1),a<t.length&&(r===16?this._parseHex(t,a,n):(this._parseBase(t,r,a),n==="le"&&this._initArray(this.toArray(),r,n)))},i.prototype._initNumber=function(t,r,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(o(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),n==="le"&&this._initArray(this.toArray(),r,n)},i.prototype._initArray=function(t,r,n){if(o(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var l,v,b=0;if(n==="be")for(a=t.length-1,l=0;a>=0;a-=3)v=t[a]|t[a-1]<<8|t[a-2]<<16,this.words[l]|=v<<b&67108863,this.words[l+1]=v>>>26-b&67108863,b+=24,b>=26&&(b-=26,l++);else if(n==="le")for(a=0,l=0;a<t.length;a+=3)v=t[a]|t[a+1]<<8|t[a+2]<<16,this.words[l]|=v<<b&67108863,this.words[l+1]=v>>>26-b&67108863,b+=24,b>=26&&(b-=26,l++);return this.strip()};function w(d,t){var r=d.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function y(d,t,r){var n=w(d,r);return r-1>=t&&(n|=w(d,r-1)<<4),n}i.prototype._parseHex=function(t,r,n){this.length=Math.ceil((t.length-r)/6),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var l=0,v=0,b;if(n==="be")for(a=t.length-1;a>=r;a-=2)b=y(t,r,a)<<l,this.words[v]|=b&67108863,l>=18?(l-=18,v+=1,this.words[v]|=b>>>26):l+=8;else{var u=t.length-r;for(a=u%2===0?r+1:r;a<t.length;a+=2)b=y(t,r,a)<<l,this.words[v]|=b&67108863,l>=18?(l-=18,v+=1,this.words[v]|=b>>>26):l+=8}this.strip()};function g(d,t,r,n){for(var a=0,l=Math.min(d.length,r),v=t;v<l;v++){var b=d.charCodeAt(v)-48;a*=n,b>=49?a+=b-49+10:b>=17?a+=b-17+10:a+=b}return a}i.prototype._parseBase=function(t,r,n){this.words=[0],this.length=1;for(var a=0,l=1;l<=67108863;l*=r)a++;a--,l=l/r|0;for(var v=t.length-n,b=v%a,u=Math.min(v,v-b)+n,e=0,c=n;c<u;c+=a)e=g(t,c,c+a,r),this.imuln(l),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e);if(b!==0){var q=1;for(e=g(t,c,t.length,r),c=0;c<b;c++)q*=r;this.imuln(q),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e)}this.strip()},i.prototype.copy=function(t){t.words=new Array(this.length);for(var r=0;r<this.length;r++)t.words[r]=this.words[r];t.length=this.length,t.negative=this.negative,t.red=this.red},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(t,r){t=t||10,r=r|0||1;var n;if(t===16||t==="hex"){n="";for(var a=0,l=0,v=0;v<this.length;v++){var b=this.words[v],u=((b<<a|l)&16777215).toString(16);l=b>>>24-a&16777215,l!==0||v!==this.length-1?n=m[6-u.length]+u+n:n=u+n,a+=2,a>=26&&(a-=26,v--)}for(l!==0&&(n=l.toString(16)+n);n.length%r!==0;)n="0"+n;return this.negative!==0&&(n="-"+n),n}if(t===(t|0)&&t>=2&&t<=36){var e=_[t],c=x[t];n="";var q=this.clone();for(q.negative=0;!q.isZero();){var N=q.modn(c).toString(t);q=q.idivn(c),q.isZero()?n=N+n:n=m[e-N.length]+N+n}for(this.isZero()&&(n="0"+n);n.length%r!==0;)n="0"+n;return this.negative!==0&&(n="-"+n),n}o(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(t,r){return o(typeof M<"u"),this.toArrayLike(M,t,r)},i.prototype.toArray=function(t,r){return this.toArrayLike(Array,t,r)},i.prototype.toArrayLike=function(t,r,n){var a=this.byteLength(),l=n||Math.max(1,a);o(a<=l,"byte array longer than desired length"),o(l>0,"Requested array length <= 0"),this.strip();var v=r==="le",b=new t(l),u,e,c=this.clone();if(v){for(e=0;!c.isZero();e++)u=c.andln(255),c.iushrn(8),b[e]=u;for(;e<l;e++)b[e]=0}else{for(e=0;e<l-a;e++)b[e]=0;for(e=0;!c.isZero();e++)u=c.andln(255),c.iushrn(8),b[l-e-1]=u}return b},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var r=t,n=0;return r>=4096&&(n+=13,r>>>=13),r>=64&&(n+=7,r>>>=7),r>=8&&(n+=4,r>>>=4),r>=2&&(n+=2,r>>>=2),n+r},i.prototype._zeroBits=function(t){if(t===0)return 26;var r=t,n=0;return(r&8191)===0&&(n+=13,r>>>=13),(r&127)===0&&(n+=7,r>>>=7),(r&15)===0&&(n+=4,r>>>=4),(r&3)===0&&(n+=2,r>>>=2),(r&1)===0&&n++,n},i.prototype.bitLength=function(){var t=this.words[this.length-1],r=this._countBits(t);return(this.length-1)*26+r};function E(d){for(var t=new Array(d.bitLength()),r=0;r<t.length;r++){var n=r/26|0,a=r%26;t[r]=(d.words[n]&1<<a)>>>a}return t}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,r=0;r<this.length;r++){var n=this._zeroBits(this.words[r]);if(t+=n,n!==26)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]|t.words[r];return this.strip()},i.prototype.ior=function(t){return o((this.negative|t.negative)===0),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var r;this.length>t.length?r=t:r=this;for(var n=0;n<r.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=r.length,this.strip()},i.prototype.iand=function(t){return o((this.negative|t.negative)===0),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var r,n;this.length>t.length?(r=this,n=t):(r=t,n=this);for(var a=0;a<n.length;a++)this.words[a]=r.words[a]^n.words[a];if(this!==r)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=r.length,this.strip()},i.prototype.ixor=function(t){return o((this.negative|t.negative)===0),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){o(typeof t=="number"&&t>=0);var r=Math.ceil(t/26)|0,n=t%26;this._expand(r),n>0&&r--;for(var a=0;a<r;a++)this.words[a]=~this.words[a]&67108863;return n>0&&(this.words[a]=~this.words[a]&67108863>>26-n),this.strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,r){o(typeof t=="number"&&t>=0);var n=t/26|0,a=t%26;return this._expand(n+1),r?this.words[n]=this.words[n]|1<<a:this.words[n]=this.words[n]&~(1<<a),this.strip()},i.prototype.iadd=function(t){var r;if(this.negative!==0&&t.negative===0)return this.negative=0,r=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,r=this.isub(t),t.negative=1,r._normSign();var n,a;this.length>t.length?(n=this,a=t):(n=t,a=this);for(var l=0,v=0;v<a.length;v++)r=(n.words[v]|0)+(a.words[v]|0)+l,this.words[v]=r&67108863,l=r>>>26;for(;l!==0&&v<n.length;v++)r=(n.words[v]|0)+l,this.words[v]=r&67108863,l=r>>>26;if(this.length=n.length,l!==0)this.words[this.length]=l,this.length++;else if(n!==this)for(;v<n.length;v++)this.words[v]=n.words[v];return this},i.prototype.add=function(t){var r;return t.negative!==0&&this.negative===0?(t.negative=0,r=this.sub(t),t.negative^=1,r):t.negative===0&&this.negative!==0?(this.negative=0,r=t.sub(this),this.negative=1,r):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var r=this.iadd(t);return t.negative=1,r._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n=this.cmp(t);if(n===0)return this.negative=0,this.length=1,this.words[0]=0,this;var a,l;n>0?(a=this,l=t):(a=t,l=this);for(var v=0,b=0;b<l.length;b++)r=(a.words[b]|0)-(l.words[b]|0)+v,v=r>>26,this.words[b]=r&67108863;for(;v!==0&&b<a.length;b++)r=(a.words[b]|0)+v,v=r>>26,this.words[b]=r&67108863;if(v===0&&b<a.length&&a!==this)for(;b<a.length;b++)this.words[b]=a.words[b];return this.length=Math.max(this.length,b),a!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(t){return this.clone().isub(t)};function S(d,t,r){r.negative=t.negative^d.negative;var n=d.length+t.length|0;r.length=n,n=n-1|0;var a=d.words[0]|0,l=t.words[0]|0,v=a*l,b=v&67108863,u=v/67108864|0;r.words[0]=b;for(var e=1;e<n;e++){for(var c=u>>>26,q=u&67108863,N=Math.min(e,t.length-1),L=Math.max(0,e-d.length+1);L<=N;L++){var $=e-L|0;a=d.words[$]|0,l=t.words[L]|0,v=a*l+q,c+=v/67108864|0,q=v&67108863}r.words[e]=q|0,u=c|0}return u!==0?r.words[e]=u|0:r.length--,r.strip()}var R=function(t,r,n){var a=t.words,l=r.words,v=n.words,b=0,u,e,c,q=a[0]|0,N=q&8191,L=q>>>13,$=a[1]|0,V=$&8191,z=$>>>13,G=a[2]|0,U=G&8191,A=G>>>13,j=a[3]|0,Z=j&8191,W=j>>>13,Dt=a[4]|0,at=Dt&8191,nt=Dt>>>13,Ft=a[5]|0,lt=Ft&8191,ut=Ft>>>13,kt=a[6]|0,st=kt&8191,it=kt>>>13,Ct=a[7]|0,et=Ct&8191,tt=Ct>>>13,qt=a[8]|0,X=qt&8191,rt=qt>>>13,Lt=a[9]|0,Q=Lt&8191,ot=Lt>>>13,Ut=l[0]|0,ft=Ut&8191,ht=Ut>>>13,zt=l[1]|0,Et=zt&8191,St=zt>>>13,ae=l[2]|0,xt=ae&8191,At=ae>>>13,Ee=l[3]|0,It=Ee&8191,dt=Ee>>>13,Gt=l[4]|0,pt=Gt&8191,vt=Gt>>>13,Wt=l[5]|0,ct=Wt&8191,bt=Wt>>>13,Yt=l[6]|0,yt=Yt&8191,wt=Yt>>>13,Jt=l[7]|0,gt=Jt&8191,mt=Jt>>>13,$t=l[8]|0,Mt=$t&8191,_t=$t>>>13,Re=l[9]|0,Rt=Re&8191,Bt=Re>>>13;n.negative=t.negative^r.negative,n.length=19,u=Math.imul(N,ft),e=Math.imul(N,ht),e=e+Math.imul(L,ft)|0,c=Math.imul(L,ht);var Xt=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,u=Math.imul(V,ft),e=Math.imul(V,ht),e=e+Math.imul(z,ft)|0,c=Math.imul(z,ht),u=u+Math.imul(N,Et)|0,e=e+Math.imul(N,St)|0,e=e+Math.imul(L,Et)|0,c=c+Math.imul(L,St)|0;var fe=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(fe>>>26)|0,fe&=67108863,u=Math.imul(U,ft),e=Math.imul(U,ht),e=e+Math.imul(A,ft)|0,c=Math.imul(A,ht),u=u+Math.imul(V,Et)|0,e=e+Math.imul(V,St)|0,e=e+Math.imul(z,Et)|0,c=c+Math.imul(z,St)|0,u=u+Math.imul(N,xt)|0,e=e+Math.imul(N,At)|0,e=e+Math.imul(L,xt)|0,c=c+Math.imul(L,At)|0;var he=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(he>>>26)|0,he&=67108863,u=Math.imul(Z,ft),e=Math.imul(Z,ht),e=e+Math.imul(W,ft)|0,c=Math.imul(W,ht),u=u+Math.imul(U,Et)|0,e=e+Math.imul(U,St)|0,e=e+Math.imul(A,Et)|0,c=c+Math.imul(A,St)|0,u=u+Math.imul(V,xt)|0,e=e+Math.imul(V,At)|0,e=e+Math.imul(z,xt)|0,c=c+Math.imul(z,At)|0,u=u+Math.imul(N,It)|0,e=e+Math.imul(N,dt)|0,e=e+Math.imul(L,It)|0,c=c+Math.imul(L,dt)|0;var ue=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ue>>>26)|0,ue&=67108863,u=Math.imul(at,ft),e=Math.imul(at,ht),e=e+Math.imul(nt,ft)|0,c=Math.imul(nt,ht),u=u+Math.imul(Z,Et)|0,e=e+Math.imul(Z,St)|0,e=e+Math.imul(W,Et)|0,c=c+Math.imul(W,St)|0,u=u+Math.imul(U,xt)|0,e=e+Math.imul(U,At)|0,e=e+Math.imul(A,xt)|0,c=c+Math.imul(A,At)|0,u=u+Math.imul(V,It)|0,e=e+Math.imul(V,dt)|0,e=e+Math.imul(z,It)|0,c=c+Math.imul(z,dt)|0,u=u+Math.imul(N,pt)|0,e=e+Math.imul(N,vt)|0,e=e+Math.imul(L,pt)|0,c=c+Math.imul(L,vt)|0;var ce=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ce>>>26)|0,ce&=67108863,u=Math.imul(lt,ft),e=Math.imul(lt,ht),e=e+Math.imul(ut,ft)|0,c=Math.imul(ut,ht),u=u+Math.imul(at,Et)|0,e=e+Math.imul(at,St)|0,e=e+Math.imul(nt,Et)|0,c=c+Math.imul(nt,St)|0,u=u+Math.imul(Z,xt)|0,e=e+Math.imul(Z,At)|0,e=e+Math.imul(W,xt)|0,c=c+Math.imul(W,At)|0,u=u+Math.imul(U,It)|0,e=e+Math.imul(U,dt)|0,e=e+Math.imul(A,It)|0,c=c+Math.imul(A,dt)|0,u=u+Math.imul(V,pt)|0,e=e+Math.imul(V,vt)|0,e=e+Math.imul(z,pt)|0,c=c+Math.imul(z,vt)|0,u=u+Math.imul(N,ct)|0,e=e+Math.imul(N,bt)|0,e=e+Math.imul(L,ct)|0,c=c+Math.imul(L,bt)|0;var le=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(le>>>26)|0,le&=67108863,u=Math.imul(st,ft),e=Math.imul(st,ht),e=e+Math.imul(it,ft)|0,c=Math.imul(it,ht),u=u+Math.imul(lt,Et)|0,e=e+Math.imul(lt,St)|0,e=e+Math.imul(ut,Et)|0,c=c+Math.imul(ut,St)|0,u=u+Math.imul(at,xt)|0,e=e+Math.imul(at,At)|0,e=e+Math.imul(nt,xt)|0,c=c+Math.imul(nt,At)|0,u=u+Math.imul(Z,It)|0,e=e+Math.imul(Z,dt)|0,e=e+Math.imul(W,It)|0,c=c+Math.imul(W,dt)|0,u=u+Math.imul(U,pt)|0,e=e+Math.imul(U,vt)|0,e=e+Math.imul(A,pt)|0,c=c+Math.imul(A,vt)|0,u=u+Math.imul(V,ct)|0,e=e+Math.imul(V,bt)|0,e=e+Math.imul(z,ct)|0,c=c+Math.imul(z,bt)|0,u=u+Math.imul(N,yt)|0,e=e+Math.imul(N,wt)|0,e=e+Math.imul(L,yt)|0,c=c+Math.imul(L,wt)|0;var ee=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ee>>>26)|0,ee&=67108863,u=Math.imul(et,ft),e=Math.imul(et,ht),e=e+Math.imul(tt,ft)|0,c=Math.imul(tt,ht),u=u+Math.imul(st,Et)|0,e=e+Math.imul(st,St)|0,e=e+Math.imul(it,Et)|0,c=c+Math.imul(it,St)|0,u=u+Math.imul(lt,xt)|0,e=e+Math.imul(lt,At)|0,e=e+Math.imul(ut,xt)|0,c=c+Math.imul(ut,At)|0,u=u+Math.imul(at,It)|0,e=e+Math.imul(at,dt)|0,e=e+Math.imul(nt,It)|0,c=c+Math.imul(nt,dt)|0,u=u+Math.imul(Z,pt)|0,e=e+Math.imul(Z,vt)|0,e=e+Math.imul(W,pt)|0,c=c+Math.imul(W,vt)|0,u=u+Math.imul(U,ct)|0,e=e+Math.imul(U,bt)|0,e=e+Math.imul(A,ct)|0,c=c+Math.imul(A,bt)|0,u=u+Math.imul(V,yt)|0,e=e+Math.imul(V,wt)|0,e=e+Math.imul(z,yt)|0,c=c+Math.imul(z,wt)|0,u=u+Math.imul(N,gt)|0,e=e+Math.imul(N,mt)|0,e=e+Math.imul(L,gt)|0,c=c+Math.imul(L,mt)|0;var de=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(de>>>26)|0,de&=67108863,u=Math.imul(X,ft),e=Math.imul(X,ht),e=e+Math.imul(rt,ft)|0,c=Math.imul(rt,ht),u=u+Math.imul(et,Et)|0,e=e+Math.imul(et,St)|0,e=e+Math.imul(tt,Et)|0,c=c+Math.imul(tt,St)|0,u=u+Math.imul(st,xt)|0,e=e+Math.imul(st,At)|0,e=e+Math.imul(it,xt)|0,c=c+Math.imul(it,At)|0,u=u+Math.imul(lt,It)|0,e=e+Math.imul(lt,dt)|0,e=e+Math.imul(ut,It)|0,c=c+Math.imul(ut,dt)|0,u=u+Math.imul(at,pt)|0,e=e+Math.imul(at,vt)|0,e=e+Math.imul(nt,pt)|0,c=c+Math.imul(nt,vt)|0,u=u+Math.imul(Z,ct)|0,e=e+Math.imul(Z,bt)|0,e=e+Math.imul(W,ct)|0,c=c+Math.imul(W,bt)|0,u=u+Math.imul(U,yt)|0,e=e+Math.imul(U,wt)|0,e=e+Math.imul(A,yt)|0,c=c+Math.imul(A,wt)|0,u=u+Math.imul(V,gt)|0,e=e+Math.imul(V,mt)|0,e=e+Math.imul(z,gt)|0,c=c+Math.imul(z,mt)|0,u=u+Math.imul(N,Mt)|0,e=e+Math.imul(N,_t)|0,e=e+Math.imul(L,Mt)|0,c=c+Math.imul(L,_t)|0;var pe=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(pe>>>26)|0,pe&=67108863,u=Math.imul(Q,ft),e=Math.imul(Q,ht),e=e+Math.imul(ot,ft)|0,c=Math.imul(ot,ht),u=u+Math.imul(X,Et)|0,e=e+Math.imul(X,St)|0,e=e+Math.imul(rt,Et)|0,c=c+Math.imul(rt,St)|0,u=u+Math.imul(et,xt)|0,e=e+Math.imul(et,At)|0,e=e+Math.imul(tt,xt)|0,c=c+Math.imul(tt,At)|0,u=u+Math.imul(st,It)|0,e=e+Math.imul(st,dt)|0,e=e+Math.imul(it,It)|0,c=c+Math.imul(it,dt)|0,u=u+Math.imul(lt,pt)|0,e=e+Math.imul(lt,vt)|0,e=e+Math.imul(ut,pt)|0,c=c+Math.imul(ut,vt)|0,u=u+Math.imul(at,ct)|0,e=e+Math.imul(at,bt)|0,e=e+Math.imul(nt,ct)|0,c=c+Math.imul(nt,bt)|0,u=u+Math.imul(Z,yt)|0,e=e+Math.imul(Z,wt)|0,e=e+Math.imul(W,yt)|0,c=c+Math.imul(W,wt)|0,u=u+Math.imul(U,gt)|0,e=e+Math.imul(U,mt)|0,e=e+Math.imul(A,gt)|0,c=c+Math.imul(A,mt)|0,u=u+Math.imul(V,Mt)|0,e=e+Math.imul(V,_t)|0,e=e+Math.imul(z,Mt)|0,c=c+Math.imul(z,_t)|0,u=u+Math.imul(N,Rt)|0,e=e+Math.imul(N,Bt)|0,e=e+Math.imul(L,Rt)|0,c=c+Math.imul(L,Bt)|0;var ve=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ve>>>26)|0,ve&=67108863,u=Math.imul(Q,Et),e=Math.imul(Q,St),e=e+Math.imul(ot,Et)|0,c=Math.imul(ot,St),u=u+Math.imul(X,xt)|0,e=e+Math.imul(X,At)|0,e=e+Math.imul(rt,xt)|0,c=c+Math.imul(rt,At)|0,u=u+Math.imul(et,It)|0,e=e+Math.imul(et,dt)|0,e=e+Math.imul(tt,It)|0,c=c+Math.imul(tt,dt)|0,u=u+Math.imul(st,pt)|0,e=e+Math.imul(st,vt)|0,e=e+Math.imul(it,pt)|0,c=c+Math.imul(it,vt)|0,u=u+Math.imul(lt,ct)|0,e=e+Math.imul(lt,bt)|0,e=e+Math.imul(ut,ct)|0,c=c+Math.imul(ut,bt)|0,u=u+Math.imul(at,yt)|0,e=e+Math.imul(at,wt)|0,e=e+Math.imul(nt,yt)|0,c=c+Math.imul(nt,wt)|0,u=u+Math.imul(Z,gt)|0,e=e+Math.imul(Z,mt)|0,e=e+Math.imul(W,gt)|0,c=c+Math.imul(W,mt)|0,u=u+Math.imul(U,Mt)|0,e=e+Math.imul(U,_t)|0,e=e+Math.imul(A,Mt)|0,c=c+Math.imul(A,_t)|0,u=u+Math.imul(V,Rt)|0,e=e+Math.imul(V,Bt)|0,e=e+Math.imul(z,Rt)|0,c=c+Math.imul(z,Bt)|0;var me=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(me>>>26)|0,me&=67108863,u=Math.imul(Q,xt),e=Math.imul(Q,At),e=e+Math.imul(ot,xt)|0,c=Math.imul(ot,At),u=u+Math.imul(X,It)|0,e=e+Math.imul(X,dt)|0,e=e+Math.imul(rt,It)|0,c=c+Math.imul(rt,dt)|0,u=u+Math.imul(et,pt)|0,e=e+Math.imul(et,vt)|0,e=e+Math.imul(tt,pt)|0,c=c+Math.imul(tt,vt)|0,u=u+Math.imul(st,ct)|0,e=e+Math.imul(st,bt)|0,e=e+Math.imul(it,ct)|0,c=c+Math.imul(it,bt)|0,u=u+Math.imul(lt,yt)|0,e=e+Math.imul(lt,wt)|0,e=e+Math.imul(ut,yt)|0,c=c+Math.imul(ut,wt)|0,u=u+Math.imul(at,gt)|0,e=e+Math.imul(at,mt)|0,e=e+Math.imul(nt,gt)|0,c=c+Math.imul(nt,mt)|0,u=u+Math.imul(Z,Mt)|0,e=e+Math.imul(Z,_t)|0,e=e+Math.imul(W,Mt)|0,c=c+Math.imul(W,_t)|0,u=u+Math.imul(U,Rt)|0,e=e+Math.imul(U,Bt)|0,e=e+Math.imul(A,Rt)|0,c=c+Math.imul(A,Bt)|0;var ge=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ge>>>26)|0,ge&=67108863,u=Math.imul(Q,It),e=Math.imul(Q,dt),e=e+Math.imul(ot,It)|0,c=Math.imul(ot,dt),u=u+Math.imul(X,pt)|0,e=e+Math.imul(X,vt)|0,e=e+Math.imul(rt,pt)|0,c=c+Math.imul(rt,vt)|0,u=u+Math.imul(et,ct)|0,e=e+Math.imul(et,bt)|0,e=e+Math.imul(tt,ct)|0,c=c+Math.imul(tt,bt)|0,u=u+Math.imul(st,yt)|0,e=e+Math.imul(st,wt)|0,e=e+Math.imul(it,yt)|0,c=c+Math.imul(it,wt)|0,u=u+Math.imul(lt,gt)|0,e=e+Math.imul(lt,mt)|0,e=e+Math.imul(ut,gt)|0,c=c+Math.imul(ut,mt)|0,u=u+Math.imul(at,Mt)|0,e=e+Math.imul(at,_t)|0,e=e+Math.imul(nt,Mt)|0,c=c+Math.imul(nt,_t)|0,u=u+Math.imul(Z,Rt)|0,e=e+Math.imul(Z,Bt)|0,e=e+Math.imul(W,Rt)|0,c=c+Math.imul(W,Bt)|0;var ie=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ie>>>26)|0,ie&=67108863,u=Math.imul(Q,pt),e=Math.imul(Q,vt),e=e+Math.imul(ot,pt)|0,c=Math.imul(ot,vt),u=u+Math.imul(X,ct)|0,e=e+Math.imul(X,bt)|0,e=e+Math.imul(rt,ct)|0,c=c+Math.imul(rt,bt)|0,u=u+Math.imul(et,yt)|0,e=e+Math.imul(et,wt)|0,e=e+Math.imul(tt,yt)|0,c=c+Math.imul(tt,wt)|0,u=u+Math.imul(st,gt)|0,e=e+Math.imul(st,mt)|0,e=e+Math.imul(it,gt)|0,c=c+Math.imul(it,mt)|0,u=u+Math.imul(lt,Mt)|0,e=e+Math.imul(lt,_t)|0,e=e+Math.imul(ut,Mt)|0,c=c+Math.imul(ut,_t)|0,u=u+Math.imul(at,Rt)|0,e=e+Math.imul(at,Bt)|0,e=e+Math.imul(nt,Rt)|0,c=c+Math.imul(nt,Bt)|0;var be=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(be>>>26)|0,be&=67108863,u=Math.imul(Q,ct),e=Math.imul(Q,bt),e=e+Math.imul(ot,ct)|0,c=Math.imul(ot,bt),u=u+Math.imul(X,yt)|0,e=e+Math.imul(X,wt)|0,e=e+Math.imul(rt,yt)|0,c=c+Math.imul(rt,wt)|0,u=u+Math.imul(et,gt)|0,e=e+Math.imul(et,mt)|0,e=e+Math.imul(tt,gt)|0,c=c+Math.imul(tt,mt)|0,u=u+Math.imul(st,Mt)|0,e=e+Math.imul(st,_t)|0,e=e+Math.imul(it,Mt)|0,c=c+Math.imul(it,_t)|0,u=u+Math.imul(lt,Rt)|0,e=e+Math.imul(lt,Bt)|0,e=e+Math.imul(ut,Rt)|0,c=c+Math.imul(ut,Bt)|0;var ye=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ye>>>26)|0,ye&=67108863,u=Math.imul(Q,yt),e=Math.imul(Q,wt),e=e+Math.imul(ot,yt)|0,c=Math.imul(ot,wt),u=u+Math.imul(X,gt)|0,e=e+Math.imul(X,mt)|0,e=e+Math.imul(rt,gt)|0,c=c+Math.imul(rt,mt)|0,u=u+Math.imul(et,Mt)|0,e=e+Math.imul(et,_t)|0,e=e+Math.imul(tt,Mt)|0,c=c+Math.imul(tt,_t)|0,u=u+Math.imul(st,Rt)|0,e=e+Math.imul(st,Bt)|0,e=e+Math.imul(it,Rt)|0,c=c+Math.imul(it,Bt)|0;var te=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(te>>>26)|0,te&=67108863,u=Math.imul(Q,gt),e=Math.imul(Q,mt),e=e+Math.imul(ot,gt)|0,c=Math.imul(ot,mt),u=u+Math.imul(X,Mt)|0,e=e+Math.imul(X,_t)|0,e=e+Math.imul(rt,Mt)|0,c=c+Math.imul(rt,_t)|0,u=u+Math.imul(et,Rt)|0,e=e+Math.imul(et,Bt)|0,e=e+Math.imul(tt,Rt)|0,c=c+Math.imul(tt,Bt)|0;var we=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(we>>>26)|0,we&=67108863,u=Math.imul(Q,Mt),e=Math.imul(Q,_t),e=e+Math.imul(ot,Mt)|0,c=Math.imul(ot,_t),u=u+Math.imul(X,Rt)|0,e=e+Math.imul(X,Bt)|0,e=e+Math.imul(rt,Rt)|0,c=c+Math.imul(rt,Bt)|0;var Me=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(Me>>>26)|0,Me&=67108863,u=Math.imul(Q,Rt),e=Math.imul(Q,Bt),e=e+Math.imul(ot,Rt)|0,c=Math.imul(ot,Bt);var _e=(b+u|0)+((e&8191)<<13)|0;return b=(c+(e>>>13)|0)+(_e>>>26)|0,_e&=67108863,v[0]=Xt,v[1]=fe,v[2]=he,v[3]=ue,v[4]=ce,v[5]=le,v[6]=ee,v[7]=de,v[8]=pe,v[9]=ve,v[10]=me,v[11]=ge,v[12]=ie,v[13]=be,v[14]=ye,v[15]=te,v[16]=we,v[17]=Me,v[18]=_e,b!==0&&(v[19]=b,n.length++),n};Math.imul||(R=S);function P(d,t,r){r.negative=t.negative^d.negative,r.length=d.length+t.length;for(var n=0,a=0,l=0;l<r.length-1;l++){var v=a;a=0;for(var b=n&67108863,u=Math.min(l,t.length-1),e=Math.max(0,l-d.length+1);e<=u;e++){var c=l-e,q=d.words[c]|0,N=t.words[e]|0,L=q*N,$=L&67108863;v=v+(L/67108864|0)|0,$=$+b|0,b=$&67108863,v=v+($>>>26)|0,a+=v>>>26,v&=67108863}r.words[l]=b,n=v,v=a}return n!==0?r.words[l]=n:r.length--,r.strip()}function O(d,t,r){var n=new B;return n.mulp(d,t,r)}i.prototype.mulTo=function(t,r){var n,a=this.length+t.length;return this.length===10&&t.length===10?n=R(this,t,r):a<63?n=S(this,t,r):a<1024?n=P(this,t,r):n=O(this,t,r),n};function B(d,t){this.x=d,this.y=t}B.prototype.makeRBT=function(t){for(var r=new Array(t),n=i.prototype._countBits(t)-1,a=0;a<t;a++)r[a]=this.revBin(a,n,t);return r},B.prototype.revBin=function(t,r,n){if(t===0||t===n-1)return t;for(var a=0,l=0;l<r;l++)a|=(t&1)<<r-l-1,t>>=1;return a},B.prototype.permute=function(t,r,n,a,l,v){for(var b=0;b<v;b++)a[b]=r[t[b]],l[b]=n[t[b]]},B.prototype.transform=function(t,r,n,a,l,v){this.permute(v,t,r,n,a,l);for(var b=1;b<l;b<<=1)for(var u=b<<1,e=Math.cos(2*Math.PI/u),c=Math.sin(2*Math.PI/u),q=0;q<l;q+=u)for(var N=e,L=c,$=0;$<b;$++){var V=n[q+$],z=a[q+$],G=n[q+$+b],U=a[q+$+b],A=N*G-L*U;U=N*U+L*G,G=A,n[q+$]=V+G,a[q+$]=z+U,n[q+$+b]=V-G,a[q+$+b]=z-U,$!==u&&(A=e*N-c*L,L=e*L+c*N,N=A)}},B.prototype.guessLen13b=function(t,r){var n=Math.max(r,t)|1,a=n&1,l=0;for(n=n/2|0;n;n=n>>>1)l++;return 1<<l+1+a},B.prototype.conjugate=function(t,r,n){if(!(n<=1))for(var a=0;a<n/2;a++){var l=t[a];t[a]=t[n-a-1],t[n-a-1]=l,l=r[a],r[a]=-r[n-a-1],r[n-a-1]=-l}},B.prototype.normalize13b=function(t,r){for(var n=0,a=0;a<r/2;a++){var l=Math.round(t[2*a+1]/r)*8192+Math.round(t[2*a]/r)+n;t[a]=l&67108863,l<67108864?n=0:n=l/67108864|0}return t},B.prototype.convert13b=function(t,r,n,a){for(var l=0,v=0;v<r;v++)l=l+(t[v]|0),n[2*v]=l&8191,l=l>>>13,n[2*v+1]=l&8191,l=l>>>13;for(v=2*r;v<a;++v)n[v]=0;o(l===0),o((l&-8192)===0)},B.prototype.stub=function(t){for(var r=new Array(t),n=0;n<t;n++)r[n]=0;return r},B.prototype.mulp=function(t,r,n){var a=2*this.guessLen13b(t.length,r.length),l=this.makeRBT(a),v=this.stub(a),b=new Array(a),u=new Array(a),e=new Array(a),c=new Array(a),q=new Array(a),N=new Array(a),L=n.words;L.length=a,this.convert13b(t.words,t.length,b,a),this.convert13b(r.words,r.length,c,a),this.transform(b,v,u,e,a,l),this.transform(c,v,q,N,a,l);for(var $=0;$<a;$++){var V=u[$]*q[$]-e[$]*N[$];e[$]=u[$]*N[$]+e[$]*q[$],u[$]=V}return this.conjugate(u,e,a),this.transform(u,e,L,v,a,l),this.conjugate(L,v,a),this.normalize13b(L,a),n.negative=t.negative^r.negative,n.length=t.length+r.length,n.strip()},i.prototype.mul=function(t){var r=new i(null);return r.words=new Array(this.length+t.length),this.mulTo(t,r)},i.prototype.mulf=function(t){var r=new i(null);return r.words=new Array(this.length+t.length),O(this,t,r)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){o(typeof t=="number"),o(t<67108864);for(var r=0,n=0;n<this.length;n++){var a=(this.words[n]|0)*t,l=(a&67108863)+(r&67108863);r>>=26,r+=a/67108864|0,r+=l>>>26,this.words[n]=l&67108863}return r!==0&&(this.words[n]=r,this.length++),this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var r=E(t);if(r.length===0)return new i(1);for(var n=this,a=0;a<r.length&&r[a]===0;a++,n=n.sqr());if(++a<r.length)for(var l=n.sqr();a<r.length;a++,l=l.sqr())r[a]!==0&&(n=n.mul(l));return n},i.prototype.iushln=function(t){o(typeof t=="number"&&t>=0);var r=t%26,n=(t-r)/26,a=67108863>>>26-r<<26-r,l;if(r!==0){var v=0;for(l=0;l<this.length;l++){var b=this.words[l]&a,u=(this.words[l]|0)-b<<r;this.words[l]=u|v,v=b>>>26-r}v&&(this.words[l]=v,this.length++)}if(n!==0){for(l=this.length-1;l>=0;l--)this.words[l+n]=this.words[l];for(l=0;l<n;l++)this.words[l]=0;this.length+=n}return this.strip()},i.prototype.ishln=function(t){return o(this.negative===0),this.iushln(t)},i.prototype.iushrn=function(t,r,n){o(typeof t=="number"&&t>=0);var a;r?a=(r-r%26)/26:a=0;var l=t%26,v=Math.min((t-l)/26,this.length),b=67108863^67108863>>>l<<l,u=n;if(a-=v,a=Math.max(0,a),u){for(var e=0;e<v;e++)u.words[e]=this.words[e];u.length=v}if(v!==0)if(this.length>v)for(this.length-=v,e=0;e<this.length;e++)this.words[e]=this.words[e+v];else this.words[0]=0,this.length=1;var c=0;for(e=this.length-1;e>=0&&(c!==0||e>=a);e--){var q=this.words[e]|0;this.words[e]=c<<26-l|q>>>l,c=q&b}return u&&c!==0&&(u.words[u.length++]=c),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(t,r,n){return o(this.negative===0),this.iushrn(t,r,n)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){o(typeof t=="number"&&t>=0);var r=t%26,n=(t-r)/26,a=1<<r;if(this.length<=n)return!1;var l=this.words[n];return!!(l&a)},i.prototype.imaskn=function(t){o(typeof t=="number"&&t>=0);var r=t%26,n=(t-r)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=n)return this;if(r!==0&&n++,this.length=Math.min(n,this.length),r!==0){var a=67108863^67108863>>>r<<r;this.words[this.length-1]&=a}return this.strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return o(typeof t=="number"),o(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var r=0;r<this.length&&this.words[r]>=67108864;r++)this.words[r]-=67108864,r===this.length-1?this.words[r+1]=1:this.words[r+1]++;return this.length=Math.max(this.length,r+1),this},i.prototype.isubn=function(t){if(o(typeof t=="number"),o(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var r=0;r<this.length&&this.words[r]<0;r++)this.words[r]+=67108864,this.words[r+1]-=1;return this.strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,r,n){var a=t.length+n,l;this._expand(a);var v,b=0;for(l=0;l<t.length;l++){v=(this.words[l+n]|0)+b;var u=(t.words[l]|0)*r;v-=u&67108863,b=(v>>26)-(u/67108864|0),this.words[l+n]=v&67108863}for(;l<this.length-n;l++)v=(this.words[l+n]|0)+b,b=v>>26,this.words[l+n]=v&67108863;if(b===0)return this.strip();for(o(b===-1),b=0,l=0;l<this.length;l++)v=-(this.words[l]|0)+b,b=v>>26,this.words[l]=v&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(t,r){var n=this.length-t.length,a=this.clone(),l=t,v=l.words[l.length-1]|0,b=this._countBits(v);n=26-b,n!==0&&(l=l.ushln(n),a.iushln(n),v=l.words[l.length-1]|0);var u=a.length-l.length,e;if(r!=="mod"){e=new i(null),e.length=u+1,e.words=new Array(e.length);for(var c=0;c<e.length;c++)e.words[c]=0}var q=a.clone()._ishlnsubmul(l,1,u);q.negative===0&&(a=q,e&&(e.words[u]=1));for(var N=u-1;N>=0;N--){var L=(a.words[l.length+N]|0)*67108864+(a.words[l.length+N-1]|0);for(L=Math.min(L/v|0,67108863),a._ishlnsubmul(l,L,N);a.negative!==0;)L--,a.negative=0,a._ishlnsubmul(l,1,N),a.isZero()||(a.negative^=1);e&&(e.words[N]=L)}return e&&e.strip(),a.strip(),r!=="div"&&n!==0&&a.iushrn(n),{div:e||null,mod:a}},i.prototype.divmod=function(t,r,n){if(o(!t.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var a,l,v;return this.negative!==0&&t.negative===0?(v=this.neg().divmod(t,r),r!=="mod"&&(a=v.div.neg()),r!=="div"&&(l=v.mod.neg(),n&&l.negative!==0&&l.iadd(t)),{div:a,mod:l}):this.negative===0&&t.negative!==0?(v=this.divmod(t.neg(),r),r!=="mod"&&(a=v.div.neg()),{div:a,mod:v.mod}):(this.negative&t.negative)!==0?(v=this.neg().divmod(t.neg(),r),r!=="div"&&(l=v.mod.neg(),n&&l.negative!==0&&l.isub(t)),{div:v.div,mod:l}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:t.length===1?r==="div"?{div:this.divn(t.words[0]),mod:null}:r==="mod"?{div:null,mod:new i(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modn(t.words[0]))}:this._wordDiv(t,r)},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var r=this.divmod(t);if(r.mod.isZero())return r.div;var n=r.div.negative!==0?r.mod.isub(t):r.mod,a=t.ushrn(1),l=t.andln(1),v=n.cmp(a);return v<0||l===1&&v===0?r.div:r.div.negative!==0?r.div.isubn(1):r.div.iaddn(1)},i.prototype.modn=function(t){o(t<=67108863);for(var r=(1<<26)%t,n=0,a=this.length-1;a>=0;a--)n=(r*n+(this.words[a]|0))%t;return n},i.prototype.idivn=function(t){o(t<=67108863);for(var r=0,n=this.length-1;n>=0;n--){var a=(this.words[n]|0)+r*67108864;this.words[n]=a/t|0,r=a%t}return this.strip()},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){o(t.negative===0),o(!t.isZero());var r=this,n=t.clone();r.negative!==0?r=r.umod(t):r=r.clone();for(var a=new i(1),l=new i(0),v=new i(0),b=new i(1),u=0;r.isEven()&&n.isEven();)r.iushrn(1),n.iushrn(1),++u;for(var e=n.clone(),c=r.clone();!r.isZero();){for(var q=0,N=1;(r.words[0]&N)===0&&q<26;++q,N<<=1);if(q>0)for(r.iushrn(q);q-- >0;)(a.isOdd()||l.isOdd())&&(a.iadd(e),l.isub(c)),a.iushrn(1),l.iushrn(1);for(var L=0,$=1;(n.words[0]&$)===0&&L<26;++L,$<<=1);if(L>0)for(n.iushrn(L);L-- >0;)(v.isOdd()||b.isOdd())&&(v.iadd(e),b.isub(c)),v.iushrn(1),b.iushrn(1);r.cmp(n)>=0?(r.isub(n),a.isub(v),l.isub(b)):(n.isub(r),v.isub(a),b.isub(l))}return{a:v,b,gcd:n.iushln(u)}},i.prototype._invmp=function(t){o(t.negative===0),o(!t.isZero());var r=this,n=t.clone();r.negative!==0?r=r.umod(t):r=r.clone();for(var a=new i(1),l=new i(0),v=n.clone();r.cmpn(1)>0&&n.cmpn(1)>0;){for(var b=0,u=1;(r.words[0]&u)===0&&b<26;++b,u<<=1);if(b>0)for(r.iushrn(b);b-- >0;)a.isOdd()&&a.iadd(v),a.iushrn(1);for(var e=0,c=1;(n.words[0]&c)===0&&e<26;++e,c<<=1);if(e>0)for(n.iushrn(e);e-- >0;)l.isOdd()&&l.iadd(v),l.iushrn(1);r.cmp(n)>=0?(r.isub(n),a.isub(l)):(n.isub(r),l.isub(a))}var q;return r.cmpn(1)===0?q=a:q=l,q.cmpn(0)<0&&q.iadd(t),q},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var r=this.clone(),n=t.clone();r.negative=0,n.negative=0;for(var a=0;r.isEven()&&n.isEven();a++)r.iushrn(1),n.iushrn(1);do{for(;r.isEven();)r.iushrn(1);for(;n.isEven();)n.iushrn(1);var l=r.cmp(n);if(l<0){var v=r;r=n,n=v}else if(l===0||n.cmpn(1)===0)break;r.isub(n)}while(!0);return n.iushln(a)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){o(typeof t=="number");var r=t%26,n=(t-r)/26,a=1<<r;if(this.length<=n)return this._expand(n+1),this.words[n]|=a,this;for(var l=a,v=n;l!==0&&v<this.length;v++){var b=this.words[v]|0;b+=l,l=b>>>26,b&=67108863,this.words[v]=b}return l!==0&&(this.words[v]=l,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(t){var r=t<0;if(this.negative!==0&&!r)return-1;if(this.negative===0&&r)return 1;this.strip();var n;if(this.length>1)n=1;else{r&&(t=-t),o(t<=67108863,"Number is too big");var a=this.words[0]|0;n=a===t?0:a<t?-1:1}return this.negative!==0?-n|0:n},i.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var r=this.ucmp(t);return this.negative!==0?-r|0:r},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var r=0,n=this.length-1;n>=0;n--){var a=this.words[n]|0,l=t.words[n]|0;if(a!==l){a<l?r=-1:a>l&&(r=1);break}}return r},i.prototype.gtn=function(t){return this.cmpn(t)===1},i.prototype.gt=function(t){return this.cmp(t)===1},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return this.cmpn(t)===-1},i.prototype.lt=function(t){return this.cmp(t)===-1},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return this.cmpn(t)===0},i.prototype.eq=function(t){return this.cmp(t)===0},i.red=function(t){return new K(t)},i.prototype.toRed=function(t){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return o(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return o(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var C={k256:null,p224:null,p192:null,p25519:null};function T(d,t){this.name=d,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}T.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},T.prototype.ireduce=function(t){var r=t,n;do this.split(r,this.tmp),r=this.imulK(r),r=r.iadd(this.tmp),n=r.bitLength();while(n>this.n);var a=n<this.n?-1:r.ucmp(this.p);return a===0?(r.words[0]=0,r.length=1):a>0?r.isub(this.p):r.strip!==void 0?r.strip():r._strip(),r},T.prototype.split=function(t,r){t.iushrn(this.n,0,r)},T.prototype.imulK=function(t){return t.imul(this.k)};function F(){T.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}p(F,T),F.prototype.split=function(t,r){for(var n=4194303,a=Math.min(t.length,9),l=0;l<a;l++)r.words[l]=t.words[l];if(r.length=a,t.length<=9){t.words[0]=0,t.length=1;return}var v=t.words[9];for(r.words[r.length++]=v&n,l=10;l<t.length;l++){var b=t.words[l]|0;t.words[l-10]=(b&n)<<4|v>>>22,v=b}v>>>=22,t.words[l-10]=v,v===0&&t.length>10?t.length-=10:t.length-=9},F.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var r=0,n=0;n<t.length;n++){var a=t.words[n]|0;r+=a*977,t.words[n]=r&67108863,r=a*64+(r/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function D(){T.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}p(D,T);function I(){T.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}p(I,T);function k(){T.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}p(k,T),k.prototype.imulK=function(t){for(var r=0,n=0;n<t.length;n++){var a=(t.words[n]|0)*19+r,l=a&67108863;a>>>=26,t.words[n]=l,r=a}return r!==0&&(t.words[t.length++]=r),t},i._prime=function(t){if(C[t])return C[t];var r;if(t==="k256")r=new F;else if(t==="p224")r=new D;else if(t==="p192")r=new I;else if(t==="p25519")r=new k;else throw new Error("Unknown prime "+t);return C[t]=r,r};function K(d){if(typeof d=="string"){var t=i._prime(d);this.m=t.p,this.prime=t}else o(d.gtn(1),"modulus must be greater than 1"),this.m=d,this.prime=null}K.prototype._verify1=function(t){o(t.negative===0,"red works only with positives"),o(t.red,"red works only with red numbers")},K.prototype._verify2=function(t,r){o((t.negative|r.negative)===0,"red works only with positives"),o(t.red&&t.red===r.red,"red works only with red numbers")},K.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},K.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},K.prototype.add=function(t,r){this._verify2(t,r);var n=t.add(r);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},K.prototype.iadd=function(t,r){this._verify2(t,r);var n=t.iadd(r);return n.cmp(this.m)>=0&&n.isub(this.m),n},K.prototype.sub=function(t,r){this._verify2(t,r);var n=t.sub(r);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},K.prototype.isub=function(t,r){this._verify2(t,r);var n=t.isub(r);return n.cmpn(0)<0&&n.iadd(this.m),n},K.prototype.shl=function(t,r){return this._verify1(t),this.imod(t.ushln(r))},K.prototype.imul=function(t,r){return this._verify2(t,r),this.imod(t.imul(r))},K.prototype.mul=function(t,r){return this._verify2(t,r),this.imod(t.mul(r))},K.prototype.isqr=function(t){return this.imul(t,t.clone())},K.prototype.sqr=function(t){return this.mul(t,t)},K.prototype.sqrt=function(t){if(t.isZero())return t.clone();var r=this.m.andln(3);if(o(r%2===1),r===3){var n=this.m.add(new i(1)).iushrn(2);return this.pow(t,n)}for(var a=this.m.subn(1),l=0;!a.isZero()&&a.andln(1)===0;)l++,a.iushrn(1);o(!a.isZero());var v=new i(1).toRed(this),b=v.redNeg(),u=this.m.subn(1).iushrn(1),e=this.m.bitLength();for(e=new i(2*e*e).toRed(this);this.pow(e,u).cmp(b)!==0;)e.redIAdd(b);for(var c=this.pow(e,a),q=this.pow(t,a.addn(1).iushrn(1)),N=this.pow(t,a),L=l;N.cmp(v)!==0;){for(var $=N,V=0;$.cmp(v)!==0;V++)$=$.redSqr();o(V<L);var z=this.pow(c,new i(1).iushln(L-V-1));q=q.redMul(z),c=z.redSqr(),N=N.redMul(c),L=V}return q},K.prototype.invm=function(t){var r=t._invmp(this.m);return r.negative!==0?(r.negative=0,this.imod(r).redNeg()):this.imod(r)},K.prototype.pow=function(t,r){if(r.isZero())return new i(1).toRed(this);if(r.cmpn(1)===0)return t.clone();var n=4,a=new Array(1<<n);a[0]=new i(1).toRed(this),a[1]=t;for(var l=2;l<a.length;l++)a[l]=this.mul(a[l-1],t);var v=a[0],b=0,u=0,e=r.bitLength()%26;for(e===0&&(e=26),l=r.length-1;l>=0;l--){for(var c=r.words[l],q=e-1;q>=0;q--){var N=c>>q&1;if(v!==a[0]&&(v=this.sqr(v)),N===0&&b===0){u=0;continue}b<<=1,b|=N,u++,!(u!==n&&(l!==0||q!==0))&&(v=this.mul(v,a[b]),u=0,b=0)}e=26}return v},K.prototype.convertTo=function(t){var r=t.umod(this.m);return r===t?r.clone():r},K.prototype.convertFrom=function(t){var r=t.clone();return r.red=null,r},i.mont=function(t){return new Y(t)};function Y(d){K.call(this,d),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}p(Y,K),Y.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},Y.prototype.convertFrom=function(t){var r=this.imod(t.mul(this.rinv));return r.red=null,r},Y.prototype.imul=function(t,r){if(t.isZero()||r.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(r),a=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=n.isub(a).iushrn(this.shift),v=l;return l.cmp(this.m)>=0?v=l.isub(this.m):l.cmpn(0)<0&&(v=l.iadd(this.m)),v._forceRed(this)},Y.prototype.mul=function(t,r){if(t.isZero()||r.isZero())return new i(0)._forceRed(this);var n=t.mul(r),a=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=n.isub(a).iushrn(this.shift),v=l;return l.cmp(this.m)>=0?v=l.isub(this.m):l.cmpn(0)<0&&(v=l.iadd(this.m)),v._forceRed(this)},Y.prototype.invm=function(t){var r=this.imod(t._invmp(this.m).mul(this.r2));return r._forceRed(this)}})(f,Zt)}(aa)),aa.exports}var oa,zh;function fp(){if(zh)return oa;zh=1;var f=Ya(),s=op();oa=function(M){return new o(M)};var h={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};h.p224=h.secp224r1,h.p256=h.secp256r1=h.prime256v1,h.p192=h.secp192r1=h.prime192v1,h.p384=h.secp384r1,h.p521=h.secp521r1;function o(i){this.curveType=h[i],this.curveType||(this.curveType={name:i}),this.curve=new f.ec(this.curveType.name),this.keys=void 0}o.prototype.generateKeys=function(i,M){return this.keys=this.curve.genKeyPair(),this.getPublicKey(i,M)},o.prototype.computeSecret=function(i,M,w){M=M||"utf8",Vt.Buffer.isBuffer(i)||(i=new Vt.Buffer(i,M));var y=this.curve.keyFromPublic(i).getPublic(),g=y.mul(this.keys.getPrivate()).getX();return p(g,w,this.curveType.byteLength)},o.prototype.getPublicKey=function(i,M){var w=this.keys.getPublic(M==="compressed",!0);return M==="hybrid"&&(w[w.length-1]%2?w[0]=7:w[0]=6),p(w,i)},o.prototype.getPrivateKey=function(i){return p(this.keys.getPrivate(),i)},o.prototype.setPublicKey=function(i,M){return M=M||"utf8",Vt.Buffer.isBuffer(i)||(i=new Vt.Buffer(i,M)),this.keys._importPublic(i),this},o.prototype.setPrivateKey=function(i,M){M=M||"utf8",Vt.Buffer.isBuffer(i)||(i=new Vt.Buffer(i,M));var w=new s(i);return w=w.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(w),this};function p(i,M,w){Array.isArray(i)||(i=i.toArray());var y=new Vt.Buffer(i);if(w&&y.length<w){var g=new Vt.Buffer(w-y.length);g.fill(0),y=Vt.Buffer.concat([g,y])}return M?y.toString(M):y}return oa}var fa={},ha,$h;function Bu(){if($h)return ha;$h=1;var f=Ti,s=re.exports.Buffer;ha=function(o,p){for(var i=s.alloc(0),M=0,w;i.length<p;)w=h(M++),i=s.concat([i,f("sha1").update(o).update(w).digest()]);return i.slice(0,p)};function h(o){var p=s.allocUnsafe(4);return p.writeUInt32BE(o,0),p}return ha}var ua,Kh;function Pu(){return Kh||(Kh=1,ua=function(s,h){for(var o=s.length,p=-1;++p<o;)s[p]^=h[p];return s}),ua}var ca={exports:{}},Hh;function eo(){return Hh||(Hh=1,function(f){(function(s,h){function o(d,t){if(!d)throw new Error(t||"Assertion failed")}function p(d,t){d.super_=t;var r=function(){};r.prototype=t.prototype,d.prototype=new r,d.prototype.constructor=d}function i(d,t,r){if(i.isBN(d))return d;this.negative=0,this.words=null,this.length=0,this.red=null,d!==null&&((t==="le"||t==="be")&&(r=t,t=10),this._init(d||0,t||10,r||"be"))}typeof s=="object"?s.exports=i:h.BN=i,i.BN=i,i.wordSize=26;var M;try{typeof window<"u"&&typeof window.Buffer<"u"?M=window.Buffer:M=Vt.Buffer}catch{}i.isBN=function(t){return t instanceof i?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,r){return t.cmp(r)>0?t:r},i.min=function(t,r){return t.cmp(r)<0?t:r},i.prototype._init=function(t,r,n){if(typeof t=="number")return this._initNumber(t,r,n);if(typeof t=="object")return this._initArray(t,r,n);r==="hex"&&(r=16),o(r===(r|0)&&r>=2&&r<=36),t=t.toString().replace(/\s+/g,"");var a=0;t[0]==="-"&&(a++,this.negative=1),a<t.length&&(r===16?this._parseHex(t,a,n):(this._parseBase(t,r,a),n==="le"&&this._initArray(this.toArray(),r,n)))},i.prototype._initNumber=function(t,r,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(o(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),n==="le"&&this._initArray(this.toArray(),r,n)},i.prototype._initArray=function(t,r,n){if(o(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var l,v,b=0;if(n==="be")for(a=t.length-1,l=0;a>=0;a-=3)v=t[a]|t[a-1]<<8|t[a-2]<<16,this.words[l]|=v<<b&67108863,this.words[l+1]=v>>>26-b&67108863,b+=24,b>=26&&(b-=26,l++);else if(n==="le")for(a=0,l=0;a<t.length;a+=3)v=t[a]|t[a+1]<<8|t[a+2]<<16,this.words[l]|=v<<b&67108863,this.words[l+1]=v>>>26-b&67108863,b+=24,b>=26&&(b-=26,l++);return this.strip()};function w(d,t){var r=d.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function y(d,t,r){var n=w(d,r);return r-1>=t&&(n|=w(d,r-1)<<4),n}i.prototype._parseHex=function(t,r,n){this.length=Math.ceil((t.length-r)/6),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var l=0,v=0,b;if(n==="be")for(a=t.length-1;a>=r;a-=2)b=y(t,r,a)<<l,this.words[v]|=b&67108863,l>=18?(l-=18,v+=1,this.words[v]|=b>>>26):l+=8;else{var u=t.length-r;for(a=u%2===0?r+1:r;a<t.length;a+=2)b=y(t,r,a)<<l,this.words[v]|=b&67108863,l>=18?(l-=18,v+=1,this.words[v]|=b>>>26):l+=8}this.strip()};function g(d,t,r,n){for(var a=0,l=Math.min(d.length,r),v=t;v<l;v++){var b=d.charCodeAt(v)-48;a*=n,b>=49?a+=b-49+10:b>=17?a+=b-17+10:a+=b}return a}i.prototype._parseBase=function(t,r,n){this.words=[0],this.length=1;for(var a=0,l=1;l<=67108863;l*=r)a++;a--,l=l/r|0;for(var v=t.length-n,b=v%a,u=Math.min(v,v-b)+n,e=0,c=n;c<u;c+=a)e=g(t,c,c+a,r),this.imuln(l),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e);if(b!==0){var q=1;for(e=g(t,c,t.length,r),c=0;c<b;c++)q*=r;this.imuln(q),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e)}this.strip()},i.prototype.copy=function(t){t.words=new Array(this.length);for(var r=0;r<this.length;r++)t.words[r]=this.words[r];t.length=this.length,t.negative=this.negative,t.red=this.red},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(t,r){t=t||10,r=r|0||1;var n;if(t===16||t==="hex"){n="";for(var a=0,l=0,v=0;v<this.length;v++){var b=this.words[v],u=((b<<a|l)&16777215).toString(16);l=b>>>24-a&16777215,l!==0||v!==this.length-1?n=m[6-u.length]+u+n:n=u+n,a+=2,a>=26&&(a-=26,v--)}for(l!==0&&(n=l.toString(16)+n);n.length%r!==0;)n="0"+n;return this.negative!==0&&(n="-"+n),n}if(t===(t|0)&&t>=2&&t<=36){var e=_[t],c=x[t];n="";var q=this.clone();for(q.negative=0;!q.isZero();){var N=q.modn(c).toString(t);q=q.idivn(c),q.isZero()?n=N+n:n=m[e-N.length]+N+n}for(this.isZero()&&(n="0"+n);n.length%r!==0;)n="0"+n;return this.negative!==0&&(n="-"+n),n}o(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(t,r){return o(typeof M<"u"),this.toArrayLike(M,t,r)},i.prototype.toArray=function(t,r){return this.toArrayLike(Array,t,r)},i.prototype.toArrayLike=function(t,r,n){var a=this.byteLength(),l=n||Math.max(1,a);o(a<=l,"byte array longer than desired length"),o(l>0,"Requested array length <= 0"),this.strip();var v=r==="le",b=new t(l),u,e,c=this.clone();if(v){for(e=0;!c.isZero();e++)u=c.andln(255),c.iushrn(8),b[e]=u;for(;e<l;e++)b[e]=0}else{for(e=0;e<l-a;e++)b[e]=0;for(e=0;!c.isZero();e++)u=c.andln(255),c.iushrn(8),b[l-e-1]=u}return b},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var r=t,n=0;return r>=4096&&(n+=13,r>>>=13),r>=64&&(n+=7,r>>>=7),r>=8&&(n+=4,r>>>=4),r>=2&&(n+=2,r>>>=2),n+r},i.prototype._zeroBits=function(t){if(t===0)return 26;var r=t,n=0;return(r&8191)===0&&(n+=13,r>>>=13),(r&127)===0&&(n+=7,r>>>=7),(r&15)===0&&(n+=4,r>>>=4),(r&3)===0&&(n+=2,r>>>=2),(r&1)===0&&n++,n},i.prototype.bitLength=function(){var t=this.words[this.length-1],r=this._countBits(t);return(this.length-1)*26+r};function E(d){for(var t=new Array(d.bitLength()),r=0;r<t.length;r++){var n=r/26|0,a=r%26;t[r]=(d.words[n]&1<<a)>>>a}return t}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,r=0;r<this.length;r++){var n=this._zeroBits(this.words[r]);if(t+=n,n!==26)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]|t.words[r];return this.strip()},i.prototype.ior=function(t){return o((this.negative|t.negative)===0),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var r;this.length>t.length?r=t:r=this;for(var n=0;n<r.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=r.length,this.strip()},i.prototype.iand=function(t){return o((this.negative|t.negative)===0),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var r,n;this.length>t.length?(r=this,n=t):(r=t,n=this);for(var a=0;a<n.length;a++)this.words[a]=r.words[a]^n.words[a];if(this!==r)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=r.length,this.strip()},i.prototype.ixor=function(t){return o((this.negative|t.negative)===0),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){o(typeof t=="number"&&t>=0);var r=Math.ceil(t/26)|0,n=t%26;this._expand(r),n>0&&r--;for(var a=0;a<r;a++)this.words[a]=~this.words[a]&67108863;return n>0&&(this.words[a]=~this.words[a]&67108863>>26-n),this.strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,r){o(typeof t=="number"&&t>=0);var n=t/26|0,a=t%26;return this._expand(n+1),r?this.words[n]=this.words[n]|1<<a:this.words[n]=this.words[n]&~(1<<a),this.strip()},i.prototype.iadd=function(t){var r;if(this.negative!==0&&t.negative===0)return this.negative=0,r=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,r=this.isub(t),t.negative=1,r._normSign();var n,a;this.length>t.length?(n=this,a=t):(n=t,a=this);for(var l=0,v=0;v<a.length;v++)r=(n.words[v]|0)+(a.words[v]|0)+l,this.words[v]=r&67108863,l=r>>>26;for(;l!==0&&v<n.length;v++)r=(n.words[v]|0)+l,this.words[v]=r&67108863,l=r>>>26;if(this.length=n.length,l!==0)this.words[this.length]=l,this.length++;else if(n!==this)for(;v<n.length;v++)this.words[v]=n.words[v];return this},i.prototype.add=function(t){var r;return t.negative!==0&&this.negative===0?(t.negative=0,r=this.sub(t),t.negative^=1,r):t.negative===0&&this.negative!==0?(this.negative=0,r=t.sub(this),this.negative=1,r):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var r=this.iadd(t);return t.negative=1,r._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n=this.cmp(t);if(n===0)return this.negative=0,this.length=1,this.words[0]=0,this;var a,l;n>0?(a=this,l=t):(a=t,l=this);for(var v=0,b=0;b<l.length;b++)r=(a.words[b]|0)-(l.words[b]|0)+v,v=r>>26,this.words[b]=r&67108863;for(;v!==0&&b<a.length;b++)r=(a.words[b]|0)+v,v=r>>26,this.words[b]=r&67108863;if(v===0&&b<a.length&&a!==this)for(;b<a.length;b++)this.words[b]=a.words[b];return this.length=Math.max(this.length,b),a!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(t){return this.clone().isub(t)};function S(d,t,r){r.negative=t.negative^d.negative;var n=d.length+t.length|0;r.length=n,n=n-1|0;var a=d.words[0]|0,l=t.words[0]|0,v=a*l,b=v&67108863,u=v/67108864|0;r.words[0]=b;for(var e=1;e<n;e++){for(var c=u>>>26,q=u&67108863,N=Math.min(e,t.length-1),L=Math.max(0,e-d.length+1);L<=N;L++){var $=e-L|0;a=d.words[$]|0,l=t.words[L]|0,v=a*l+q,c+=v/67108864|0,q=v&67108863}r.words[e]=q|0,u=c|0}return u!==0?r.words[e]=u|0:r.length--,r.strip()}var R=function(t,r,n){var a=t.words,l=r.words,v=n.words,b=0,u,e,c,q=a[0]|0,N=q&8191,L=q>>>13,$=a[1]|0,V=$&8191,z=$>>>13,G=a[2]|0,U=G&8191,A=G>>>13,j=a[3]|0,Z=j&8191,W=j>>>13,Dt=a[4]|0,at=Dt&8191,nt=Dt>>>13,Ft=a[5]|0,lt=Ft&8191,ut=Ft>>>13,kt=a[6]|0,st=kt&8191,it=kt>>>13,Ct=a[7]|0,et=Ct&8191,tt=Ct>>>13,qt=a[8]|0,X=qt&8191,rt=qt>>>13,Lt=a[9]|0,Q=Lt&8191,ot=Lt>>>13,Ut=l[0]|0,ft=Ut&8191,ht=Ut>>>13,zt=l[1]|0,Et=zt&8191,St=zt>>>13,ae=l[2]|0,xt=ae&8191,At=ae>>>13,Ee=l[3]|0,It=Ee&8191,dt=Ee>>>13,Gt=l[4]|0,pt=Gt&8191,vt=Gt>>>13,Wt=l[5]|0,ct=Wt&8191,bt=Wt>>>13,Yt=l[6]|0,yt=Yt&8191,wt=Yt>>>13,Jt=l[7]|0,gt=Jt&8191,mt=Jt>>>13,$t=l[8]|0,Mt=$t&8191,_t=$t>>>13,Re=l[9]|0,Rt=Re&8191,Bt=Re>>>13;n.negative=t.negative^r.negative,n.length=19,u=Math.imul(N,ft),e=Math.imul(N,ht),e=e+Math.imul(L,ft)|0,c=Math.imul(L,ht);var Xt=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,u=Math.imul(V,ft),e=Math.imul(V,ht),e=e+Math.imul(z,ft)|0,c=Math.imul(z,ht),u=u+Math.imul(N,Et)|0,e=e+Math.imul(N,St)|0,e=e+Math.imul(L,Et)|0,c=c+Math.imul(L,St)|0;var fe=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(fe>>>26)|0,fe&=67108863,u=Math.imul(U,ft),e=Math.imul(U,ht),e=e+Math.imul(A,ft)|0,c=Math.imul(A,ht),u=u+Math.imul(V,Et)|0,e=e+Math.imul(V,St)|0,e=e+Math.imul(z,Et)|0,c=c+Math.imul(z,St)|0,u=u+Math.imul(N,xt)|0,e=e+Math.imul(N,At)|0,e=e+Math.imul(L,xt)|0,c=c+Math.imul(L,At)|0;var he=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(he>>>26)|0,he&=67108863,u=Math.imul(Z,ft),e=Math.imul(Z,ht),e=e+Math.imul(W,ft)|0,c=Math.imul(W,ht),u=u+Math.imul(U,Et)|0,e=e+Math.imul(U,St)|0,e=e+Math.imul(A,Et)|0,c=c+Math.imul(A,St)|0,u=u+Math.imul(V,xt)|0,e=e+Math.imul(V,At)|0,e=e+Math.imul(z,xt)|0,c=c+Math.imul(z,At)|0,u=u+Math.imul(N,It)|0,e=e+Math.imul(N,dt)|0,e=e+Math.imul(L,It)|0,c=c+Math.imul(L,dt)|0;var ue=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ue>>>26)|0,ue&=67108863,u=Math.imul(at,ft),e=Math.imul(at,ht),e=e+Math.imul(nt,ft)|0,c=Math.imul(nt,ht),u=u+Math.imul(Z,Et)|0,e=e+Math.imul(Z,St)|0,e=e+Math.imul(W,Et)|0,c=c+Math.imul(W,St)|0,u=u+Math.imul(U,xt)|0,e=e+Math.imul(U,At)|0,e=e+Math.imul(A,xt)|0,c=c+Math.imul(A,At)|0,u=u+Math.imul(V,It)|0,e=e+Math.imul(V,dt)|0,e=e+Math.imul(z,It)|0,c=c+Math.imul(z,dt)|0,u=u+Math.imul(N,pt)|0,e=e+Math.imul(N,vt)|0,e=e+Math.imul(L,pt)|0,c=c+Math.imul(L,vt)|0;var ce=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ce>>>26)|0,ce&=67108863,u=Math.imul(lt,ft),e=Math.imul(lt,ht),e=e+Math.imul(ut,ft)|0,c=Math.imul(ut,ht),u=u+Math.imul(at,Et)|0,e=e+Math.imul(at,St)|0,e=e+Math.imul(nt,Et)|0,c=c+Math.imul(nt,St)|0,u=u+Math.imul(Z,xt)|0,e=e+Math.imul(Z,At)|0,e=e+Math.imul(W,xt)|0,c=c+Math.imul(W,At)|0,u=u+Math.imul(U,It)|0,e=e+Math.imul(U,dt)|0,e=e+Math.imul(A,It)|0,c=c+Math.imul(A,dt)|0,u=u+Math.imul(V,pt)|0,e=e+Math.imul(V,vt)|0,e=e+Math.imul(z,pt)|0,c=c+Math.imul(z,vt)|0,u=u+Math.imul(N,ct)|0,e=e+Math.imul(N,bt)|0,e=e+Math.imul(L,ct)|0,c=c+Math.imul(L,bt)|0;var le=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(le>>>26)|0,le&=67108863,u=Math.imul(st,ft),e=Math.imul(st,ht),e=e+Math.imul(it,ft)|0,c=Math.imul(it,ht),u=u+Math.imul(lt,Et)|0,e=e+Math.imul(lt,St)|0,e=e+Math.imul(ut,Et)|0,c=c+Math.imul(ut,St)|0,u=u+Math.imul(at,xt)|0,e=e+Math.imul(at,At)|0,e=e+Math.imul(nt,xt)|0,c=c+Math.imul(nt,At)|0,u=u+Math.imul(Z,It)|0,e=e+Math.imul(Z,dt)|0,e=e+Math.imul(W,It)|0,c=c+Math.imul(W,dt)|0,u=u+Math.imul(U,pt)|0,e=e+Math.imul(U,vt)|0,e=e+Math.imul(A,pt)|0,c=c+Math.imul(A,vt)|0,u=u+Math.imul(V,ct)|0,e=e+Math.imul(V,bt)|0,e=e+Math.imul(z,ct)|0,c=c+Math.imul(z,bt)|0,u=u+Math.imul(N,yt)|0,e=e+Math.imul(N,wt)|0,e=e+Math.imul(L,yt)|0,c=c+Math.imul(L,wt)|0;var ee=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ee>>>26)|0,ee&=67108863,u=Math.imul(et,ft),e=Math.imul(et,ht),e=e+Math.imul(tt,ft)|0,c=Math.imul(tt,ht),u=u+Math.imul(st,Et)|0,e=e+Math.imul(st,St)|0,e=e+Math.imul(it,Et)|0,c=c+Math.imul(it,St)|0,u=u+Math.imul(lt,xt)|0,e=e+Math.imul(lt,At)|0,e=e+Math.imul(ut,xt)|0,c=c+Math.imul(ut,At)|0,u=u+Math.imul(at,It)|0,e=e+Math.imul(at,dt)|0,e=e+Math.imul(nt,It)|0,c=c+Math.imul(nt,dt)|0,u=u+Math.imul(Z,pt)|0,e=e+Math.imul(Z,vt)|0,e=e+Math.imul(W,pt)|0,c=c+Math.imul(W,vt)|0,u=u+Math.imul(U,ct)|0,e=e+Math.imul(U,bt)|0,e=e+Math.imul(A,ct)|0,c=c+Math.imul(A,bt)|0,u=u+Math.imul(V,yt)|0,e=e+Math.imul(V,wt)|0,e=e+Math.imul(z,yt)|0,c=c+Math.imul(z,wt)|0,u=u+Math.imul(N,gt)|0,e=e+Math.imul(N,mt)|0,e=e+Math.imul(L,gt)|0,c=c+Math.imul(L,mt)|0;var de=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(de>>>26)|0,de&=67108863,u=Math.imul(X,ft),e=Math.imul(X,ht),e=e+Math.imul(rt,ft)|0,c=Math.imul(rt,ht),u=u+Math.imul(et,Et)|0,e=e+Math.imul(et,St)|0,e=e+Math.imul(tt,Et)|0,c=c+Math.imul(tt,St)|0,u=u+Math.imul(st,xt)|0,e=e+Math.imul(st,At)|0,e=e+Math.imul(it,xt)|0,c=c+Math.imul(it,At)|0,u=u+Math.imul(lt,It)|0,e=e+Math.imul(lt,dt)|0,e=e+Math.imul(ut,It)|0,c=c+Math.imul(ut,dt)|0,u=u+Math.imul(at,pt)|0,e=e+Math.imul(at,vt)|0,e=e+Math.imul(nt,pt)|0,c=c+Math.imul(nt,vt)|0,u=u+Math.imul(Z,ct)|0,e=e+Math.imul(Z,bt)|0,e=e+Math.imul(W,ct)|0,c=c+Math.imul(W,bt)|0,u=u+Math.imul(U,yt)|0,e=e+Math.imul(U,wt)|0,e=e+Math.imul(A,yt)|0,c=c+Math.imul(A,wt)|0,u=u+Math.imul(V,gt)|0,e=e+Math.imul(V,mt)|0,e=e+Math.imul(z,gt)|0,c=c+Math.imul(z,mt)|0,u=u+Math.imul(N,Mt)|0,e=e+Math.imul(N,_t)|0,e=e+Math.imul(L,Mt)|0,c=c+Math.imul(L,_t)|0;var pe=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(pe>>>26)|0,pe&=67108863,u=Math.imul(Q,ft),e=Math.imul(Q,ht),e=e+Math.imul(ot,ft)|0,c=Math.imul(ot,ht),u=u+Math.imul(X,Et)|0,e=e+Math.imul(X,St)|0,e=e+Math.imul(rt,Et)|0,c=c+Math.imul(rt,St)|0,u=u+Math.imul(et,xt)|0,e=e+Math.imul(et,At)|0,e=e+Math.imul(tt,xt)|0,c=c+Math.imul(tt,At)|0,u=u+Math.imul(st,It)|0,e=e+Math.imul(st,dt)|0,e=e+Math.imul(it,It)|0,c=c+Math.imul(it,dt)|0,u=u+Math.imul(lt,pt)|0,e=e+Math.imul(lt,vt)|0,e=e+Math.imul(ut,pt)|0,c=c+Math.imul(ut,vt)|0,u=u+Math.imul(at,ct)|0,e=e+Math.imul(at,bt)|0,e=e+Math.imul(nt,ct)|0,c=c+Math.imul(nt,bt)|0,u=u+Math.imul(Z,yt)|0,e=e+Math.imul(Z,wt)|0,e=e+Math.imul(W,yt)|0,c=c+Math.imul(W,wt)|0,u=u+Math.imul(U,gt)|0,e=e+Math.imul(U,mt)|0,e=e+Math.imul(A,gt)|0,c=c+Math.imul(A,mt)|0,u=u+Math.imul(V,Mt)|0,e=e+Math.imul(V,_t)|0,e=e+Math.imul(z,Mt)|0,c=c+Math.imul(z,_t)|0,u=u+Math.imul(N,Rt)|0,e=e+Math.imul(N,Bt)|0,e=e+Math.imul(L,Rt)|0,c=c+Math.imul(L,Bt)|0;var ve=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ve>>>26)|0,ve&=67108863,u=Math.imul(Q,Et),e=Math.imul(Q,St),e=e+Math.imul(ot,Et)|0,c=Math.imul(ot,St),u=u+Math.imul(X,xt)|0,e=e+Math.imul(X,At)|0,e=e+Math.imul(rt,xt)|0,c=c+Math.imul(rt,At)|0,u=u+Math.imul(et,It)|0,e=e+Math.imul(et,dt)|0,e=e+Math.imul(tt,It)|0,c=c+Math.imul(tt,dt)|0,u=u+Math.imul(st,pt)|0,e=e+Math.imul(st,vt)|0,e=e+Math.imul(it,pt)|0,c=c+Math.imul(it,vt)|0,u=u+Math.imul(lt,ct)|0,e=e+Math.imul(lt,bt)|0,e=e+Math.imul(ut,ct)|0,c=c+Math.imul(ut,bt)|0,u=u+Math.imul(at,yt)|0,e=e+Math.imul(at,wt)|0,e=e+Math.imul(nt,yt)|0,c=c+Math.imul(nt,wt)|0,u=u+Math.imul(Z,gt)|0,e=e+Math.imul(Z,mt)|0,e=e+Math.imul(W,gt)|0,c=c+Math.imul(W,mt)|0,u=u+Math.imul(U,Mt)|0,e=e+Math.imul(U,_t)|0,e=e+Math.imul(A,Mt)|0,c=c+Math.imul(A,_t)|0,u=u+Math.imul(V,Rt)|0,e=e+Math.imul(V,Bt)|0,e=e+Math.imul(z,Rt)|0,c=c+Math.imul(z,Bt)|0;var me=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(me>>>26)|0,me&=67108863,u=Math.imul(Q,xt),e=Math.imul(Q,At),e=e+Math.imul(ot,xt)|0,c=Math.imul(ot,At),u=u+Math.imul(X,It)|0,e=e+Math.imul(X,dt)|0,e=e+Math.imul(rt,It)|0,c=c+Math.imul(rt,dt)|0,u=u+Math.imul(et,pt)|0,e=e+Math.imul(et,vt)|0,e=e+Math.imul(tt,pt)|0,c=c+Math.imul(tt,vt)|0,u=u+Math.imul(st,ct)|0,e=e+Math.imul(st,bt)|0,e=e+Math.imul(it,ct)|0,c=c+Math.imul(it,bt)|0,u=u+Math.imul(lt,yt)|0,e=e+Math.imul(lt,wt)|0,e=e+Math.imul(ut,yt)|0,c=c+Math.imul(ut,wt)|0,u=u+Math.imul(at,gt)|0,e=e+Math.imul(at,mt)|0,e=e+Math.imul(nt,gt)|0,c=c+Math.imul(nt,mt)|0,u=u+Math.imul(Z,Mt)|0,e=e+Math.imul(Z,_t)|0,e=e+Math.imul(W,Mt)|0,c=c+Math.imul(W,_t)|0,u=u+Math.imul(U,Rt)|0,e=e+Math.imul(U,Bt)|0,e=e+Math.imul(A,Rt)|0,c=c+Math.imul(A,Bt)|0;var ge=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ge>>>26)|0,ge&=67108863,u=Math.imul(Q,It),e=Math.imul(Q,dt),e=e+Math.imul(ot,It)|0,c=Math.imul(ot,dt),u=u+Math.imul(X,pt)|0,e=e+Math.imul(X,vt)|0,e=e+Math.imul(rt,pt)|0,c=c+Math.imul(rt,vt)|0,u=u+Math.imul(et,ct)|0,e=e+Math.imul(et,bt)|0,e=e+Math.imul(tt,ct)|0,c=c+Math.imul(tt,bt)|0,u=u+Math.imul(st,yt)|0,e=e+Math.imul(st,wt)|0,e=e+Math.imul(it,yt)|0,c=c+Math.imul(it,wt)|0,u=u+Math.imul(lt,gt)|0,e=e+Math.imul(lt,mt)|0,e=e+Math.imul(ut,gt)|0,c=c+Math.imul(ut,mt)|0,u=u+Math.imul(at,Mt)|0,e=e+Math.imul(at,_t)|0,e=e+Math.imul(nt,Mt)|0,c=c+Math.imul(nt,_t)|0,u=u+Math.imul(Z,Rt)|0,e=e+Math.imul(Z,Bt)|0,e=e+Math.imul(W,Rt)|0,c=c+Math.imul(W,Bt)|0;var ie=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ie>>>26)|0,ie&=67108863,u=Math.imul(Q,pt),e=Math.imul(Q,vt),e=e+Math.imul(ot,pt)|0,c=Math.imul(ot,vt),u=u+Math.imul(X,ct)|0,e=e+Math.imul(X,bt)|0,e=e+Math.imul(rt,ct)|0,c=c+Math.imul(rt,bt)|0,u=u+Math.imul(et,yt)|0,e=e+Math.imul(et,wt)|0,e=e+Math.imul(tt,yt)|0,c=c+Math.imul(tt,wt)|0,u=u+Math.imul(st,gt)|0,e=e+Math.imul(st,mt)|0,e=e+Math.imul(it,gt)|0,c=c+Math.imul(it,mt)|0,u=u+Math.imul(lt,Mt)|0,e=e+Math.imul(lt,_t)|0,e=e+Math.imul(ut,Mt)|0,c=c+Math.imul(ut,_t)|0,u=u+Math.imul(at,Rt)|0,e=e+Math.imul(at,Bt)|0,e=e+Math.imul(nt,Rt)|0,c=c+Math.imul(nt,Bt)|0;var be=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(be>>>26)|0,be&=67108863,u=Math.imul(Q,ct),e=Math.imul(Q,bt),e=e+Math.imul(ot,ct)|0,c=Math.imul(ot,bt),u=u+Math.imul(X,yt)|0,e=e+Math.imul(X,wt)|0,e=e+Math.imul(rt,yt)|0,c=c+Math.imul(rt,wt)|0,u=u+Math.imul(et,gt)|0,e=e+Math.imul(et,mt)|0,e=e+Math.imul(tt,gt)|0,c=c+Math.imul(tt,mt)|0,u=u+Math.imul(st,Mt)|0,e=e+Math.imul(st,_t)|0,e=e+Math.imul(it,Mt)|0,c=c+Math.imul(it,_t)|0,u=u+Math.imul(lt,Rt)|0,e=e+Math.imul(lt,Bt)|0,e=e+Math.imul(ut,Rt)|0,c=c+Math.imul(ut,Bt)|0;var ye=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(ye>>>26)|0,ye&=67108863,u=Math.imul(Q,yt),e=Math.imul(Q,wt),e=e+Math.imul(ot,yt)|0,c=Math.imul(ot,wt),u=u+Math.imul(X,gt)|0,e=e+Math.imul(X,mt)|0,e=e+Math.imul(rt,gt)|0,c=c+Math.imul(rt,mt)|0,u=u+Math.imul(et,Mt)|0,e=e+Math.imul(et,_t)|0,e=e+Math.imul(tt,Mt)|0,c=c+Math.imul(tt,_t)|0,u=u+Math.imul(st,Rt)|0,e=e+Math.imul(st,Bt)|0,e=e+Math.imul(it,Rt)|0,c=c+Math.imul(it,Bt)|0;var te=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(te>>>26)|0,te&=67108863,u=Math.imul(Q,gt),e=Math.imul(Q,mt),e=e+Math.imul(ot,gt)|0,c=Math.imul(ot,mt),u=u+Math.imul(X,Mt)|0,e=e+Math.imul(X,_t)|0,e=e+Math.imul(rt,Mt)|0,c=c+Math.imul(rt,_t)|0,u=u+Math.imul(et,Rt)|0,e=e+Math.imul(et,Bt)|0,e=e+Math.imul(tt,Rt)|0,c=c+Math.imul(tt,Bt)|0;var we=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(we>>>26)|0,we&=67108863,u=Math.imul(Q,Mt),e=Math.imul(Q,_t),e=e+Math.imul(ot,Mt)|0,c=Math.imul(ot,_t),u=u+Math.imul(X,Rt)|0,e=e+Math.imul(X,Bt)|0,e=e+Math.imul(rt,Rt)|0,c=c+Math.imul(rt,Bt)|0;var Me=(b+u|0)+((e&8191)<<13)|0;b=(c+(e>>>13)|0)+(Me>>>26)|0,Me&=67108863,u=Math.imul(Q,Rt),e=Math.imul(Q,Bt),e=e+Math.imul(ot,Rt)|0,c=Math.imul(ot,Bt);var _e=(b+u|0)+((e&8191)<<13)|0;return b=(c+(e>>>13)|0)+(_e>>>26)|0,_e&=67108863,v[0]=Xt,v[1]=fe,v[2]=he,v[3]=ue,v[4]=ce,v[5]=le,v[6]=ee,v[7]=de,v[8]=pe,v[9]=ve,v[10]=me,v[11]=ge,v[12]=ie,v[13]=be,v[14]=ye,v[15]=te,v[16]=we,v[17]=Me,v[18]=_e,b!==0&&(v[19]=b,n.length++),n};Math.imul||(R=S);function P(d,t,r){r.negative=t.negative^d.negative,r.length=d.length+t.length;for(var n=0,a=0,l=0;l<r.length-1;l++){var v=a;a=0;for(var b=n&67108863,u=Math.min(l,t.length-1),e=Math.max(0,l-d.length+1);e<=u;e++){var c=l-e,q=d.words[c]|0,N=t.words[e]|0,L=q*N,$=L&67108863;v=v+(L/67108864|0)|0,$=$+b|0,b=$&67108863,v=v+($>>>26)|0,a+=v>>>26,v&=67108863}r.words[l]=b,n=v,v=a}return n!==0?r.words[l]=n:r.length--,r.strip()}function O(d,t,r){var n=new B;return n.mulp(d,t,r)}i.prototype.mulTo=function(t,r){var n,a=this.length+t.length;return this.length===10&&t.length===10?n=R(this,t,r):a<63?n=S(this,t,r):a<1024?n=P(this,t,r):n=O(this,t,r),n};function B(d,t){this.x=d,this.y=t}B.prototype.makeRBT=function(t){for(var r=new Array(t),n=i.prototype._countBits(t)-1,a=0;a<t;a++)r[a]=this.revBin(a,n,t);return r},B.prototype.revBin=function(t,r,n){if(t===0||t===n-1)return t;for(var a=0,l=0;l<r;l++)a|=(t&1)<<r-l-1,t>>=1;return a},B.prototype.permute=function(t,r,n,a,l,v){for(var b=0;b<v;b++)a[b]=r[t[b]],l[b]=n[t[b]]},B.prototype.transform=function(t,r,n,a,l,v){this.permute(v,t,r,n,a,l);for(var b=1;b<l;b<<=1)for(var u=b<<1,e=Math.cos(2*Math.PI/u),c=Math.sin(2*Math.PI/u),q=0;q<l;q+=u)for(var N=e,L=c,$=0;$<b;$++){var V=n[q+$],z=a[q+$],G=n[q+$+b],U=a[q+$+b],A=N*G-L*U;U=N*U+L*G,G=A,n[q+$]=V+G,a[q+$]=z+U,n[q+$+b]=V-G,a[q+$+b]=z-U,$!==u&&(A=e*N-c*L,L=e*L+c*N,N=A)}},B.prototype.guessLen13b=function(t,r){var n=Math.max(r,t)|1,a=n&1,l=0;for(n=n/2|0;n;n=n>>>1)l++;return 1<<l+1+a},B.prototype.conjugate=function(t,r,n){if(!(n<=1))for(var a=0;a<n/2;a++){var l=t[a];t[a]=t[n-a-1],t[n-a-1]=l,l=r[a],r[a]=-r[n-a-1],r[n-a-1]=-l}},B.prototype.normalize13b=function(t,r){for(var n=0,a=0;a<r/2;a++){var l=Math.round(t[2*a+1]/r)*8192+Math.round(t[2*a]/r)+n;t[a]=l&67108863,l<67108864?n=0:n=l/67108864|0}return t},B.prototype.convert13b=function(t,r,n,a){for(var l=0,v=0;v<r;v++)l=l+(t[v]|0),n[2*v]=l&8191,l=l>>>13,n[2*v+1]=l&8191,l=l>>>13;for(v=2*r;v<a;++v)n[v]=0;o(l===0),o((l&-8192)===0)},B.prototype.stub=function(t){for(var r=new Array(t),n=0;n<t;n++)r[n]=0;return r},B.prototype.mulp=function(t,r,n){var a=2*this.guessLen13b(t.length,r.length),l=this.makeRBT(a),v=this.stub(a),b=new Array(a),u=new Array(a),e=new Array(a),c=new Array(a),q=new Array(a),N=new Array(a),L=n.words;L.length=a,this.convert13b(t.words,t.length,b,a),this.convert13b(r.words,r.length,c,a),this.transform(b,v,u,e,a,l),this.transform(c,v,q,N,a,l);for(var $=0;$<a;$++){var V=u[$]*q[$]-e[$]*N[$];e[$]=u[$]*N[$]+e[$]*q[$],u[$]=V}return this.conjugate(u,e,a),this.transform(u,e,L,v,a,l),this.conjugate(L,v,a),this.normalize13b(L,a),n.negative=t.negative^r.negative,n.length=t.length+r.length,n.strip()},i.prototype.mul=function(t){var r=new i(null);return r.words=new Array(this.length+t.length),this.mulTo(t,r)},i.prototype.mulf=function(t){var r=new i(null);return r.words=new Array(this.length+t.length),O(this,t,r)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){o(typeof t=="number"),o(t<67108864);for(var r=0,n=0;n<this.length;n++){var a=(this.words[n]|0)*t,l=(a&67108863)+(r&67108863);r>>=26,r+=a/67108864|0,r+=l>>>26,this.words[n]=l&67108863}return r!==0&&(this.words[n]=r,this.length++),this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var r=E(t);if(r.length===0)return new i(1);for(var n=this,a=0;a<r.length&&r[a]===0;a++,n=n.sqr());if(++a<r.length)for(var l=n.sqr();a<r.length;a++,l=l.sqr())r[a]!==0&&(n=n.mul(l));return n},i.prototype.iushln=function(t){o(typeof t=="number"&&t>=0);var r=t%26,n=(t-r)/26,a=67108863>>>26-r<<26-r,l;if(r!==0){var v=0;for(l=0;l<this.length;l++){var b=this.words[l]&a,u=(this.words[l]|0)-b<<r;this.words[l]=u|v,v=b>>>26-r}v&&(this.words[l]=v,this.length++)}if(n!==0){for(l=this.length-1;l>=0;l--)this.words[l+n]=this.words[l];for(l=0;l<n;l++)this.words[l]=0;this.length+=n}return this.strip()},i.prototype.ishln=function(t){return o(this.negative===0),this.iushln(t)},i.prototype.iushrn=function(t,r,n){o(typeof t=="number"&&t>=0);var a;r?a=(r-r%26)/26:a=0;var l=t%26,v=Math.min((t-l)/26,this.length),b=67108863^67108863>>>l<<l,u=n;if(a-=v,a=Math.max(0,a),u){for(var e=0;e<v;e++)u.words[e]=this.words[e];u.length=v}if(v!==0)if(this.length>v)for(this.length-=v,e=0;e<this.length;e++)this.words[e]=this.words[e+v];else this.words[0]=0,this.length=1;var c=0;for(e=this.length-1;e>=0&&(c!==0||e>=a);e--){var q=this.words[e]|0;this.words[e]=c<<26-l|q>>>l,c=q&b}return u&&c!==0&&(u.words[u.length++]=c),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(t,r,n){return o(this.negative===0),this.iushrn(t,r,n)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){o(typeof t=="number"&&t>=0);var r=t%26,n=(t-r)/26,a=1<<r;if(this.length<=n)return!1;var l=this.words[n];return!!(l&a)},i.prototype.imaskn=function(t){o(typeof t=="number"&&t>=0);var r=t%26,n=(t-r)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=n)return this;if(r!==0&&n++,this.length=Math.min(n,this.length),r!==0){var a=67108863^67108863>>>r<<r;this.words[this.length-1]&=a}return this.strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return o(typeof t=="number"),o(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var r=0;r<this.length&&this.words[r]>=67108864;r++)this.words[r]-=67108864,r===this.length-1?this.words[r+1]=1:this.words[r+1]++;return this.length=Math.max(this.length,r+1),this},i.prototype.isubn=function(t){if(o(typeof t=="number"),o(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var r=0;r<this.length&&this.words[r]<0;r++)this.words[r]+=67108864,this.words[r+1]-=1;return this.strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,r,n){var a=t.length+n,l;this._expand(a);var v,b=0;for(l=0;l<t.length;l++){v=(this.words[l+n]|0)+b;var u=(t.words[l]|0)*r;v-=u&67108863,b=(v>>26)-(u/67108864|0),this.words[l+n]=v&67108863}for(;l<this.length-n;l++)v=(this.words[l+n]|0)+b,b=v>>26,this.words[l+n]=v&67108863;if(b===0)return this.strip();for(o(b===-1),b=0,l=0;l<this.length;l++)v=-(this.words[l]|0)+b,b=v>>26,this.words[l]=v&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(t,r){var n=this.length-t.length,a=this.clone(),l=t,v=l.words[l.length-1]|0,b=this._countBits(v);n=26-b,n!==0&&(l=l.ushln(n),a.iushln(n),v=l.words[l.length-1]|0);var u=a.length-l.length,e;if(r!=="mod"){e=new i(null),e.length=u+1,e.words=new Array(e.length);for(var c=0;c<e.length;c++)e.words[c]=0}var q=a.clone()._ishlnsubmul(l,1,u);q.negative===0&&(a=q,e&&(e.words[u]=1));for(var N=u-1;N>=0;N--){var L=(a.words[l.length+N]|0)*67108864+(a.words[l.length+N-1]|0);for(L=Math.min(L/v|0,67108863),a._ishlnsubmul(l,L,N);a.negative!==0;)L--,a.negative=0,a._ishlnsubmul(l,1,N),a.isZero()||(a.negative^=1);e&&(e.words[N]=L)}return e&&e.strip(),a.strip(),r!=="div"&&n!==0&&a.iushrn(n),{div:e||null,mod:a}},i.prototype.divmod=function(t,r,n){if(o(!t.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var a,l,v;return this.negative!==0&&t.negative===0?(v=this.neg().divmod(t,r),r!=="mod"&&(a=v.div.neg()),r!=="div"&&(l=v.mod.neg(),n&&l.negative!==0&&l.iadd(t)),{div:a,mod:l}):this.negative===0&&t.negative!==0?(v=this.divmod(t.neg(),r),r!=="mod"&&(a=v.div.neg()),{div:a,mod:v.mod}):(this.negative&t.negative)!==0?(v=this.neg().divmod(t.neg(),r),r!=="div"&&(l=v.mod.neg(),n&&l.negative!==0&&l.isub(t)),{div:v.div,mod:l}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:t.length===1?r==="div"?{div:this.divn(t.words[0]),mod:null}:r==="mod"?{div:null,mod:new i(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modn(t.words[0]))}:this._wordDiv(t,r)},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var r=this.divmod(t);if(r.mod.isZero())return r.div;var n=r.div.negative!==0?r.mod.isub(t):r.mod,a=t.ushrn(1),l=t.andln(1),v=n.cmp(a);return v<0||l===1&&v===0?r.div:r.div.negative!==0?r.div.isubn(1):r.div.iaddn(1)},i.prototype.modn=function(t){o(t<=67108863);for(var r=(1<<26)%t,n=0,a=this.length-1;a>=0;a--)n=(r*n+(this.words[a]|0))%t;return n},i.prototype.idivn=function(t){o(t<=67108863);for(var r=0,n=this.length-1;n>=0;n--){var a=(this.words[n]|0)+r*67108864;this.words[n]=a/t|0,r=a%t}return this.strip()},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){o(t.negative===0),o(!t.isZero());var r=this,n=t.clone();r.negative!==0?r=r.umod(t):r=r.clone();for(var a=new i(1),l=new i(0),v=new i(0),b=new i(1),u=0;r.isEven()&&n.isEven();)r.iushrn(1),n.iushrn(1),++u;for(var e=n.clone(),c=r.clone();!r.isZero();){for(var q=0,N=1;(r.words[0]&N)===0&&q<26;++q,N<<=1);if(q>0)for(r.iushrn(q);q-- >0;)(a.isOdd()||l.isOdd())&&(a.iadd(e),l.isub(c)),a.iushrn(1),l.iushrn(1);for(var L=0,$=1;(n.words[0]&$)===0&&L<26;++L,$<<=1);if(L>0)for(n.iushrn(L);L-- >0;)(v.isOdd()||b.isOdd())&&(v.iadd(e),b.isub(c)),v.iushrn(1),b.iushrn(1);r.cmp(n)>=0?(r.isub(n),a.isub(v),l.isub(b)):(n.isub(r),v.isub(a),b.isub(l))}return{a:v,b,gcd:n.iushln(u)}},i.prototype._invmp=function(t){o(t.negative===0),o(!t.isZero());var r=this,n=t.clone();r.negative!==0?r=r.umod(t):r=r.clone();for(var a=new i(1),l=new i(0),v=n.clone();r.cmpn(1)>0&&n.cmpn(1)>0;){for(var b=0,u=1;(r.words[0]&u)===0&&b<26;++b,u<<=1);if(b>0)for(r.iushrn(b);b-- >0;)a.isOdd()&&a.iadd(v),a.iushrn(1);for(var e=0,c=1;(n.words[0]&c)===0&&e<26;++e,c<<=1);if(e>0)for(n.iushrn(e);e-- >0;)l.isOdd()&&l.iadd(v),l.iushrn(1);r.cmp(n)>=0?(r.isub(n),a.isub(l)):(n.isub(r),l.isub(a))}var q;return r.cmpn(1)===0?q=a:q=l,q.cmpn(0)<0&&q.iadd(t),q},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var r=this.clone(),n=t.clone();r.negative=0,n.negative=0;for(var a=0;r.isEven()&&n.isEven();a++)r.iushrn(1),n.iushrn(1);do{for(;r.isEven();)r.iushrn(1);for(;n.isEven();)n.iushrn(1);var l=r.cmp(n);if(l<0){var v=r;r=n,n=v}else if(l===0||n.cmpn(1)===0)break;r.isub(n)}while(!0);return n.iushln(a)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){o(typeof t=="number");var r=t%26,n=(t-r)/26,a=1<<r;if(this.length<=n)return this._expand(n+1),this.words[n]|=a,this;for(var l=a,v=n;l!==0&&v<this.length;v++){var b=this.words[v]|0;b+=l,l=b>>>26,b&=67108863,this.words[v]=b}return l!==0&&(this.words[v]=l,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(t){var r=t<0;if(this.negative!==0&&!r)return-1;if(this.negative===0&&r)return 1;this.strip();var n;if(this.length>1)n=1;else{r&&(t=-t),o(t<=67108863,"Number is too big");var a=this.words[0]|0;n=a===t?0:a<t?-1:1}return this.negative!==0?-n|0:n},i.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var r=this.ucmp(t);return this.negative!==0?-r|0:r},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var r=0,n=this.length-1;n>=0;n--){var a=this.words[n]|0,l=t.words[n]|0;if(a!==l){a<l?r=-1:a>l&&(r=1);break}}return r},i.prototype.gtn=function(t){return this.cmpn(t)===1},i.prototype.gt=function(t){return this.cmp(t)===1},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return this.cmpn(t)===-1},i.prototype.lt=function(t){return this.cmp(t)===-1},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return this.cmpn(t)===0},i.prototype.eq=function(t){return this.cmp(t)===0},i.red=function(t){return new K(t)},i.prototype.toRed=function(t){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return o(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return o(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var C={k256:null,p224:null,p192:null,p25519:null};function T(d,t){this.name=d,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}T.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},T.prototype.ireduce=function(t){var r=t,n;do this.split(r,this.tmp),r=this.imulK(r),r=r.iadd(this.tmp),n=r.bitLength();while(n>this.n);var a=n<this.n?-1:r.ucmp(this.p);return a===0?(r.words[0]=0,r.length=1):a>0?r.isub(this.p):r.strip!==void 0?r.strip():r._strip(),r},T.prototype.split=function(t,r){t.iushrn(this.n,0,r)},T.prototype.imulK=function(t){return t.imul(this.k)};function F(){T.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}p(F,T),F.prototype.split=function(t,r){for(var n=4194303,a=Math.min(t.length,9),l=0;l<a;l++)r.words[l]=t.words[l];if(r.length=a,t.length<=9){t.words[0]=0,t.length=1;return}var v=t.words[9];for(r.words[r.length++]=v&n,l=10;l<t.length;l++){var b=t.words[l]|0;t.words[l-10]=(b&n)<<4|v>>>22,v=b}v>>>=22,t.words[l-10]=v,v===0&&t.length>10?t.length-=10:t.length-=9},F.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var r=0,n=0;n<t.length;n++){var a=t.words[n]|0;r+=a*977,t.words[n]=r&67108863,r=a*64+(r/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function D(){T.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}p(D,T);function I(){T.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}p(I,T);function k(){T.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}p(k,T),k.prototype.imulK=function(t){for(var r=0,n=0;n<t.length;n++){var a=(t.words[n]|0)*19+r,l=a&67108863;a>>>=26,t.words[n]=l,r=a}return r!==0&&(t.words[t.length++]=r),t},i._prime=function(t){if(C[t])return C[t];var r;if(t==="k256")r=new F;else if(t==="p224")r=new D;else if(t==="p192")r=new I;else if(t==="p25519")r=new k;else throw new Error("Unknown prime "+t);return C[t]=r,r};function K(d){if(typeof d=="string"){var t=i._prime(d);this.m=t.p,this.prime=t}else o(d.gtn(1),"modulus must be greater than 1"),this.m=d,this.prime=null}K.prototype._verify1=function(t){o(t.negative===0,"red works only with positives"),o(t.red,"red works only with red numbers")},K.prototype._verify2=function(t,r){o((t.negative|r.negative)===0,"red works only with positives"),o(t.red&&t.red===r.red,"red works only with red numbers")},K.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},K.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},K.prototype.add=function(t,r){this._verify2(t,r);var n=t.add(r);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},K.prototype.iadd=function(t,r){this._verify2(t,r);var n=t.iadd(r);return n.cmp(this.m)>=0&&n.isub(this.m),n},K.prototype.sub=function(t,r){this._verify2(t,r);var n=t.sub(r);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},K.prototype.isub=function(t,r){this._verify2(t,r);var n=t.isub(r);return n.cmpn(0)<0&&n.iadd(this.m),n},K.prototype.shl=function(t,r){return this._verify1(t),this.imod(t.ushln(r))},K.prototype.imul=function(t,r){return this._verify2(t,r),this.imod(t.imul(r))},K.prototype.mul=function(t,r){return this._verify2(t,r),this.imod(t.mul(r))},K.prototype.isqr=function(t){return this.imul(t,t.clone())},K.prototype.sqr=function(t){return this.mul(t,t)},K.prototype.sqrt=function(t){if(t.isZero())return t.clone();var r=this.m.andln(3);if(o(r%2===1),r===3){var n=this.m.add(new i(1)).iushrn(2);return this.pow(t,n)}for(var a=this.m.subn(1),l=0;!a.isZero()&&a.andln(1)===0;)l++,a.iushrn(1);o(!a.isZero());var v=new i(1).toRed(this),b=v.redNeg(),u=this.m.subn(1).iushrn(1),e=this.m.bitLength();for(e=new i(2*e*e).toRed(this);this.pow(e,u).cmp(b)!==0;)e.redIAdd(b);for(var c=this.pow(e,a),q=this.pow(t,a.addn(1).iushrn(1)),N=this.pow(t,a),L=l;N.cmp(v)!==0;){for(var $=N,V=0;$.cmp(v)!==0;V++)$=$.redSqr();o(V<L);var z=this.pow(c,new i(1).iushln(L-V-1));q=q.redMul(z),c=z.redSqr(),N=N.redMul(c),L=V}return q},K.prototype.invm=function(t){var r=t._invmp(this.m);return r.negative!==0?(r.negative=0,this.imod(r).redNeg()):this.imod(r)},K.prototype.pow=function(t,r){if(r.isZero())return new i(1).toRed(this);if(r.cmpn(1)===0)return t.clone();var n=4,a=new Array(1<<n);a[0]=new i(1).toRed(this),a[1]=t;for(var l=2;l<a.length;l++)a[l]=this.mul(a[l-1],t);var v=a[0],b=0,u=0,e=r.bitLength()%26;for(e===0&&(e=26),l=r.length-1;l>=0;l--){for(var c=r.words[l],q=e-1;q>=0;q--){var N=c>>q&1;if(v!==a[0]&&(v=this.sqr(v)),N===0&&b===0){u=0;continue}b<<=1,b|=N,u++,!(u!==n&&(l!==0||q!==0))&&(v=this.mul(v,a[b]),u=0,b=0)}e=26}return v},K.prototype.convertTo=function(t){var r=t.umod(this.m);return r===t?r.clone():r},K.prototype.convertFrom=function(t){var r=t.clone();return r.red=null,r},i.mont=function(t){return new Y(t)};function Y(d){K.call(this,d),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}p(Y,K),Y.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},Y.prototype.convertFrom=function(t){var r=this.imod(t.mul(this.rinv));return r.red=null,r},Y.prototype.imul=function(t,r){if(t.isZero()||r.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(r),a=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=n.isub(a).iushrn(this.shift),v=l;return l.cmp(this.m)>=0?v=l.isub(this.m):l.cmpn(0)<0&&(v=l.iadd(this.m)),v._forceRed(this)},Y.prototype.mul=function(t,r){if(t.isZero()||r.isZero())return new i(0)._forceRed(this);var n=t.mul(r),a=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=n.isub(a).iushrn(this.shift),v=l;return l.cmp(this.m)>=0?v=l.isub(this.m):l.cmpn(0)<0&&(v=l.iadd(this.m)),v._forceRed(this)},Y.prototype.invm=function(t){var r=this.imod(t._invmp(this.m).mul(this.r2));return r._forceRed(this)}})(f,Zt)}(ca)),ca.exports}var la,jh;function Tu(){if(jh)return la;jh=1;var f=eo(),s=re.exports.Buffer;function h(o,p){return s.from(o.toRed(f.mont(p.modulus)).redPow(new f(p.publicExponent)).fromRed().toArray())}return la=h,la}var da,Vh;function hp(){if(Vh)return da;Vh=1;var f=En(),s=ri(),h=Ti,o=Bu(),p=Pu(),i=eo(),M=Tu(),w=Za(),y=re.exports.Buffer;da=function(E,S,R){var P;E.padding?P=E.padding:R?P=1:P=4;var O=f(E),B;if(P===4)B=g(O,S);else if(P===1)B=m(O,S,R);else if(P===3){if(B=new i(S),B.cmp(O.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return R?w(B,O):M(B,O)};function g(x,E){var S=x.modulus.byteLength(),R=E.length,P=h("sha1").update(y.alloc(0)).digest(),O=P.length,B=2*O;if(R>S-B-2)throw new Error("message too long");var C=y.alloc(S-R-B-2),T=S-O-1,F=s(O),D=p(y.concat([P,C,y.alloc(1,1),E],T),o(F,T)),I=p(F,o(D,O));return new i(y.concat([y.alloc(1),I,D],S))}function m(x,E,S){var R=E.length,P=x.modulus.byteLength();if(R>P-11)throw new Error("message too long");var O;return S?O=y.alloc(P-R-3,255):O=_(P-R-3),new i(y.concat([y.from([0,S?1:2]),O,y.alloc(1),E],P))}function _(x){for(var E=y.allocUnsafe(x),S=0,R=s(x*2),P=0,O;S<x;)P===R.length&&(R=s(x*2),P=0),O=R[P++],O&&(E[S++]=O);return E}return da}var pa,Gh;function up(){if(Gh)return pa;Gh=1;var f=En(),s=Bu(),h=Pu(),o=eo(),p=Za(),i=Ti,M=Tu(),w=re.exports.Buffer;pa=function(x,E,S){var R;x.padding?R=x.padding:S?R=1:R=4;var P=f(x),O=P.modulus.byteLength();if(E.length>O||new o(E).cmp(P.modulus)>=0)throw new Error("decryption error");var B;S?B=M(new o(E),P):B=p(E,P);var C=w.alloc(O-B.length);if(B=w.concat([C,B],O),R===4)return y(P,B);if(R===1)return g(P,B,S);if(R===3)return B;throw new Error("unknown padding")};function y(_,x){var E=_.modulus.byteLength(),S=i("sha1").update(w.alloc(0)).digest(),R=S.length;if(x[0]!==0)throw new Error("decryption error");var P=x.slice(1,R+1),O=x.slice(R+1),B=h(P,s(O,R)),C=h(O,s(B,E-R-1));if(m(S,C.slice(0,R)))throw new Error("decryption error");for(var T=R;C[T]===0;)T++;if(C[T++]!==1)throw new Error("decryption error");return C.slice(T)}function g(_,x,E){for(var S=x.slice(0,2),R=2,P=0;x[R++]!==0;)if(R>=x.length){P++;break}var O=x.slice(2,R-1);if((S.toString("hex")!=="0002"&&!E||S.toString("hex")!=="0001"&&E)&&P++,O.length<8&&P++,P)throw new Error("decryption error");return x.slice(R)}function m(_,x){_=w.from(_),x=w.from(x);var E=0,S=_.length;_.length!==x.length&&(E++,S=Math.min(_.length,x.length));for(var R=-1;++R<S;)E+=_[R]^x[R];return E}return pa}var Zh;function cp(){return Zh||(Zh=1,function(f){f.publicEncrypt=hp(),f.privateDecrypt=up(),f.privateEncrypt=function(h,o){return f.publicEncrypt(h,o,!0)},f.publicDecrypt=function(h,o){return f.privateDecrypt(h,o,!0)}}(fa)),fa}var Wr={},Wh;function lp(){if(Wh)return Wr;Wh=1;function f(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var s=re.exports,h=ri(),o=s.Buffer,p=s.kMaxLength,i=Zt.crypto||Zt.msCrypto,M=Math.pow(2,32)-1;function w(x,E){if(typeof x!="number"||x!==x)throw new TypeError("offset must be a number");if(x>M||x<0)throw new TypeError("offset must be a uint32");if(x>p||x>E)throw new RangeError("offset out of range")}function y(x,E,S){if(typeof x!="number"||x!==x)throw new TypeError("size must be a number");if(x>M||x<0)throw new TypeError("size must be a uint32");if(x+E>S||x>p)throw new RangeError("buffer too small")}i&&i.getRandomValues||!or.exports.browser?(Wr.randomFill=g,Wr.randomFillSync=_):(Wr.randomFill=f,Wr.randomFillSync=f);function g(x,E,S,R){if(!o.isBuffer(x)&&!(x instanceof Zt.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof E=="function")R=E,E=0,S=x.length;else if(typeof S=="function")R=S,S=x.length-E;else if(typeof R!="function")throw new TypeError('"cb" argument must be a function');return w(E,x.length),y(S,E,x.length),m(x,E,S,R)}function m(x,E,S,R){if(or.exports.browser){var P=x.buffer,O=new Uint8Array(P,E,S);if(i.getRandomValues(O),R){or.exports.nextTick(function(){R(null,x)});return}return x}if(R){h(S,function(C,T){if(C)return R(C);T.copy(x,E),R(null,x)});return}var B=h(S);return B.copy(x,E),x}function _(x,E,S){if(typeof E>"u"&&(E=0),!o.isBuffer(x)&&!(x instanceof Zt.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return w(E,x.length),S===void 0&&(S=x.length-E),y(S,E,x.length),m(x,E,S)}return Wr}var Yh;function Nu(){if(Yh)return jt;Yh=1,jt.randomBytes=jt.rng=jt.pseudoRandomBytes=jt.prng=ri(),jt.createHash=jt.Hash=Ti,jt.createHmac=jt.Hmac=nu();var f=jd(),s=Object.keys(f),h=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(s);jt.getHashes=function(){return h};var o=uu();jt.pbkdf2=o.pbkdf2,jt.pbkdf2Sync=o.pbkdf2Sync;var p=u1();jt.Cipher=p.Cipher,jt.createCipher=p.createCipher,jt.Cipheriv=p.Cipheriv,jt.createCipheriv=p.createCipheriv,jt.Decipher=p.Decipher,jt.createDecipher=p.createDecipher,jt.Decipheriv=p.Decipheriv,jt.createDecipheriv=p.createDecipheriv,jt.getCiphers=p.getCiphers,jt.listCiphers=p.listCiphers;var i=_1();jt.DiffieHellmanGroup=i.DiffieHellmanGroup,jt.createDiffieHellmanGroup=i.createDiffieHellmanGroup,jt.getDiffieHellman=i.getDiffieHellman,jt.createDiffieHellman=i.createDiffieHellman,jt.DiffieHellman=i.DiffieHellman;var M=ap();jt.createSign=M.createSign,jt.Sign=M.Sign,jt.createVerify=M.createVerify,jt.Verify=M.Verify,jt.createECDH=fp();var w=cp();jt.publicEncrypt=w.publicEncrypt,jt.privateEncrypt=w.privateEncrypt,jt.publicDecrypt=w.publicDecrypt,jt.privateDecrypt=w.privateDecrypt;var y=lp();return jt.randomFill=y.randomFill,jt.randomFillSync=y.randomFillSync,jt.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},jt.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},jt}Object.defineProperty(mn,"__esModule",{value:!0});mn.NodeRandomSource=void 0;const dp=tr;class pp{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof md<"u"){const s=Nu();s&&s.randomBytes&&(this._crypto=s,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(s){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let h=this._crypto.randomBytes(s);if(h.length!==s)throw new Error("NodeRandomSource: got fewer bytes than requested");const o=new Uint8Array(s);for(let p=0;p<o.length;p++)o[p]=h[p];return(0,dp.wipe)(h),o}}mn.NodeRandomSource=pp;Object.defineProperty(pn,"__esModule",{value:!0});pn.SystemRandomSource=void 0;const vp=vn,mp=mn;class gp{constructor(){if(this.isAvailable=!1,this.name="",this._source=new vp.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new mp.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(s){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(s)}}pn.SystemRandomSource=gp;var Kt={},Ou={};(function(f){Object.defineProperty(f,"__esModule",{value:!0});function s(w,y){var g=w>>>16&65535,m=w&65535,_=y>>>16&65535,x=y&65535;return m*x+(g*x+m*_<<16>>>0)|0}f.mul=Math.imul||s;function h(w,y){return w+y|0}f.add=h;function o(w,y){return w-y|0}f.sub=o;function p(w,y){return w<<y|w>>>32-y}f.rotl=p;function i(w,y){return w<<32-y|w>>>y}f.rotr=i;function M(w){return typeof w=="number"&&isFinite(w)&&Math.floor(w)===w}f.isInteger=Number.isInteger||M,f.MAX_SAFE_INTEGER=9007199254740991,f.isSafeInteger=function(w){return f.isInteger(w)&&w>=-f.MAX_SAFE_INTEGER&&w<=f.MAX_SAFE_INTEGER}})(Ou);Object.defineProperty(Kt,"__esModule",{value:!0});var qu=Ou;function bp(f,s){return s===void 0&&(s=0),(f[s+0]<<8|f[s+1])<<16>>16}Kt.readInt16BE=bp;function yp(f,s){return s===void 0&&(s=0),(f[s+0]<<8|f[s+1])>>>0}Kt.readUint16BE=yp;function wp(f,s){return s===void 0&&(s=0),(f[s+1]<<8|f[s])<<16>>16}Kt.readInt16LE=wp;function Mp(f,s){return s===void 0&&(s=0),(f[s+1]<<8|f[s])>>>0}Kt.readUint16LE=Mp;function Cu(f,s,h){return s===void 0&&(s=new Uint8Array(2)),h===void 0&&(h=0),s[h+0]=f>>>8,s[h+1]=f>>>0,s}Kt.writeUint16BE=Cu;Kt.writeInt16BE=Cu;function Du(f,s,h){return s===void 0&&(s=new Uint8Array(2)),h===void 0&&(h=0),s[h+0]=f>>>0,s[h+1]=f>>>8,s}Kt.writeUint16LE=Du;Kt.writeInt16LE=Du;function xa(f,s){return s===void 0&&(s=0),f[s]<<24|f[s+1]<<16|f[s+2]<<8|f[s+3]}Kt.readInt32BE=xa;function Ea(f,s){return s===void 0&&(s=0),(f[s]<<24|f[s+1]<<16|f[s+2]<<8|f[s+3])>>>0}Kt.readUint32BE=Ea;function Sa(f,s){return s===void 0&&(s=0),f[s+3]<<24|f[s+2]<<16|f[s+1]<<8|f[s]}Kt.readInt32LE=Sa;function Aa(f,s){return s===void 0&&(s=0),(f[s+3]<<24|f[s+2]<<16|f[s+1]<<8|f[s])>>>0}Kt.readUint32LE=Aa;function fn(f,s,h){return s===void 0&&(s=new Uint8Array(4)),h===void 0&&(h=0),s[h+0]=f>>>24,s[h+1]=f>>>16,s[h+2]=f>>>8,s[h+3]=f>>>0,s}Kt.writeUint32BE=fn;Kt.writeInt32BE=fn;function hn(f,s,h){return s===void 0&&(s=new Uint8Array(4)),h===void 0&&(h=0),s[h+0]=f>>>0,s[h+1]=f>>>8,s[h+2]=f>>>16,s[h+3]=f>>>24,s}Kt.writeUint32LE=hn;Kt.writeInt32LE=hn;function _p(f,s){s===void 0&&(s=0);var h=xa(f,s),o=xa(f,s+4);return h*4294967296+o-(o>>31)*4294967296}Kt.readInt64BE=_p;function xp(f,s){s===void 0&&(s=0);var h=Ea(f,s),o=Ea(f,s+4);return h*4294967296+o}Kt.readUint64BE=xp;function Ep(f,s){s===void 0&&(s=0);var h=Sa(f,s),o=Sa(f,s+4);return o*4294967296+h-(h>>31)*4294967296}Kt.readInt64LE=Ep;function Sp(f,s){s===void 0&&(s=0);var h=Aa(f,s),o=Aa(f,s+4);return o*4294967296+h}Kt.readUint64LE=Sp;function Lu(f,s,h){return s===void 0&&(s=new Uint8Array(8)),h===void 0&&(h=0),fn(f/4294967296>>>0,s,h),fn(f>>>0,s,h+4),s}Kt.writeUint64BE=Lu;Kt.writeInt64BE=Lu;function ku(f,s,h){return s===void 0&&(s=new Uint8Array(8)),h===void 0&&(h=0),hn(f>>>0,s,h),hn(f/4294967296>>>0,s,h+4),s}Kt.writeUint64LE=ku;Kt.writeInt64LE=ku;function Ap(f,s,h){if(h===void 0&&(h=0),f%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(f/8>s.length-h)throw new Error("readUintBE: array is too short for the given bitLength");for(var o=0,p=1,i=f/8+h-1;i>=h;i--)o+=s[i]*p,p*=256;return o}Kt.readUintBE=Ap;function Ip(f,s,h){if(h===void 0&&(h=0),f%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(f/8>s.length-h)throw new Error("readUintLE: array is too short for the given bitLength");for(var o=0,p=1,i=h;i<h+f/8;i++)o+=s[i]*p,p*=256;return o}Kt.readUintLE=Ip;function Rp(f,s,h,o){if(h===void 0&&(h=new Uint8Array(f/8)),o===void 0&&(o=0),f%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!qu.isSafeInteger(s))throw new Error("writeUintBE value must be an integer");for(var p=1,i=f/8+o-1;i>=o;i--)h[i]=s/p&255,p*=256;return h}Kt.writeUintBE=Rp;function Bp(f,s,h,o){if(h===void 0&&(h=new Uint8Array(f/8)),o===void 0&&(o=0),f%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!qu.isSafeInteger(s))throw new Error("writeUintLE value must be an integer");for(var p=1,i=o;i<o+f/8;i++)h[i]=s/p&255,p*=256;return h}Kt.writeUintLE=Bp;function Pp(f,s){s===void 0&&(s=0);var h=new DataView(f.buffer,f.byteOffset,f.byteLength);return h.getFloat32(s)}Kt.readFloat32BE=Pp;function Tp(f,s){s===void 0&&(s=0);var h=new DataView(f.buffer,f.byteOffset,f.byteLength);return h.getFloat32(s,!0)}Kt.readFloat32LE=Tp;function Np(f,s){s===void 0&&(s=0);var h=new DataView(f.buffer,f.byteOffset,f.byteLength);return h.getFloat64(s)}Kt.readFloat64BE=Np;function Op(f,s){s===void 0&&(s=0);var h=new DataView(f.buffer,f.byteOffset,f.byteLength);return h.getFloat64(s,!0)}Kt.readFloat64LE=Op;function qp(f,s,h){s===void 0&&(s=new Uint8Array(4)),h===void 0&&(h=0);var o=new DataView(s.buffer,s.byteOffset,s.byteLength);return o.setFloat32(h,f),s}Kt.writeFloat32BE=qp;function Cp(f,s,h){s===void 0&&(s=new Uint8Array(4)),h===void 0&&(h=0);var o=new DataView(s.buffer,s.byteOffset,s.byteLength);return o.setFloat32(h,f,!0),s}Kt.writeFloat32LE=Cp;function Dp(f,s,h){s===void 0&&(s=new Uint8Array(8)),h===void 0&&(h=0);var o=new DataView(s.buffer,s.byteOffset,s.byteLength);return o.setFloat64(h,f),s}Kt.writeFloat64BE=Dp;function Lp(f,s,h){s===void 0&&(s=new Uint8Array(8)),h===void 0&&(h=0);var o=new DataView(s.buffer,s.byteOffset,s.byteLength);return o.setFloat64(h,f,!0),s}Kt.writeFloat64LE=Lp;(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.randomStringForEntropy=f.randomString=f.randomUint32=f.randomBytes=f.defaultRandomSource=void 0;const s=pn,h=Kt,o=tr;f.defaultRandomSource=new s.SystemRandomSource;function p(g,m=f.defaultRandomSource){return m.randomBytes(g)}f.randomBytes=p;function i(g=f.defaultRandomSource){const m=p(4,g),_=(0,h.readUint32LE)(m);return(0,o.wipe)(m),_}f.randomUint32=i;const M="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function w(g,m=M,_=f.defaultRandomSource){if(m.length<2)throw new Error("randomString charset is too short");if(m.length>256)throw new Error("randomString charset is too long");let x="";const E=m.length,S=256-256%E;for(;g>0;){const R=p(Math.ceil(g*256/S),_);for(let P=0;P<R.length&&g>0;P++){const O=R[P];O<S&&(x+=m.charAt(O%E),g--)}(0,o.wipe)(R)}return x}f.randomString=w;function y(g,m=M,_=f.defaultRandomSource){const x=Math.ceil(g/(Math.log(m.length)/Math.LN2));return w(x,m,_)}f.randomStringForEntropy=y})(ei);var Uu={};(function(f){Object.defineProperty(f,"__esModule",{value:!0});var s=Kt,h=tr;f.DIGEST_LENGTH=64,f.BLOCK_SIZE=128;var o=function(){function w(){this.digestLength=f.DIGEST_LENGTH,this.blockSize=f.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return w.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},w.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},w.prototype.clean=function(){h.wipe(this._buffer),h.wipe(this._tempHi),h.wipe(this._tempLo),this.reset()},w.prototype.update=function(y,g){if(g===void 0&&(g=y.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var m=0;if(this._bytesHashed+=g,this._bufferLength>0){for(;this._bufferLength<f.BLOCK_SIZE&&g>0;)this._buffer[this._bufferLength++]=y[m++],g--;this._bufferLength===this.blockSize&&(i(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(g>=this.blockSize&&(m=i(this._tempHi,this._tempLo,this._stateHi,this._stateLo,y,m,g),g%=this.blockSize);g>0;)this._buffer[this._bufferLength++]=y[m++],g--;return this},w.prototype.finish=function(y){if(!this._finished){var g=this._bytesHashed,m=this._bufferLength,_=g/536870912|0,x=g<<3,E=g%128<112?128:256;this._buffer[m]=128;for(var S=m+1;S<E-8;S++)this._buffer[S]=0;s.writeUint32BE(_,this._buffer,E-8),s.writeUint32BE(x,this._buffer,E-4),i(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,E),this._finished=!0}for(var S=0;S<this.digestLength/8;S++)s.writeUint32BE(this._stateHi[S],y,S*8),s.writeUint32BE(this._stateLo[S],y,S*8+4);return this},w.prototype.digest=function(){var y=new Uint8Array(this.digestLength);return this.finish(y),y},w.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},w.prototype.restoreState=function(y){return this._stateHi.set(y.stateHi),this._stateLo.set(y.stateLo),this._bufferLength=y.bufferLength,y.buffer&&this._buffer.set(y.buffer),this._bytesHashed=y.bytesHashed,this._finished=!1,this},w.prototype.cleanSavedState=function(y){h.wipe(y.stateHi),h.wipe(y.stateLo),y.buffer&&h.wipe(y.buffer),y.bufferLength=0,y.bytesHashed=0},w}();f.SHA512=o;var p=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function i(w,y,g,m,_,x,E){for(var S=g[0],R=g[1],P=g[2],O=g[3],B=g[4],C=g[5],T=g[6],F=g[7],D=m[0],I=m[1],k=m[2],K=m[3],Y=m[4],d=m[5],t=m[6],r=m[7],n,a,l,v,b,u,e,c;E>=128;){for(var q=0;q<16;q++){var N=8*q+x;w[q]=s.readUint32BE(_,N),y[q]=s.readUint32BE(_,N+4)}for(var q=0;q<80;q++){var L=S,$=R,V=P,z=O,G=B,U=C,A=T,j=F,Z=D,W=I,Dt=k,at=K,nt=Y,Ft=d,lt=t,ut=r;if(n=F,a=r,b=a&65535,u=a>>>16,e=n&65535,c=n>>>16,n=(B>>>14|Y<<32-14)^(B>>>18|Y<<32-18)^(Y>>>41-32|B<<32-(41-32)),a=(Y>>>14|B<<32-14)^(Y>>>18|B<<32-18)^(B>>>41-32|Y<<32-(41-32)),b+=a&65535,u+=a>>>16,e+=n&65535,c+=n>>>16,n=B&C^~B&T,a=Y&d^~Y&t,b+=a&65535,u+=a>>>16,e+=n&65535,c+=n>>>16,n=p[q*2],a=p[q*2+1],b+=a&65535,u+=a>>>16,e+=n&65535,c+=n>>>16,n=w[q%16],a=y[q%16],b+=a&65535,u+=a>>>16,e+=n&65535,c+=n>>>16,u+=b>>>16,e+=u>>>16,c+=e>>>16,l=e&65535|c<<16,v=b&65535|u<<16,n=l,a=v,b=a&65535,u=a>>>16,e=n&65535,c=n>>>16,n=(S>>>28|D<<32-28)^(D>>>34-32|S<<32-(34-32))^(D>>>39-32|S<<32-(39-32)),a=(D>>>28|S<<32-28)^(S>>>34-32|D<<32-(34-32))^(S>>>39-32|D<<32-(39-32)),b+=a&65535,u+=a>>>16,e+=n&65535,c+=n>>>16,n=S&R^S&P^R&P,a=D&I^D&k^I&k,b+=a&65535,u+=a>>>16,e+=n&65535,c+=n>>>16,u+=b>>>16,e+=u>>>16,c+=e>>>16,j=e&65535|c<<16,ut=b&65535|u<<16,n=z,a=at,b=a&65535,u=a>>>16,e=n&65535,c=n>>>16,n=l,a=v,b+=a&65535,u+=a>>>16,e+=n&65535,c+=n>>>16,u+=b>>>16,e+=u>>>16,c+=e>>>16,z=e&65535|c<<16,at=b&65535|u<<16,R=L,P=$,O=V,B=z,C=G,T=U,F=A,S=j,I=Z,k=W,K=Dt,Y=at,d=nt,t=Ft,r=lt,D=ut,q%16===15)for(var N=0;N<16;N++)n=w[N],a=y[N],b=a&65535,u=a>>>16,e=n&65535,c=n>>>16,n=w[(N+9)%16],a=y[(N+9)%16],b+=a&65535,u+=a>>>16,e+=n&65535,c+=n>>>16,l=w[(N+1)%16],v=y[(N+1)%16],n=(l>>>1|v<<32-1)^(l>>>8|v<<32-8)^l>>>7,a=(v>>>1|l<<32-1)^(v>>>8|l<<32-8)^(v>>>7|l<<32-7),b+=a&65535,u+=a>>>16,e+=n&65535,c+=n>>>16,l=w[(N+14)%16],v=y[(N+14)%16],n=(l>>>19|v<<32-19)^(v>>>61-32|l<<32-(61-32))^l>>>6,a=(v>>>19|l<<32-19)^(l>>>61-32|v<<32-(61-32))^(v>>>6|l<<32-6),b+=a&65535,u+=a>>>16,e+=n&65535,c+=n>>>16,u+=b>>>16,e+=u>>>16,c+=e>>>16,w[N]=e&65535|c<<16,y[N]=b&65535|u<<16}n=S,a=D,b=a&65535,u=a>>>16,e=n&65535,c=n>>>16,n=g[0],a=m[0],b+=a&65535,u+=a>>>16,e+=n&65535,c+=n>>>16,u+=b>>>16,e+=u>>>16,c+=e>>>16,g[0]=S=e&65535|c<<16,m[0]=D=b&65535|u<<16,n=R,a=I,b=a&65535,u=a>>>16,e=n&65535,c=n>>>16,n=g[1],a=m[1],b+=a&65535,u+=a>>>16,e+=n&65535,c+=n>>>16,u+=b>>>16,e+=u>>>16,c+=e>>>16,g[1]=R=e&65535|c<<16,m[1]=I=b&65535|u<<16,n=P,a=k,b=a&65535,u=a>>>16,e=n&65535,c=n>>>16,n=g[2],a=m[2],b+=a&65535,u+=a>>>16,e+=n&65535,c+=n>>>16,u+=b>>>16,e+=u>>>16,c+=e>>>16,g[2]=P=e&65535|c<<16,m[2]=k=b&65535|u<<16,n=O,a=K,b=a&65535,u=a>>>16,e=n&65535,c=n>>>16,n=g[3],a=m[3],b+=a&65535,u+=a>>>16,e+=n&65535,c+=n>>>16,u+=b>>>16,e+=u>>>16,c+=e>>>16,g[3]=O=e&65535|c<<16,m[3]=K=b&65535|u<<16,n=B,a=Y,b=a&65535,u=a>>>16,e=n&65535,c=n>>>16,n=g[4],a=m[4],b+=a&65535,u+=a>>>16,e+=n&65535,c+=n>>>16,u+=b>>>16,e+=u>>>16,c+=e>>>16,g[4]=B=e&65535|c<<16,m[4]=Y=b&65535|u<<16,n=C,a=d,b=a&65535,u=a>>>16,e=n&65535,c=n>>>16,n=g[5],a=m[5],b+=a&65535,u+=a>>>16,e+=n&65535,c+=n>>>16,u+=b>>>16,e+=u>>>16,c+=e>>>16,g[5]=C=e&65535|c<<16,m[5]=d=b&65535|u<<16,n=T,a=t,b=a&65535,u=a>>>16,e=n&65535,c=n>>>16,n=g[6],a=m[6],b+=a&65535,u+=a>>>16,e+=n&65535,c+=n>>>16,u+=b>>>16,e+=u>>>16,c+=e>>>16,g[6]=T=e&65535|c<<16,m[6]=t=b&65535|u<<16,n=F,a=r,b=a&65535,u=a>>>16,e=n&65535,c=n>>>16,n=g[7],a=m[7],b+=a&65535,u+=a>>>16,e+=n&65535,c+=n>>>16,u+=b>>>16,e+=u>>>16,c+=e>>>16,g[7]=F=e&65535|c<<16,m[7]=r=b&65535|u<<16,x+=128,E-=128}return x}function M(w){var y=new o;y.update(w);var g=y.digest();return y.clean(),g}f.hash=M})(Uu);(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.convertSecretKeyToX25519=f.convertPublicKeyToX25519=f.verify=f.sign=f.extractPublicKeyFromSecretKey=f.generateKeyPair=f.generateKeyPairFromSeed=f.SEED_LENGTH=f.SECRET_KEY_LENGTH=f.PUBLIC_KEY_LENGTH=f.SIGNATURE_LENGTH=void 0;const s=ei,h=Uu,o=tr;f.SIGNATURE_LENGTH=64,f.PUBLIC_KEY_LENGTH=32,f.SECRET_KEY_LENGTH=64,f.SEED_LENGTH=32;function p(z){const G=new Float64Array(16);if(z)for(let U=0;U<z.length;U++)G[U]=z[U];return G}const i=new Uint8Array(32);i[0]=9;const M=p(),w=p([1]),y=p([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),g=p([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),m=p([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),_=p([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),x=p([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function E(z,G){for(let U=0;U<16;U++)z[U]=G[U]|0}function S(z){let G=1;for(let U=0;U<16;U++){let A=z[U]+G+65535;G=Math.floor(A/65536),z[U]=A-G*65536}z[0]+=G-1+37*(G-1)}function R(z,G,U){const A=~(U-1);for(let j=0;j<16;j++){const Z=A&(z[j]^G[j]);z[j]^=Z,G[j]^=Z}}function P(z,G){const U=p(),A=p();for(let j=0;j<16;j++)A[j]=G[j];S(A),S(A),S(A);for(let j=0;j<2;j++){U[0]=A[0]-65517;for(let W=1;W<15;W++)U[W]=A[W]-65535-(U[W-1]>>16&1),U[W-1]&=65535;U[15]=A[15]-32767-(U[14]>>16&1);const Z=U[15]>>16&1;U[14]&=65535,R(A,U,1-Z)}for(let j=0;j<16;j++)z[2*j]=A[j]&255,z[2*j+1]=A[j]>>8}function O(z,G){let U=0;for(let A=0;A<32;A++)U|=z[A]^G[A];return(1&U-1>>>8)-1}function B(z,G){const U=new Uint8Array(32),A=new Uint8Array(32);return P(U,z),P(A,G),O(U,A)}function C(z){const G=new Uint8Array(32);return P(G,z),G[0]&1}function T(z,G){for(let U=0;U<16;U++)z[U]=G[2*U]+(G[2*U+1]<<8);z[15]&=32767}function F(z,G,U){for(let A=0;A<16;A++)z[A]=G[A]+U[A]}function D(z,G,U){for(let A=0;A<16;A++)z[A]=G[A]-U[A]}function I(z,G,U){let A,j,Z=0,W=0,Dt=0,at=0,nt=0,Ft=0,lt=0,ut=0,kt=0,st=0,it=0,Ct=0,et=0,tt=0,qt=0,X=0,rt=0,Lt=0,Q=0,ot=0,Ut=0,ft=0,ht=0,zt=0,Et=0,St=0,ae=0,xt=0,At=0,Ee=0,It=0,dt=U[0],Gt=U[1],pt=U[2],vt=U[3],Wt=U[4],ct=U[5],bt=U[6],Yt=U[7],yt=U[8],wt=U[9],Jt=U[10],gt=U[11],mt=U[12],$t=U[13],Mt=U[14],_t=U[15];A=G[0],Z+=A*dt,W+=A*Gt,Dt+=A*pt,at+=A*vt,nt+=A*Wt,Ft+=A*ct,lt+=A*bt,ut+=A*Yt,kt+=A*yt,st+=A*wt,it+=A*Jt,Ct+=A*gt,et+=A*mt,tt+=A*$t,qt+=A*Mt,X+=A*_t,A=G[1],W+=A*dt,Dt+=A*Gt,at+=A*pt,nt+=A*vt,Ft+=A*Wt,lt+=A*ct,ut+=A*bt,kt+=A*Yt,st+=A*yt,it+=A*wt,Ct+=A*Jt,et+=A*gt,tt+=A*mt,qt+=A*$t,X+=A*Mt,rt+=A*_t,A=G[2],Dt+=A*dt,at+=A*Gt,nt+=A*pt,Ft+=A*vt,lt+=A*Wt,ut+=A*ct,kt+=A*bt,st+=A*Yt,it+=A*yt,Ct+=A*wt,et+=A*Jt,tt+=A*gt,qt+=A*mt,X+=A*$t,rt+=A*Mt,Lt+=A*_t,A=G[3],at+=A*dt,nt+=A*Gt,Ft+=A*pt,lt+=A*vt,ut+=A*Wt,kt+=A*ct,st+=A*bt,it+=A*Yt,Ct+=A*yt,et+=A*wt,tt+=A*Jt,qt+=A*gt,X+=A*mt,rt+=A*$t,Lt+=A*Mt,Q+=A*_t,A=G[4],nt+=A*dt,Ft+=A*Gt,lt+=A*pt,ut+=A*vt,kt+=A*Wt,st+=A*ct,it+=A*bt,Ct+=A*Yt,et+=A*yt,tt+=A*wt,qt+=A*Jt,X+=A*gt,rt+=A*mt,Lt+=A*$t,Q+=A*Mt,ot+=A*_t,A=G[5],Ft+=A*dt,lt+=A*Gt,ut+=A*pt,kt+=A*vt,st+=A*Wt,it+=A*ct,Ct+=A*bt,et+=A*Yt,tt+=A*yt,qt+=A*wt,X+=A*Jt,rt+=A*gt,Lt+=A*mt,Q+=A*$t,ot+=A*Mt,Ut+=A*_t,A=G[6],lt+=A*dt,ut+=A*Gt,kt+=A*pt,st+=A*vt,it+=A*Wt,Ct+=A*ct,et+=A*bt,tt+=A*Yt,qt+=A*yt,X+=A*wt,rt+=A*Jt,Lt+=A*gt,Q+=A*mt,ot+=A*$t,Ut+=A*Mt,ft+=A*_t,A=G[7],ut+=A*dt,kt+=A*Gt,st+=A*pt,it+=A*vt,Ct+=A*Wt,et+=A*ct,tt+=A*bt,qt+=A*Yt,X+=A*yt,rt+=A*wt,Lt+=A*Jt,Q+=A*gt,ot+=A*mt,Ut+=A*$t,ft+=A*Mt,ht+=A*_t,A=G[8],kt+=A*dt,st+=A*Gt,it+=A*pt,Ct+=A*vt,et+=A*Wt,tt+=A*ct,qt+=A*bt,X+=A*Yt,rt+=A*yt,Lt+=A*wt,Q+=A*Jt,ot+=A*gt,Ut+=A*mt,ft+=A*$t,ht+=A*Mt,zt+=A*_t,A=G[9],st+=A*dt,it+=A*Gt,Ct+=A*pt,et+=A*vt,tt+=A*Wt,qt+=A*ct,X+=A*bt,rt+=A*Yt,Lt+=A*yt,Q+=A*wt,ot+=A*Jt,Ut+=A*gt,ft+=A*mt,ht+=A*$t,zt+=A*Mt,Et+=A*_t,A=G[10],it+=A*dt,Ct+=A*Gt,et+=A*pt,tt+=A*vt,qt+=A*Wt,X+=A*ct,rt+=A*bt,Lt+=A*Yt,Q+=A*yt,ot+=A*wt,Ut+=A*Jt,ft+=A*gt,ht+=A*mt,zt+=A*$t,Et+=A*Mt,St+=A*_t,A=G[11],Ct+=A*dt,et+=A*Gt,tt+=A*pt,qt+=A*vt,X+=A*Wt,rt+=A*ct,Lt+=A*bt,Q+=A*Yt,ot+=A*yt,Ut+=A*wt,ft+=A*Jt,ht+=A*gt,zt+=A*mt,Et+=A*$t,St+=A*Mt,ae+=A*_t,A=G[12],et+=A*dt,tt+=A*Gt,qt+=A*pt,X+=A*vt,rt+=A*Wt,Lt+=A*ct,Q+=A*bt,ot+=A*Yt,Ut+=A*yt,ft+=A*wt,ht+=A*Jt,zt+=A*gt,Et+=A*mt,St+=A*$t,ae+=A*Mt,xt+=A*_t,A=G[13],tt+=A*dt,qt+=A*Gt,X+=A*pt,rt+=A*vt,Lt+=A*Wt,Q+=A*ct,ot+=A*bt,Ut+=A*Yt,ft+=A*yt,ht+=A*wt,zt+=A*Jt,Et+=A*gt,St+=A*mt,ae+=A*$t,xt+=A*Mt,At+=A*_t,A=G[14],qt+=A*dt,X+=A*Gt,rt+=A*pt,Lt+=A*vt,Q+=A*Wt,ot+=A*ct,Ut+=A*bt,ft+=A*Yt,ht+=A*yt,zt+=A*wt,Et+=A*Jt,St+=A*gt,ae+=A*mt,xt+=A*$t,At+=A*Mt,Ee+=A*_t,A=G[15],X+=A*dt,rt+=A*Gt,Lt+=A*pt,Q+=A*vt,ot+=A*Wt,Ut+=A*ct,ft+=A*bt,ht+=A*Yt,zt+=A*yt,Et+=A*wt,St+=A*Jt,ae+=A*gt,xt+=A*mt,At+=A*$t,Ee+=A*Mt,It+=A*_t,Z+=38*rt,W+=38*Lt,Dt+=38*Q,at+=38*ot,nt+=38*Ut,Ft+=38*ft,lt+=38*ht,ut+=38*zt,kt+=38*Et,st+=38*St,it+=38*ae,Ct+=38*xt,et+=38*At,tt+=38*Ee,qt+=38*It,j=1,A=Z+j+65535,j=Math.floor(A/65536),Z=A-j*65536,A=W+j+65535,j=Math.floor(A/65536),W=A-j*65536,A=Dt+j+65535,j=Math.floor(A/65536),Dt=A-j*65536,A=at+j+65535,j=Math.floor(A/65536),at=A-j*65536,A=nt+j+65535,j=Math.floor(A/65536),nt=A-j*65536,A=Ft+j+65535,j=Math.floor(A/65536),Ft=A-j*65536,A=lt+j+65535,j=Math.floor(A/65536),lt=A-j*65536,A=ut+j+65535,j=Math.floor(A/65536),ut=A-j*65536,A=kt+j+65535,j=Math.floor(A/65536),kt=A-j*65536,A=st+j+65535,j=Math.floor(A/65536),st=A-j*65536,A=it+j+65535,j=Math.floor(A/65536),it=A-j*65536,A=Ct+j+65535,j=Math.floor(A/65536),Ct=A-j*65536,A=et+j+65535,j=Math.floor(A/65536),et=A-j*65536,A=tt+j+65535,j=Math.floor(A/65536),tt=A-j*65536,A=qt+j+65535,j=Math.floor(A/65536),qt=A-j*65536,A=X+j+65535,j=Math.floor(A/65536),X=A-j*65536,Z+=j-1+37*(j-1),j=1,A=Z+j+65535,j=Math.floor(A/65536),Z=A-j*65536,A=W+j+65535,j=Math.floor(A/65536),W=A-j*65536,A=Dt+j+65535,j=Math.floor(A/65536),Dt=A-j*65536,A=at+j+65535,j=Math.floor(A/65536),at=A-j*65536,A=nt+j+65535,j=Math.floor(A/65536),nt=A-j*65536,A=Ft+j+65535,j=Math.floor(A/65536),Ft=A-j*65536,A=lt+j+65535,j=Math.floor(A/65536),lt=A-j*65536,A=ut+j+65535,j=Math.floor(A/65536),ut=A-j*65536,A=kt+j+65535,j=Math.floor(A/65536),kt=A-j*65536,A=st+j+65535,j=Math.floor(A/65536),st=A-j*65536,A=it+j+65535,j=Math.floor(A/65536),it=A-j*65536,A=Ct+j+65535,j=Math.floor(A/65536),Ct=A-j*65536,A=et+j+65535,j=Math.floor(A/65536),et=A-j*65536,A=tt+j+65535,j=Math.floor(A/65536),tt=A-j*65536,A=qt+j+65535,j=Math.floor(A/65536),qt=A-j*65536,A=X+j+65535,j=Math.floor(A/65536),X=A-j*65536,Z+=j-1+37*(j-1),z[0]=Z,z[1]=W,z[2]=Dt,z[3]=at,z[4]=nt,z[5]=Ft,z[6]=lt,z[7]=ut,z[8]=kt,z[9]=st,z[10]=it,z[11]=Ct,z[12]=et,z[13]=tt,z[14]=qt,z[15]=X}function k(z,G){I(z,G,G)}function K(z,G){const U=p();let A;for(A=0;A<16;A++)U[A]=G[A];for(A=253;A>=0;A--)k(U,U),A!==2&&A!==4&&I(U,U,G);for(A=0;A<16;A++)z[A]=U[A]}function Y(z,G){const U=p();let A;for(A=0;A<16;A++)U[A]=G[A];for(A=250;A>=0;A--)k(U,U),A!==1&&I(U,U,G);for(A=0;A<16;A++)z[A]=U[A]}function d(z,G){const U=p(),A=p(),j=p(),Z=p(),W=p(),Dt=p(),at=p(),nt=p(),Ft=p();D(U,z[1],z[0]),D(Ft,G[1],G[0]),I(U,U,Ft),F(A,z[0],z[1]),F(Ft,G[0],G[1]),I(A,A,Ft),I(j,z[3],G[3]),I(j,j,g),I(Z,z[2],G[2]),F(Z,Z,Z),D(W,A,U),D(Dt,Z,j),F(at,Z,j),F(nt,A,U),I(z[0],W,Dt),I(z[1],nt,at),I(z[2],at,Dt),I(z[3],W,nt)}function t(z,G,U){for(let A=0;A<4;A++)R(z[A],G[A],U)}function r(z,G){const U=p(),A=p(),j=p();K(j,G[2]),I(U,G[0],j),I(A,G[1],j),P(z,A),z[31]^=C(U)<<7}function n(z,G,U){E(z[0],M),E(z[1],w),E(z[2],w),E(z[3],M);for(let A=255;A>=0;--A){const j=U[A/8|0]>>(A&7)&1;t(z,G,j),d(G,z),d(z,z),t(z,G,j)}}function a(z,G){const U=[p(),p(),p(),p()];E(U[0],m),E(U[1],_),E(U[2],w),I(U[3],m,_),n(z,U,G)}function l(z){if(z.length!==f.SEED_LENGTH)throw new Error(`ed25519: seed must be ${f.SEED_LENGTH} bytes`);const G=(0,h.hash)(z);G[0]&=248,G[31]&=127,G[31]|=64;const U=new Uint8Array(32),A=[p(),p(),p(),p()];a(A,G),r(U,A);const j=new Uint8Array(64);return j.set(z),j.set(U,32),{publicKey:U,secretKey:j}}f.generateKeyPairFromSeed=l;function v(z){const G=(0,s.randomBytes)(32,z),U=l(G);return(0,o.wipe)(G),U}f.generateKeyPair=v;function b(z){if(z.length!==f.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${f.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(z.subarray(32))}f.extractPublicKeyFromSecretKey=b;const u=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function e(z,G){let U,A,j,Z;for(A=63;A>=32;--A){for(U=0,j=A-32,Z=A-12;j<Z;++j)G[j]+=U-16*G[A]*u[j-(A-32)],U=Math.floor((G[j]+128)/256),G[j]-=U*256;G[j]+=U,G[A]=0}for(U=0,j=0;j<32;j++)G[j]+=U-(G[31]>>4)*u[j],U=G[j]>>8,G[j]&=255;for(j=0;j<32;j++)G[j]-=U*u[j];for(A=0;A<32;A++)G[A+1]+=G[A]>>8,z[A]=G[A]&255}function c(z){const G=new Float64Array(64);for(let U=0;U<64;U++)G[U]=z[U];for(let U=0;U<64;U++)z[U]=0;e(z,G)}function q(z,G){const U=new Float64Array(64),A=[p(),p(),p(),p()],j=(0,h.hash)(z.subarray(0,32));j[0]&=248,j[31]&=127,j[31]|=64;const Z=new Uint8Array(64);Z.set(j.subarray(32),32);const W=new h.SHA512;W.update(Z.subarray(32)),W.update(G);const Dt=W.digest();W.clean(),c(Dt),a(A,Dt),r(Z,A),W.reset(),W.update(Z.subarray(0,32)),W.update(z.subarray(32)),W.update(G);const at=W.digest();c(at);for(let nt=0;nt<32;nt++)U[nt]=Dt[nt];for(let nt=0;nt<32;nt++)for(let Ft=0;Ft<32;Ft++)U[nt+Ft]+=at[nt]*j[Ft];return e(Z.subarray(32),U),Z}f.sign=q;function N(z,G){const U=p(),A=p(),j=p(),Z=p(),W=p(),Dt=p(),at=p();return E(z[2],w),T(z[1],G),k(j,z[1]),I(Z,j,y),D(j,j,z[2]),F(Z,z[2],Z),k(W,Z),k(Dt,W),I(at,Dt,W),I(U,at,j),I(U,U,Z),Y(U,U),I(U,U,j),I(U,U,Z),I(U,U,Z),I(z[0],U,Z),k(A,z[0]),I(A,A,Z),B(A,j)&&I(z[0],z[0],x),k(A,z[0]),I(A,A,Z),B(A,j)?-1:(C(z[0])===G[31]>>7&&D(z[0],M,z[0]),I(z[3],z[0],z[1]),0)}function L(z,G,U){const A=new Uint8Array(32),j=[p(),p(),p(),p()],Z=[p(),p(),p(),p()];if(U.length!==f.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${f.SIGNATURE_LENGTH} bytes`);if(N(Z,z))return!1;const W=new h.SHA512;W.update(U.subarray(0,32)),W.update(z),W.update(G);const Dt=W.digest();return c(Dt),n(j,Z,Dt),a(Z,U.subarray(32)),d(j,Z),r(A,j),!O(U,A)}f.verify=L;function $(z){let G=[p(),p(),p(),p()];if(N(G,z))throw new Error("Ed25519: invalid public key");let U=p(),A=p(),j=G[1];F(U,w,j),D(A,w,j),K(A,A),I(U,U,A);let Z=new Uint8Array(32);return P(Z,U),Z}f.convertPublicKeyToX25519=$;function V(z){const G=(0,h.hash)(z.subarray(0,32));G[0]&=248,G[31]&=127,G[31]|=64;const U=new Uint8Array(G.subarray(0,32));return(0,o.wipe)(G),U}f.convertSecretKeyToX25519=V})(Fa);const kp="EdDSA",Up="JWT",Fu=".",zu="base64url",Fp="utf8",zp="utf8",$p=":",Kp="did",Hp="key",Jh="base58btc",jp="z",Vp="K36",Gp=32;function un(f){return je(We(Pi(f),Fp),zu)}function $u(f){const s=We(Vp,Jh),h=jp+je(Ma([s,f]),Jh);return[Kp,Hp,h].join($p)}function Zp(f){return je(f,zu)}function Wp(f){return We([un(f.header),un(f.payload)].join(Fu),zp)}function Yp(f){return[un(f.header),un(f.payload),Zp(f.signature)].join(Fu)}function Xh(f=ei.randomBytes(Gp)){return Fa.generateKeyPairFromSeed(f)}async function Jp(f,s,h,o,p=Ot.fromMiliseconds(Date.now())){const i={alg:kp,typ:Up},M=$u(o.publicKey),w=p+h,y={iss:M,sub:f,aud:s,iat:p,exp:w},g=Wp({header:i,payload:y}),m=Fa.sign(o.secretKey,g);return Yp({header:i,payload:y,signature:m})}var ro={},Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});var Fe=Kt,Ia=tr,Xp=20;function Qp(f,s,h){for(var o=1634760805,p=857760878,i=2036477234,M=1797285236,w=h[3]<<24|h[2]<<16|h[1]<<8|h[0],y=h[7]<<24|h[6]<<16|h[5]<<8|h[4],g=h[11]<<24|h[10]<<16|h[9]<<8|h[8],m=h[15]<<24|h[14]<<16|h[13]<<8|h[12],_=h[19]<<24|h[18]<<16|h[17]<<8|h[16],x=h[23]<<24|h[22]<<16|h[21]<<8|h[20],E=h[27]<<24|h[26]<<16|h[25]<<8|h[24],S=h[31]<<24|h[30]<<16|h[29]<<8|h[28],R=s[3]<<24|s[2]<<16|s[1]<<8|s[0],P=s[7]<<24|s[6]<<16|s[5]<<8|s[4],O=s[11]<<24|s[10]<<16|s[9]<<8|s[8],B=s[15]<<24|s[14]<<16|s[13]<<8|s[12],C=o,T=p,F=i,D=M,I=w,k=y,K=g,Y=m,d=_,t=x,r=E,n=S,a=R,l=P,v=O,b=B,u=0;u<Xp;u+=2)C=C+I|0,a^=C,a=a>>>32-16|a<<16,d=d+a|0,I^=d,I=I>>>32-12|I<<12,T=T+k|0,l^=T,l=l>>>32-16|l<<16,t=t+l|0,k^=t,k=k>>>32-12|k<<12,F=F+K|0,v^=F,v=v>>>32-16|v<<16,r=r+v|0,K^=r,K=K>>>32-12|K<<12,D=D+Y|0,b^=D,b=b>>>32-16|b<<16,n=n+b|0,Y^=n,Y=Y>>>32-12|Y<<12,F=F+K|0,v^=F,v=v>>>32-8|v<<8,r=r+v|0,K^=r,K=K>>>32-7|K<<7,D=D+Y|0,b^=D,b=b>>>32-8|b<<8,n=n+b|0,Y^=n,Y=Y>>>32-7|Y<<7,T=T+k|0,l^=T,l=l>>>32-8|l<<8,t=t+l|0,k^=t,k=k>>>32-7|k<<7,C=C+I|0,a^=C,a=a>>>32-8|a<<8,d=d+a|0,I^=d,I=I>>>32-7|I<<7,C=C+k|0,b^=C,b=b>>>32-16|b<<16,r=r+b|0,k^=r,k=k>>>32-12|k<<12,T=T+K|0,a^=T,a=a>>>32-16|a<<16,n=n+a|0,K^=n,K=K>>>32-12|K<<12,F=F+Y|0,l^=F,l=l>>>32-16|l<<16,d=d+l|0,Y^=d,Y=Y>>>32-12|Y<<12,D=D+I|0,v^=D,v=v>>>32-16|v<<16,t=t+v|0,I^=t,I=I>>>32-12|I<<12,F=F+Y|0,l^=F,l=l>>>32-8|l<<8,d=d+l|0,Y^=d,Y=Y>>>32-7|Y<<7,D=D+I|0,v^=D,v=v>>>32-8|v<<8,t=t+v|0,I^=t,I=I>>>32-7|I<<7,T=T+K|0,a^=T,a=a>>>32-8|a<<8,n=n+a|0,K^=n,K=K>>>32-7|K<<7,C=C+k|0,b^=C,b=b>>>32-8|b<<8,r=r+b|0,k^=r,k=k>>>32-7|k<<7;Fe.writeUint32LE(C+o|0,f,0),Fe.writeUint32LE(T+p|0,f,4),Fe.writeUint32LE(F+i|0,f,8),Fe.writeUint32LE(D+M|0,f,12),Fe.writeUint32LE(I+w|0,f,16),Fe.writeUint32LE(k+y|0,f,20),Fe.writeUint32LE(K+g|0,f,24),Fe.writeUint32LE(Y+m|0,f,28),Fe.writeUint32LE(d+_|0,f,32),Fe.writeUint32LE(t+x|0,f,36),Fe.writeUint32LE(r+E|0,f,40),Fe.writeUint32LE(n+S|0,f,44),Fe.writeUint32LE(a+R|0,f,48),Fe.writeUint32LE(l+P|0,f,52),Fe.writeUint32LE(v+O|0,f,56),Fe.writeUint32LE(b+B|0,f,60)}function Ku(f,s,h,o,p){if(p===void 0&&(p=0),f.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(o.length<h.length)throw new Error("ChaCha: destination is shorter than source");var i,M;if(p===0){if(s.length!==8&&s.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");i=new Uint8Array(16),M=i.length-s.length,i.set(s,M)}else{if(s.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");i=s,M=p}for(var w=new Uint8Array(64),y=0;y<h.length;y+=64){Qp(w,i,f);for(var g=y;g<y+64&&g<h.length;g++)o[g]=h[g]^w[g-y];ev(i,0,M)}return Ia.wipe(w),p===0&&Ia.wipe(i),o}Sn.streamXOR=Ku;function tv(f,s,h,o){return o===void 0&&(o=0),Ia.wipe(h),Ku(f,s,h,h,o)}Sn.stream=tv;function ev(f,s,h){for(var o=1;h--;)o=o+(f[s]&255)|0,f[s]=o&255,o>>>=8,s++;if(o>0)throw new Error("ChaCha: counter overflow")}var Hu={},Tr={};Object.defineProperty(Tr,"__esModule",{value:!0});function rv(f,s,h){return~(f-1)&s|f-1&h}Tr.select=rv;function iv(f,s){return(f|0)-(s|0)-1>>>31&1}Tr.lessOrEqual=iv;function ju(f,s){if(f.length!==s.length)return 0;for(var h=0,o=0;o<f.length;o++)h|=f[o]^s[o];return 1&h-1>>>8}Tr.compare=ju;function nv(f,s){return f.length===0||s.length===0?!1:ju(f,s)!==0}Tr.equal=nv;(function(f){Object.defineProperty(f,"__esModule",{value:!0});var s=Tr,h=tr;f.DIGEST_LENGTH=16;var o=function(){function M(w){this.digestLength=f.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var y=w[0]|w[1]<<8;this._r[0]=y&8191;var g=w[2]|w[3]<<8;this._r[1]=(y>>>13|g<<3)&8191;var m=w[4]|w[5]<<8;this._r[2]=(g>>>10|m<<6)&7939;var _=w[6]|w[7]<<8;this._r[3]=(m>>>7|_<<9)&8191;var x=w[8]|w[9]<<8;this._r[4]=(_>>>4|x<<12)&255,this._r[5]=x>>>1&8190;var E=w[10]|w[11]<<8;this._r[6]=(x>>>14|E<<2)&8191;var S=w[12]|w[13]<<8;this._r[7]=(E>>>11|S<<5)&8065;var R=w[14]|w[15]<<8;this._r[8]=(S>>>8|R<<8)&8191,this._r[9]=R>>>5&127,this._pad[0]=w[16]|w[17]<<8,this._pad[1]=w[18]|w[19]<<8,this._pad[2]=w[20]|w[21]<<8,this._pad[3]=w[22]|w[23]<<8,this._pad[4]=w[24]|w[25]<<8,this._pad[5]=w[26]|w[27]<<8,this._pad[6]=w[28]|w[29]<<8,this._pad[7]=w[30]|w[31]<<8}return M.prototype._blocks=function(w,y,g){for(var m=this._fin?0:2048,_=this._h[0],x=this._h[1],E=this._h[2],S=this._h[3],R=this._h[4],P=this._h[5],O=this._h[6],B=this._h[7],C=this._h[8],T=this._h[9],F=this._r[0],D=this._r[1],I=this._r[2],k=this._r[3],K=this._r[4],Y=this._r[5],d=this._r[6],t=this._r[7],r=this._r[8],n=this._r[9];g>=16;){var a=w[y+0]|w[y+1]<<8;_+=a&8191;var l=w[y+2]|w[y+3]<<8;x+=(a>>>13|l<<3)&8191;var v=w[y+4]|w[y+5]<<8;E+=(l>>>10|v<<6)&8191;var b=w[y+6]|w[y+7]<<8;S+=(v>>>7|b<<9)&8191;var u=w[y+8]|w[y+9]<<8;R+=(b>>>4|u<<12)&8191,P+=u>>>1&8191;var e=w[y+10]|w[y+11]<<8;O+=(u>>>14|e<<2)&8191;var c=w[y+12]|w[y+13]<<8;B+=(e>>>11|c<<5)&8191;var q=w[y+14]|w[y+15]<<8;C+=(c>>>8|q<<8)&8191,T+=q>>>5|m;var N=0,L=N;L+=_*F,L+=x*(5*n),L+=E*(5*r),L+=S*(5*t),L+=R*(5*d),N=L>>>13,L&=8191,L+=P*(5*Y),L+=O*(5*K),L+=B*(5*k),L+=C*(5*I),L+=T*(5*D),N+=L>>>13,L&=8191;var $=N;$+=_*D,$+=x*F,$+=E*(5*n),$+=S*(5*r),$+=R*(5*t),N=$>>>13,$&=8191,$+=P*(5*d),$+=O*(5*Y),$+=B*(5*K),$+=C*(5*k),$+=T*(5*I),N+=$>>>13,$&=8191;var V=N;V+=_*I,V+=x*D,V+=E*F,V+=S*(5*n),V+=R*(5*r),N=V>>>13,V&=8191,V+=P*(5*t),V+=O*(5*d),V+=B*(5*Y),V+=C*(5*K),V+=T*(5*k),N+=V>>>13,V&=8191;var z=N;z+=_*k,z+=x*I,z+=E*D,z+=S*F,z+=R*(5*n),N=z>>>13,z&=8191,z+=P*(5*r),z+=O*(5*t),z+=B*(5*d),z+=C*(5*Y),z+=T*(5*K),N+=z>>>13,z&=8191;var G=N;G+=_*K,G+=x*k,G+=E*I,G+=S*D,G+=R*F,N=G>>>13,G&=8191,G+=P*(5*n),G+=O*(5*r),G+=B*(5*t),G+=C*(5*d),G+=T*(5*Y),N+=G>>>13,G&=8191;var U=N;U+=_*Y,U+=x*K,U+=E*k,U+=S*I,U+=R*D,N=U>>>13,U&=8191,U+=P*F,U+=O*(5*n),U+=B*(5*r),U+=C*(5*t),U+=T*(5*d),N+=U>>>13,U&=8191;var A=N;A+=_*d,A+=x*Y,A+=E*K,A+=S*k,A+=R*I,N=A>>>13,A&=8191,A+=P*D,A+=O*F,A+=B*(5*n),A+=C*(5*r),A+=T*(5*t),N+=A>>>13,A&=8191;var j=N;j+=_*t,j+=x*d,j+=E*Y,j+=S*K,j+=R*k,N=j>>>13,j&=8191,j+=P*I,j+=O*D,j+=B*F,j+=C*(5*n),j+=T*(5*r),N+=j>>>13,j&=8191;var Z=N;Z+=_*r,Z+=x*t,Z+=E*d,Z+=S*Y,Z+=R*K,N=Z>>>13,Z&=8191,Z+=P*k,Z+=O*I,Z+=B*D,Z+=C*F,Z+=T*(5*n),N+=Z>>>13,Z&=8191;var W=N;W+=_*n,W+=x*r,W+=E*t,W+=S*d,W+=R*Y,N=W>>>13,W&=8191,W+=P*K,W+=O*k,W+=B*I,W+=C*D,W+=T*F,N+=W>>>13,W&=8191,N=(N<<2)+N|0,N=N+L|0,L=N&8191,N=N>>>13,$+=N,_=L,x=$,E=V,S=z,R=G,P=U,O=A,B=j,C=Z,T=W,y+=16,g-=16}this._h[0]=_,this._h[1]=x,this._h[2]=E,this._h[3]=S,this._h[4]=R,this._h[5]=P,this._h[6]=O,this._h[7]=B,this._h[8]=C,this._h[9]=T},M.prototype.finish=function(w,y){y===void 0&&(y=0);var g=new Uint16Array(10),m,_,x,E;if(this._leftover){for(E=this._leftover,this._buffer[E++]=1;E<16;E++)this._buffer[E]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(m=this._h[1]>>>13,this._h[1]&=8191,E=2;E<10;E++)this._h[E]+=m,m=this._h[E]>>>13,this._h[E]&=8191;for(this._h[0]+=m*5,m=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=m,m=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=m,g[0]=this._h[0]+5,m=g[0]>>>13,g[0]&=8191,E=1;E<10;E++)g[E]=this._h[E]+m,m=g[E]>>>13,g[E]&=8191;for(g[9]-=1<<13,_=(m^1)-1,E=0;E<10;E++)g[E]&=_;for(_=~_,E=0;E<10;E++)this._h[E]=this._h[E]&_|g[E];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,x=this._h[0]+this._pad[0],this._h[0]=x&65535,E=1;E<8;E++)x=(this._h[E]+this._pad[E]|0)+(x>>>16)|0,this._h[E]=x&65535;return w[y+0]=this._h[0]>>>0,w[y+1]=this._h[0]>>>8,w[y+2]=this._h[1]>>>0,w[y+3]=this._h[1]>>>8,w[y+4]=this._h[2]>>>0,w[y+5]=this._h[2]>>>8,w[y+6]=this._h[3]>>>0,w[y+7]=this._h[3]>>>8,w[y+8]=this._h[4]>>>0,w[y+9]=this._h[4]>>>8,w[y+10]=this._h[5]>>>0,w[y+11]=this._h[5]>>>8,w[y+12]=this._h[6]>>>0,w[y+13]=this._h[6]>>>8,w[y+14]=this._h[7]>>>0,w[y+15]=this._h[7]>>>8,this._finished=!0,this},M.prototype.update=function(w){var y=0,g=w.length,m;if(this._leftover){m=16-this._leftover,m>g&&(m=g);for(var _=0;_<m;_++)this._buffer[this._leftover+_]=w[y+_];if(g-=m,y+=m,this._leftover+=m,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(g>=16&&(m=g-g%16,this._blocks(w,y,m),y+=m,g-=m),g){for(var _=0;_<g;_++)this._buffer[this._leftover+_]=w[y+_];this._leftover+=g}return this},M.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var w=new Uint8Array(16);return this.finish(w),w},M.prototype.clean=function(){return h.wipe(this._buffer),h.wipe(this._r),h.wipe(this._h),h.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},M}();f.Poly1305=o;function p(M,w){var y=new o(M);y.update(w);var g=y.digest();return y.clean(),g}f.oneTimeAuth=p;function i(M,w){return M.length!==f.DIGEST_LENGTH||w.length!==f.DIGEST_LENGTH?!1:s.equal(M,w)}f.equal=i})(Hu);(function(f){Object.defineProperty(f,"__esModule",{value:!0});var s=Sn,h=Hu,o=tr,p=Kt,i=Tr;f.KEY_LENGTH=32,f.NONCE_LENGTH=12,f.TAG_LENGTH=16;var M=new Uint8Array(16),w=function(){function y(g){if(this.nonceLength=f.NONCE_LENGTH,this.tagLength=f.TAG_LENGTH,g.length!==f.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(g)}return y.prototype.seal=function(g,m,_,x){if(g.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var E=new Uint8Array(16);E.set(g,E.length-g.length);var S=new Uint8Array(32);s.stream(this._key,E,S,4);var R=m.length+this.tagLength,P;if(x){if(x.length!==R)throw new Error("ChaCha20Poly1305: incorrect destination length");P=x}else P=new Uint8Array(R);return s.streamXOR(this._key,E,m,P,4),this._authenticate(P.subarray(P.length-this.tagLength,P.length),S,P.subarray(0,P.length-this.tagLength),_),o.wipe(E),P},y.prototype.open=function(g,m,_,x){if(g.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(m.length<this.tagLength)return null;var E=new Uint8Array(16);E.set(g,E.length-g.length);var S=new Uint8Array(32);s.stream(this._key,E,S,4);var R=new Uint8Array(this.tagLength);if(this._authenticate(R,S,m.subarray(0,m.length-this.tagLength),_),!i.equal(R,m.subarray(m.length-this.tagLength,m.length)))return null;var P=m.length-this.tagLength,O;if(x){if(x.length!==P)throw new Error("ChaCha20Poly1305: incorrect destination length");O=x}else O=new Uint8Array(P);return s.streamXOR(this._key,E,m.subarray(0,m.length-this.tagLength),O,4),o.wipe(E),O},y.prototype.clean=function(){return o.wipe(this._key),this},y.prototype._authenticate=function(g,m,_,x){var E=new h.Poly1305(m);x&&(E.update(x),x.length%16>0&&E.update(M.subarray(x.length%16))),E.update(_),_.length%16>0&&E.update(M.subarray(_.length%16));var S=new Uint8Array(8);x&&p.writeUint64LE(x.length,S),E.update(S),p.writeUint64LE(_.length,S),E.update(S);for(var R=E.digest(),P=0;P<R.length;P++)g[P]=R[P];E.clean(),o.wipe(R),o.wipe(S)},y}();f.ChaCha20Poly1305=w})(ro);var Vu={},Oi={},io={};Object.defineProperty(io,"__esModule",{value:!0});function sv(f){return typeof f.saveState<"u"&&typeof f.restoreState<"u"&&typeof f.cleanSavedState<"u"}io.isSerializableHash=sv;Object.defineProperty(Oi,"__esModule",{value:!0});var vr=io,av=Tr,ov=tr,Gu=function(){function f(s,h){this._finished=!1,this._inner=new s,this._outer=new s,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var o=new Uint8Array(this.blockSize);h.length>this.blockSize?this._inner.update(h).finish(o).clean():o.set(h);for(var p=0;p<o.length;p++)o[p]^=54;this._inner.update(o);for(var p=0;p<o.length;p++)o[p]^=106;this._outer.update(o),vr.isSerializableHash(this._inner)&&vr.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),ov.wipe(o)}return f.prototype.reset=function(){if(!vr.isSerializableHash(this._inner)||!vr.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},f.prototype.clean=function(){vr.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),vr.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},f.prototype.update=function(s){return this._inner.update(s),this},f.prototype.finish=function(s){return this._finished?(this._outer.finish(s),this):(this._inner.finish(s),this._outer.update(s.subarray(0,this.digestLength)).finish(s),this._finished=!0,this)},f.prototype.digest=function(){var s=new Uint8Array(this.digestLength);return this.finish(s),s},f.prototype.saveState=function(){if(!vr.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},f.prototype.restoreState=function(s){if(!vr.isSerializableHash(this._inner)||!vr.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(s),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},f.prototype.cleanSavedState=function(s){if(!vr.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(s)},f}();Oi.HMAC=Gu;function fv(f,s,h){var o=new Gu(f,s);o.update(h);var p=o.digest();return o.clean(),p}Oi.hmac=fv;Oi.equal=av.equal;Object.defineProperty(Vu,"__esModule",{value:!0});var Qh=Oi,t0=tr,hv=function(){function f(s,h,o,p){o===void 0&&(o=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=s,this._info=p;var i=Qh.hmac(this._hash,o,h);this._hmac=new Qh.HMAC(s,i),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return f.prototype._fillBuffer=function(){this._counter[0]++;var s=this._counter[0];if(s===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),s>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},f.prototype.expand=function(s){for(var h=new Uint8Array(s),o=0;o<h.length;o++)this._bufpos===this._buffer.length&&this._fillBuffer(),h[o]=this._buffer[this._bufpos++];return h},f.prototype.clean=function(){this._hmac.clean(),t0.wipe(this._buffer),t0.wipe(this._counter),this._bufpos=0},f}(),uv=Vu.HKDF=hv,An={};(function(f){Object.defineProperty(f,"__esModule",{value:!0});var s=Kt,h=tr;f.DIGEST_LENGTH=32,f.BLOCK_SIZE=64;var o=function(){function w(){this.digestLength=f.DIGEST_LENGTH,this.blockSize=f.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return w.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},w.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},w.prototype.clean=function(){h.wipe(this._buffer),h.wipe(this._temp),this.reset()},w.prototype.update=function(y,g){if(g===void 0&&(g=y.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var m=0;if(this._bytesHashed+=g,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&g>0;)this._buffer[this._bufferLength++]=y[m++],g--;this._bufferLength===this.blockSize&&(i(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(g>=this.blockSize&&(m=i(this._temp,this._state,y,m,g),g%=this.blockSize);g>0;)this._buffer[this._bufferLength++]=y[m++],g--;return this},w.prototype.finish=function(y){if(!this._finished){var g=this._bytesHashed,m=this._bufferLength,_=g/536870912|0,x=g<<3,E=g%64<56?64:128;this._buffer[m]=128;for(var S=m+1;S<E-8;S++)this._buffer[S]=0;s.writeUint32BE(_,this._buffer,E-8),s.writeUint32BE(x,this._buffer,E-4),i(this._temp,this._state,this._buffer,0,E),this._finished=!0}for(var S=0;S<this.digestLength/4;S++)s.writeUint32BE(this._state[S],y,S*4);return this},w.prototype.digest=function(){var y=new Uint8Array(this.digestLength);return this.finish(y),y},w.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},w.prototype.restoreState=function(y){return this._state.set(y.state),this._bufferLength=y.bufferLength,y.buffer&&this._buffer.set(y.buffer),this._bytesHashed=y.bytesHashed,this._finished=!1,this},w.prototype.cleanSavedState=function(y){h.wipe(y.state),y.buffer&&h.wipe(y.buffer),y.bufferLength=0,y.bytesHashed=0},w}();f.SHA256=o;var p=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function i(w,y,g,m,_){for(;_>=64;){for(var x=y[0],E=y[1],S=y[2],R=y[3],P=y[4],O=y[5],B=y[6],C=y[7],T=0;T<16;T++){var F=m+T*4;w[T]=s.readUint32BE(g,F)}for(var T=16;T<64;T++){var D=w[T-2],I=(D>>>17|D<<32-17)^(D>>>19|D<<32-19)^D>>>10;D=w[T-15];var k=(D>>>7|D<<32-7)^(D>>>18|D<<32-18)^D>>>3;w[T]=(I+w[T-7]|0)+(k+w[T-16]|0)}for(var T=0;T<64;T++){var I=(((P>>>6|P<<26)^(P>>>11|P<<21)^(P>>>25|P<<7))+(P&O^~P&B)|0)+(C+(p[T]+w[T]|0)|0)|0,k=((x>>>2|x<<32-2)^(x>>>13|x<<32-13)^(x>>>22|x<<32-22))+(x&E^x&S^E&S)|0;C=B,B=O,O=P,P=R+I|0,R=S,S=E,E=x,x=I+k|0}y[0]+=x,y[1]+=E,y[2]+=S,y[3]+=R,y[4]+=P,y[5]+=O,y[6]+=B,y[7]+=C,m+=64,_-=64}return m}function M(w){var y=new o;y.update(w);var g=y.digest();return y.clean(),g}f.hash=M})(An);var no={};(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.sharedKey=f.generateKeyPair=f.generateKeyPairFromSeed=f.scalarMultBase=f.scalarMult=f.SHARED_KEY_LENGTH=f.SECRET_KEY_LENGTH=f.PUBLIC_KEY_LENGTH=void 0;const s=ei,h=tr;f.PUBLIC_KEY_LENGTH=32,f.SECRET_KEY_LENGTH=32,f.SHARED_KEY_LENGTH=32;function o(T){const F=new Float64Array(16);if(T)for(let D=0;D<T.length;D++)F[D]=T[D];return F}const p=new Uint8Array(32);p[0]=9;const i=o([56129,1]);function M(T){let F=1;for(let D=0;D<16;D++){let I=T[D]+F+65535;F=Math.floor(I/65536),T[D]=I-F*65536}T[0]+=F-1+37*(F-1)}function w(T,F,D){const I=~(D-1);for(let k=0;k<16;k++){const K=I&(T[k]^F[k]);T[k]^=K,F[k]^=K}}function y(T,F){const D=o(),I=o();for(let k=0;k<16;k++)I[k]=F[k];M(I),M(I),M(I);for(let k=0;k<2;k++){D[0]=I[0]-65517;for(let Y=1;Y<15;Y++)D[Y]=I[Y]-65535-(D[Y-1]>>16&1),D[Y-1]&=65535;D[15]=I[15]-32767-(D[14]>>16&1);const K=D[15]>>16&1;D[14]&=65535,w(I,D,1-K)}for(let k=0;k<16;k++)T[2*k]=I[k]&255,T[2*k+1]=I[k]>>8}function g(T,F){for(let D=0;D<16;D++)T[D]=F[2*D]+(F[2*D+1]<<8);T[15]&=32767}function m(T,F,D){for(let I=0;I<16;I++)T[I]=F[I]+D[I]}function _(T,F,D){for(let I=0;I<16;I++)T[I]=F[I]-D[I]}function x(T,F,D){let I,k,K=0,Y=0,d=0,t=0,r=0,n=0,a=0,l=0,v=0,b=0,u=0,e=0,c=0,q=0,N=0,L=0,$=0,V=0,z=0,G=0,U=0,A=0,j=0,Z=0,W=0,Dt=0,at=0,nt=0,Ft=0,lt=0,ut=0,kt=D[0],st=D[1],it=D[2],Ct=D[3],et=D[4],tt=D[5],qt=D[6],X=D[7],rt=D[8],Lt=D[9],Q=D[10],ot=D[11],Ut=D[12],ft=D[13],ht=D[14],zt=D[15];I=F[0],K+=I*kt,Y+=I*st,d+=I*it,t+=I*Ct,r+=I*et,n+=I*tt,a+=I*qt,l+=I*X,v+=I*rt,b+=I*Lt,u+=I*Q,e+=I*ot,c+=I*Ut,q+=I*ft,N+=I*ht,L+=I*zt,I=F[1],Y+=I*kt,d+=I*st,t+=I*it,r+=I*Ct,n+=I*et,a+=I*tt,l+=I*qt,v+=I*X,b+=I*rt,u+=I*Lt,e+=I*Q,c+=I*ot,q+=I*Ut,N+=I*ft,L+=I*ht,$+=I*zt,I=F[2],d+=I*kt,t+=I*st,r+=I*it,n+=I*Ct,a+=I*et,l+=I*tt,v+=I*qt,b+=I*X,u+=I*rt,e+=I*Lt,c+=I*Q,q+=I*ot,N+=I*Ut,L+=I*ft,$+=I*ht,V+=I*zt,I=F[3],t+=I*kt,r+=I*st,n+=I*it,a+=I*Ct,l+=I*et,v+=I*tt,b+=I*qt,u+=I*X,e+=I*rt,c+=I*Lt,q+=I*Q,N+=I*ot,L+=I*Ut,$+=I*ft,V+=I*ht,z+=I*zt,I=F[4],r+=I*kt,n+=I*st,a+=I*it,l+=I*Ct,v+=I*et,b+=I*tt,u+=I*qt,e+=I*X,c+=I*rt,q+=I*Lt,N+=I*Q,L+=I*ot,$+=I*Ut,V+=I*ft,z+=I*ht,G+=I*zt,I=F[5],n+=I*kt,a+=I*st,l+=I*it,v+=I*Ct,b+=I*et,u+=I*tt,e+=I*qt,c+=I*X,q+=I*rt,N+=I*Lt,L+=I*Q,$+=I*ot,V+=I*Ut,z+=I*ft,G+=I*ht,U+=I*zt,I=F[6],a+=I*kt,l+=I*st,v+=I*it,b+=I*Ct,u+=I*et,e+=I*tt,c+=I*qt,q+=I*X,N+=I*rt,L+=I*Lt,$+=I*Q,V+=I*ot,z+=I*Ut,G+=I*ft,U+=I*ht,A+=I*zt,I=F[7],l+=I*kt,v+=I*st,b+=I*it,u+=I*Ct,e+=I*et,c+=I*tt,q+=I*qt,N+=I*X,L+=I*rt,$+=I*Lt,V+=I*Q,z+=I*ot,G+=I*Ut,U+=I*ft,A+=I*ht,j+=I*zt,I=F[8],v+=I*kt,b+=I*st,u+=I*it,e+=I*Ct,c+=I*et,q+=I*tt,N+=I*qt,L+=I*X,$+=I*rt,V+=I*Lt,z+=I*Q,G+=I*ot,U+=I*Ut,A+=I*ft,j+=I*ht,Z+=I*zt,I=F[9],b+=I*kt,u+=I*st,e+=I*it,c+=I*Ct,q+=I*et,N+=I*tt,L+=I*qt,$+=I*X,V+=I*rt,z+=I*Lt,G+=I*Q,U+=I*ot,A+=I*Ut,j+=I*ft,Z+=I*ht,W+=I*zt,I=F[10],u+=I*kt,e+=I*st,c+=I*it,q+=I*Ct,N+=I*et,L+=I*tt,$+=I*qt,V+=I*X,z+=I*rt,G+=I*Lt,U+=I*Q,A+=I*ot,j+=I*Ut,Z+=I*ft,W+=I*ht,Dt+=I*zt,I=F[11],e+=I*kt,c+=I*st,q+=I*it,N+=I*Ct,L+=I*et,$+=I*tt,V+=I*qt,z+=I*X,G+=I*rt,U+=I*Lt,A+=I*Q,j+=I*ot,Z+=I*Ut,W+=I*ft,Dt+=I*ht,at+=I*zt,I=F[12],c+=I*kt,q+=I*st,N+=I*it,L+=I*Ct,$+=I*et,V+=I*tt,z+=I*qt,G+=I*X,U+=I*rt,A+=I*Lt,j+=I*Q,Z+=I*ot,W+=I*Ut,Dt+=I*ft,at+=I*ht,nt+=I*zt,I=F[13],q+=I*kt,N+=I*st,L+=I*it,$+=I*Ct,V+=I*et,z+=I*tt,G+=I*qt,U+=I*X,A+=I*rt,j+=I*Lt,Z+=I*Q,W+=I*ot,Dt+=I*Ut,at+=I*ft,nt+=I*ht,Ft+=I*zt,I=F[14],N+=I*kt,L+=I*st,$+=I*it,V+=I*Ct,z+=I*et,G+=I*tt,U+=I*qt,A+=I*X,j+=I*rt,Z+=I*Lt,W+=I*Q,Dt+=I*ot,at+=I*Ut,nt+=I*ft,Ft+=I*ht,lt+=I*zt,I=F[15],L+=I*kt,$+=I*st,V+=I*it,z+=I*Ct,G+=I*et,U+=I*tt,A+=I*qt,j+=I*X,Z+=I*rt,W+=I*Lt,Dt+=I*Q,at+=I*ot,nt+=I*Ut,Ft+=I*ft,lt+=I*ht,ut+=I*zt,K+=38*$,Y+=38*V,d+=38*z,t+=38*G,r+=38*U,n+=38*A,a+=38*j,l+=38*Z,v+=38*W,b+=38*Dt,u+=38*at,e+=38*nt,c+=38*Ft,q+=38*lt,N+=38*ut,k=1,I=K+k+65535,k=Math.floor(I/65536),K=I-k*65536,I=Y+k+65535,k=Math.floor(I/65536),Y=I-k*65536,I=d+k+65535,k=Math.floor(I/65536),d=I-k*65536,I=t+k+65535,k=Math.floor(I/65536),t=I-k*65536,I=r+k+65535,k=Math.floor(I/65536),r=I-k*65536,I=n+k+65535,k=Math.floor(I/65536),n=I-k*65536,I=a+k+65535,k=Math.floor(I/65536),a=I-k*65536,I=l+k+65535,k=Math.floor(I/65536),l=I-k*65536,I=v+k+65535,k=Math.floor(I/65536),v=I-k*65536,I=b+k+65535,k=Math.floor(I/65536),b=I-k*65536,I=u+k+65535,k=Math.floor(I/65536),u=I-k*65536,I=e+k+65535,k=Math.floor(I/65536),e=I-k*65536,I=c+k+65535,k=Math.floor(I/65536),c=I-k*65536,I=q+k+65535,k=Math.floor(I/65536),q=I-k*65536,I=N+k+65535,k=Math.floor(I/65536),N=I-k*65536,I=L+k+65535,k=Math.floor(I/65536),L=I-k*65536,K+=k-1+37*(k-1),k=1,I=K+k+65535,k=Math.floor(I/65536),K=I-k*65536,I=Y+k+65535,k=Math.floor(I/65536),Y=I-k*65536,I=d+k+65535,k=Math.floor(I/65536),d=I-k*65536,I=t+k+65535,k=Math.floor(I/65536),t=I-k*65536,I=r+k+65535,k=Math.floor(I/65536),r=I-k*65536,I=n+k+65535,k=Math.floor(I/65536),n=I-k*65536,I=a+k+65535,k=Math.floor(I/65536),a=I-k*65536,I=l+k+65535,k=Math.floor(I/65536),l=I-k*65536,I=v+k+65535,k=Math.floor(I/65536),v=I-k*65536,I=b+k+65535,k=Math.floor(I/65536),b=I-k*65536,I=u+k+65535,k=Math.floor(I/65536),u=I-k*65536,I=e+k+65535,k=Math.floor(I/65536),e=I-k*65536,I=c+k+65535,k=Math.floor(I/65536),c=I-k*65536,I=q+k+65535,k=Math.floor(I/65536),q=I-k*65536,I=N+k+65535,k=Math.floor(I/65536),N=I-k*65536,I=L+k+65535,k=Math.floor(I/65536),L=I-k*65536,K+=k-1+37*(k-1),T[0]=K,T[1]=Y,T[2]=d,T[3]=t,T[4]=r,T[5]=n,T[6]=a,T[7]=l,T[8]=v,T[9]=b,T[10]=u,T[11]=e,T[12]=c,T[13]=q,T[14]=N,T[15]=L}function E(T,F){x(T,F,F)}function S(T,F){const D=o();for(let I=0;I<16;I++)D[I]=F[I];for(let I=253;I>=0;I--)E(D,D),I!==2&&I!==4&&x(D,D,F);for(let I=0;I<16;I++)T[I]=D[I]}function R(T,F){const D=new Uint8Array(32),I=new Float64Array(80),k=o(),K=o(),Y=o(),d=o(),t=o(),r=o();for(let v=0;v<31;v++)D[v]=T[v];D[31]=T[31]&127|64,D[0]&=248,g(I,F);for(let v=0;v<16;v++)K[v]=I[v];k[0]=d[0]=1;for(let v=254;v>=0;--v){const b=D[v>>>3]>>>(v&7)&1;w(k,K,b),w(Y,d,b),m(t,k,Y),_(k,k,Y),m(Y,K,d),_(K,K,d),E(d,t),E(r,k),x(k,Y,k),x(Y,K,t),m(t,k,Y),_(k,k,Y),E(K,k),_(Y,d,r),x(k,Y,i),m(k,k,d),x(Y,Y,k),x(k,d,r),x(d,K,I),E(K,t),w(k,K,b),w(Y,d,b)}for(let v=0;v<16;v++)I[v+16]=k[v],I[v+32]=Y[v],I[v+48]=K[v],I[v+64]=d[v];const n=I.subarray(32),a=I.subarray(16);S(n,n),x(a,a,n);const l=new Uint8Array(32);return y(l,a),l}f.scalarMult=R;function P(T){return R(T,p)}f.scalarMultBase=P;function O(T){if(T.length!==f.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${f.SECRET_KEY_LENGTH} bytes`);const F=new Uint8Array(T);return{publicKey:P(F),secretKey:F}}f.generateKeyPairFromSeed=O;function B(T){const F=(0,s.randomBytes)(32,T),D=O(F);return(0,h.wipe)(F),D}f.generateKeyPair=B;function C(T,F,D=!1){if(T.length!==f.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(F.length!==f.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const I=R(T,F);if(D){let k=0;for(let K=0;K<I.length;K++)k|=I[K];if(k===0)throw new Error("X25519: invalid shared key")}return I}f.sharedKey=C})(no);var oe={};Object.defineProperty(oe,"__esModule",{value:!0});oe.getLocalStorage=oe.getLocalStorageOrThrow=oe.getCrypto=oe.getCryptoOrThrow=Wu=oe.getLocation=oe.getLocationOrThrow=so=oe.getNavigator=oe.getNavigatorOrThrow=Zu=oe.getDocument=oe.getDocumentOrThrow=oe.getFromWindowOrThrow=oe.getFromWindow=void 0;function jr(f){let s;return typeof window<"u"&&typeof window[f]<"u"&&(s=window[f]),s}oe.getFromWindow=jr;function ii(f){const s=jr(f);if(!s)throw new Error(`${f} is not defined in Window`);return s}oe.getFromWindowOrThrow=ii;function cv(){return ii("document")}oe.getDocumentOrThrow=cv;function lv(){return jr("document")}var Zu=oe.getDocument=lv;function dv(){return ii("navigator")}oe.getNavigatorOrThrow=dv;function pv(){return jr("navigator")}var so=oe.getNavigator=pv;function vv(){return ii("location")}oe.getLocationOrThrow=vv;function mv(){return jr("location")}var Wu=oe.getLocation=mv;function gv(){return ii("crypto")}oe.getCryptoOrThrow=gv;function bv(){return jr("crypto")}oe.getCrypto=bv;function yv(){return ii("localStorage")}oe.getLocalStorageOrThrow=yv;function wv(){return jr("localStorage")}oe.getLocalStorage=wv;var ao={};Object.defineProperty(ao,"__esModule",{value:!0});var Yu=ao.getWindowMetadata=void 0;const e0=oe;function Mv(){let f,s;try{f=e0.getDocumentOrThrow(),s=e0.getLocationOrThrow()}catch{return null}function h(){const _=f.getElementsByTagName("link"),x=[];for(let E=0;E<_.length;E++){const S=_[E],R=S.getAttribute("rel");if(R&&R.toLowerCase().indexOf("icon")>-1){const P=S.getAttribute("href");if(P)if(P.toLowerCase().indexOf("https:")===-1&&P.toLowerCase().indexOf("http:")===-1&&P.indexOf("//")!==0){let O=s.protocol+"//"+s.host;if(P.indexOf("/")===0)O+=P;else{const B=s.pathname.split("/");B.pop();const C=B.join("/");O+=C+"/"+P}x.push(O)}else if(P.indexOf("//")===0){const O=s.protocol+P;x.push(O)}else x.push(P)}}return x}function o(..._){const x=f.getElementsByTagName("meta");for(let E=0;E<x.length;E++){const S=x[E],R=["itemprop","property","name"].map(P=>S.getAttribute(P)).filter(P=>P?_.includes(P):!1);if(R.length&&R){const P=S.getAttribute("content");if(P)return P}}return""}function p(){let _=o("name","og:site_name","og:title","twitter:title");return _||(_=f.title),_}function i(){return o("description","og:description","twitter:description","keywords")}const M=p(),w=i(),y=s.origin,g=h();return{description:w,url:y,icons:g,name:M}}Yu=ao.getWindowMetadata=Mv;var Ii={},_v=f=>encodeURIComponent(f).replace(/[!'()*]/g,s=>`%${s.charCodeAt(0).toString(16).toUpperCase()}`),Ju="%[a-f0-9]{2}",r0=new RegExp("("+Ju+")|([^%]+?)","gi"),i0=new RegExp("("+Ju+")+","gi");function Ra(f,s){try{return[decodeURIComponent(f.join(""))]}catch{}if(f.length===1)return f;s=s||1;var h=f.slice(0,s),o=f.slice(s);return Array.prototype.concat.call([],Ra(h),Ra(o))}function xv(f){try{return decodeURIComponent(f)}catch{for(var s=f.match(r0)||[],h=1;h<s.length;h++)f=Ra(s,h).join(""),s=f.match(r0)||[];return f}}function Ev(f){for(var s={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},h=i0.exec(f);h;){try{s[h[0]]=decodeURIComponent(h[0])}catch{var o=xv(h[0]);o!==h[0]&&(s[h[0]]=o)}h=i0.exec(f)}s["%C2"]="\uFFFD";for(var p=Object.keys(s),i=0;i<p.length;i++){var M=p[i];f=f.replace(new RegExp(M,"g"),s[M])}return f}var Sv=function(f){if(typeof f!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof f+"`");try{return f=f.replace(/\+/g," "),decodeURIComponent(f)}catch{return Ev(f)}},Av=(f,s)=>{if(!(typeof f=="string"&&typeof s=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(s==="")return[f];const h=f.indexOf(s);return h===-1?[f]:[f.slice(0,h),f.slice(h+s.length)]},Iv=function(f,s){for(var h={},o=Object.keys(f),p=Array.isArray(s),i=0;i<o.length;i++){var M=o[i],w=f[M];(p?s.indexOf(M)!==-1:s(M,w,f))&&(h[M]=w)}return h};(function(f){const s=_v,h=Sv,o=Av,p=Iv,i=B=>B==null,M=Symbol("encodeFragmentIdentifier");function w(B){switch(B.arrayFormat){case"index":return C=>(T,F)=>{const D=T.length;return F===void 0||B.skipNull&&F===null||B.skipEmptyString&&F===""?T:F===null?[...T,[m(C,B),"[",D,"]"].join("")]:[...T,[m(C,B),"[",m(D,B),"]=",m(F,B)].join("")]};case"bracket":return C=>(T,F)=>F===void 0||B.skipNull&&F===null||B.skipEmptyString&&F===""?T:F===null?[...T,[m(C,B),"[]"].join("")]:[...T,[m(C,B),"[]=",m(F,B)].join("")];case"colon-list-separator":return C=>(T,F)=>F===void 0||B.skipNull&&F===null||B.skipEmptyString&&F===""?T:F===null?[...T,[m(C,B),":list="].join("")]:[...T,[m(C,B),":list=",m(F,B)].join("")];case"comma":case"separator":case"bracket-separator":{const C=B.arrayFormat==="bracket-separator"?"[]=":"=";return T=>(F,D)=>D===void 0||B.skipNull&&D===null||B.skipEmptyString&&D===""?F:(D=D===null?"":D,F.length===0?[[m(T,B),C,m(D,B)].join("")]:[[F,m(D,B)].join(B.arrayFormatSeparator)])}default:return C=>(T,F)=>F===void 0||B.skipNull&&F===null||B.skipEmptyString&&F===""?T:F===null?[...T,m(C,B)]:[...T,[m(C,B),"=",m(F,B)].join("")]}}function y(B){let C;switch(B.arrayFormat){case"index":return(T,F,D)=>{if(C=/\[(\d*)\]$/.exec(T),T=T.replace(/\[\d*\]$/,""),!C){D[T]=F;return}D[T]===void 0&&(D[T]={}),D[T][C[1]]=F};case"bracket":return(T,F,D)=>{if(C=/(\[\])$/.exec(T),T=T.replace(/\[\]$/,""),!C){D[T]=F;return}if(D[T]===void 0){D[T]=[F];return}D[T]=[].concat(D[T],F)};case"colon-list-separator":return(T,F,D)=>{if(C=/(:list)$/.exec(T),T=T.replace(/:list$/,""),!C){D[T]=F;return}if(D[T]===void 0){D[T]=[F];return}D[T]=[].concat(D[T],F)};case"comma":case"separator":return(T,F,D)=>{const I=typeof F=="string"&&F.includes(B.arrayFormatSeparator),k=typeof F=="string"&&!I&&_(F,B).includes(B.arrayFormatSeparator);F=k?_(F,B):F;const K=I||k?F.split(B.arrayFormatSeparator).map(Y=>_(Y,B)):F===null?F:_(F,B);D[T]=K};case"bracket-separator":return(T,F,D)=>{const I=/(\[\])$/.test(T);if(T=T.replace(/\[\]$/,""),!I){D[T]=F&&_(F,B);return}const k=F===null?[]:F.split(B.arrayFormatSeparator).map(K=>_(K,B));if(D[T]===void 0){D[T]=k;return}D[T]=[].concat(D[T],k)};default:return(T,F,D)=>{if(D[T]===void 0){D[T]=F;return}D[T]=[].concat(D[T],F)}}}function g(B){if(typeof B!="string"||B.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function m(B,C){return C.encode?C.strict?s(B):encodeURIComponent(B):B}function _(B,C){return C.decode?h(B):B}function x(B){return Array.isArray(B)?B.sort():typeof B=="object"?x(Object.keys(B)).sort((C,T)=>Number(C)-Number(T)).map(C=>B[C]):B}function E(B){const C=B.indexOf("#");return C!==-1&&(B=B.slice(0,C)),B}function S(B){let C="";const T=B.indexOf("#");return T!==-1&&(C=B.slice(T)),C}function R(B){B=E(B);const C=B.indexOf("?");return C===-1?"":B.slice(C+1)}function P(B,C){return C.parseNumbers&&!Number.isNaN(Number(B))&&typeof B=="string"&&B.trim()!==""?B=Number(B):C.parseBooleans&&B!==null&&(B.toLowerCase()==="true"||B.toLowerCase()==="false")&&(B=B.toLowerCase()==="true"),B}function O(B,C){C=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},C),g(C.arrayFormatSeparator);const T=y(C),F=Object.create(null);if(typeof B!="string"||(B=B.trim().replace(/^[?#&]/,""),!B))return F;for(const D of B.split("&")){if(D==="")continue;let[I,k]=o(C.decode?D.replace(/\+/g," "):D,"=");k=k===void 0?null:["comma","separator","bracket-separator"].includes(C.arrayFormat)?k:_(k,C),T(_(I,C),k,F)}for(const D of Object.keys(F)){const I=F[D];if(typeof I=="object"&&I!==null)for(const k of Object.keys(I))I[k]=P(I[k],C);else F[D]=P(I,C)}return C.sort===!1?F:(C.sort===!0?Object.keys(F).sort():Object.keys(F).sort(C.sort)).reduce((D,I)=>{const k=F[I];return Boolean(k)&&typeof k=="object"&&!Array.isArray(k)?D[I]=x(k):D[I]=k,D},Object.create(null))}f.extract=R,f.parse=O,f.stringify=(B,C)=>{if(!B)return"";C=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},C),g(C.arrayFormatSeparator);const T=k=>C.skipNull&&i(B[k])||C.skipEmptyString&&B[k]==="",F=w(C),D={};for(const k of Object.keys(B))T(k)||(D[k]=B[k]);const I=Object.keys(D);return C.sort!==!1&&I.sort(C.sort),I.map(k=>{const K=B[k];return K===void 0?"":K===null?m(k,C):Array.isArray(K)?K.length===0&&C.arrayFormat==="bracket-separator"?m(k,C)+"[]":K.reduce(F(k),[]).join("&"):m(k,C)+"="+m(K,C)}).filter(k=>k.length>0).join("&")},f.parseUrl=(B,C)=>{C=Object.assign({decode:!0},C);const[T,F]=o(B,"#");return Object.assign({url:T.split("?")[0]||"",query:O(R(B),C)},C&&C.parseFragmentIdentifier&&F?{fragmentIdentifier:_(F,C)}:{})},f.stringifyUrl=(B,C)=>{C=Object.assign({encode:!0,strict:!0,[M]:!0},C);const T=E(B.url).split("?")[0]||"",F=f.extract(B.url),D=f.parse(F,{sort:!1}),I=Object.assign(D,B.query);let k=f.stringify(I,C);k&&(k=`?${k}`);let K=S(B.url);return B.fragmentIdentifier&&(K=`#${C[M]?m(B.fragmentIdentifier,C):B.fragmentIdentifier}`),`${T}${k}${K}`},f.pick=(B,C,T)=>{T=Object.assign({parseFragmentIdentifier:!0,[M]:!1},T);const{url:F,query:D,fragmentIdentifier:I}=f.parseUrl(B,T);return f.stringifyUrl({url:F,query:p(D,C),fragmentIdentifier:I},T)},f.exclude=(B,C,T)=>{const F=Array.isArray(C)?D=>!C.includes(D):(D,I)=>!C(D,I);return f.pick(B,F,T)}})(Ii);const Rv={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}},Bv=":";function sy(f){const[s,h]=f.split(Bv);return{namespace:s,reference:h}}function ay(f,s=[]){const h=[];return Object.keys(f).forEach(o=>{if(s.length&&!s.includes(o))return;const p=f[o];h.push(...p.accounts)}),h}function Xu(f,s){return f.includes(":")?[f]:s.chains||[]}const Qu="base10",He="base16",Ba="base64pad",oo="utf8",tc=0,Vr=1,Pv=0,n0=1,Pa=12,fo=32;function Tv(){const f=no.generateKeyPair();return{privateKey:je(f.secretKey,He),publicKey:je(f.publicKey,He)}}function Ta(){const f=ei.randomBytes(fo);return je(f,He)}function Nv(f,s){const h=no.sharedKey(We(f,He),We(s,He),!0),o=new uv(An.SHA256,h).expand(fo);return je(o,He)}function Ov(f){const s=An.hash(We(f,He));return je(s,He)}function Xr(f){const s=An.hash(We(f,oo));return je(s,He)}function qv(f){return We(`${f}`,Qu)}function qi(f){return Number(je(f,Qu))}function Cv(f){const s=qv(typeof f.type<"u"?f.type:tc);if(qi(s)===Vr&&typeof f.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const h=typeof f.senderPublicKey<"u"?We(f.senderPublicKey,He):void 0,o=typeof f.iv<"u"?We(f.iv,He):ei.randomBytes(Pa),p=new ro.ChaCha20Poly1305(We(f.symKey,He)).seal(o,We(f.message,oo));return Lv({type:s,sealed:p,iv:o,senderPublicKey:h})}function Dv(f){const s=new ro.ChaCha20Poly1305(We(f.symKey,He)),{sealed:h,iv:o}=cn(f.encoded),p=s.open(o,h);if(p===null)throw new Error("Failed to decrypt");return je(p,oo)}function Lv(f){if(qi(f.type)===Vr){if(typeof f.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return je(Ma([f.type,f.senderPublicKey,f.iv,f.sealed]),Ba)}return je(Ma([f.type,f.iv,f.sealed]),Ba)}function cn(f){const s=We(f,Ba),h=s.slice(Pv,n0),o=n0;if(qi(h)===Vr){const w=o+fo,y=w+Pa,g=s.slice(o,w),m=s.slice(w,y),_=s.slice(y);return{type:h,sealed:_,iv:m,senderPublicKey:g}}const p=o+Pa,i=s.slice(o,p),M=s.slice(p);return{type:h,sealed:M,iv:i}}function kv(f,s){const h=cn(f);return ec({type:qi(h.type),senderPublicKey:typeof h.senderPublicKey<"u"?je(h.senderPublicKey,He):void 0,receiverPublicKey:s==null?void 0:s.receiverPublicKey})}function ec(f){const s=(f==null?void 0:f.type)||tc;if(s===Vr){if(typeof(f==null?void 0:f.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(f==null?void 0:f.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:s,senderPublicKey:f==null?void 0:f.senderPublicKey,receiverPublicKey:f==null?void 0:f.receiverPublicKey}}function s0(f){return f.type===Vr&&typeof f.senderPublicKey=="string"&&typeof f.receiverPublicKey=="string"}var Uv=Object.defineProperty,a0=Object.getOwnPropertySymbols,Fv=Object.prototype.hasOwnProperty,zv=Object.prototype.propertyIsEnumerable,o0=(f,s,h)=>s in f?Uv(f,s,{enumerable:!0,configurable:!0,writable:!0,value:h}):f[s]=h,f0=(f,s)=>{for(var h in s||(s={}))Fv.call(s,h)&&o0(f,h,s[h]);if(a0)for(var h of a0(s))zv.call(s,h)&&o0(f,h,s[h]);return f};const $v="ReactNative",Xe={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Kv="js";function ho(){return typeof or.exports<"u"&&typeof or.exports.versions<"u"&&typeof or.exports.versions.node<"u"}function ni(){return!Zu()&&!!so()&&navigator.product===$v}function Ci(){return!ho()&&!!so()}function Di(){return ni()?Xe.reactNative:ho()?Xe.node:Ci()?Xe.browser:Xe.unknown}function Hv(){var f;try{return ni()&&typeof ne<"u"&&typeof(ne==null?void 0:ne.Application)<"u"?(f=ne.Application)==null?void 0:f.applicationId:void 0}catch{return}}function jv(f,s){let h=Ii.parse(f);return h=f0(f0({},h),s),f=Ii.stringify(h),f}function Vv(){return Yu()||{name:"",description:"",url:"",icons:[""]}}function Gv(){if(Di()===Xe.reactNative&&typeof ne<"u"&&typeof(ne==null?void 0:ne.Platform)<"u"){const{OS:h,Version:o}=ne.Platform;return[h,o].join("-")}const f=hl();if(f===null)return"unknown";const s=f.os?f.os.replace(" ","").toLowerCase():"unknown";return f.type==="browser"?[s,f.name,f.version].join("-"):[s,f.version].join("-")}function Zv(){var f;const s=Di();return s===Xe.browser?[s,((f=Wu())==null?void 0:f.host)||"unknown"].join(":"):s}function Wv(f,s,h){const o=Gv(),p=Zv();return[[f,s].join("-"),[Kv,h].join("-"),o,p].join("/")}function Yv({protocol:f,version:s,relayUrl:h,sdkVersion:o,auth:p,projectId:i,useOnCloseEvent:M,bundleId:w}){const y=h.split("?"),g=Wv(f,s,o),m={auth:p,ua:g,projectId:i,useOnCloseEvent:M||void 0,origin:w||void 0},_=jv(y[1]||"",m);return y[0]+"?"+_}function Fr(f,s){return f.filter(h=>s.includes(h)).length===f.length}function rc(f){return Object.fromEntries(f.entries())}function ic(f){return new Map(Object.entries(f))}function Yr(f=Ot.FIVE_MINUTES,s){const h=Ot.toMiliseconds(f||Ot.FIVE_MINUTES);let o,p,i;return{resolve:M=>{i&&o&&(clearTimeout(i),o(M))},reject:M=>{i&&p&&(clearTimeout(i),p(M))},done:()=>new Promise((M,w)=>{i=setTimeout(()=>{w(new Error(s))},h),o=M,p=w})}}function Ri(f,s,h){return new Promise(async(o,p)=>{const i=setTimeout(()=>p(new Error(h)),s);try{const M=await f;o(M)}catch(M){p(M)}clearTimeout(i)})}function nc(f,s){if(typeof s=="string"&&s.startsWith(`${f}:`))return s;if(f.toLowerCase()==="topic"){if(typeof s!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${s}`}else if(f.toLowerCase()==="id"){if(typeof s!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${s}`}throw new Error(`Unknown expirer target type: ${f}`)}function Jv(f){return nc("topic",f)}function Xv(f){return nc("id",f)}function sc(f){const[s,h]=f.split(":"),o={id:void 0,topic:void 0};if(s==="topic"&&typeof h=="string")o.topic=h;else if(s==="id"&&Number.isInteger(Number(h)))o.id=Number(h);else throw new Error(`Invalid target, expected id:number or topic:string, got ${s}:${h}`);return o}function lr(f,s){return Ot.fromMiliseconds((s||Date.now())+Ot.toMiliseconds(f))}function Ir(f){return Date.now()>=Ot.toMiliseconds(f)}function Ie(f,s){return`${f}${s?`:${s}`:""}`}function oy(f=[],s=[]){return[...new Set([...f,...s])]}async function Qv({id:f,topic:s,wcDeepLink:h}){try{if(!h)return;const o=typeof h=="string"?JSON.parse(h):h;let p=o==null?void 0:o.href;if(typeof p!="string")return;p.endsWith("/")&&(p=p.slice(0,-1));const i=`${p}/wc?requestId=${f}&sessionTopic=${s}`,M=Di();M===Xe.browser?i.startsWith("https://")?window.open(i,"_blank","noreferrer noopener"):window.open(i,"_self","noreferrer noopener"):M===Xe.reactNative&&typeof(ne==null?void 0:ne.Linking)<"u"&&await ne.Linking.openURL(i)}catch(o){console.error(o)}}const tm="irn";function Na(f){return(f==null?void 0:f.relay)||{protocol:tm}}function sn(f){const s=Rv[f];if(typeof s>"u")throw new Error(`Relay Protocol not supported: ${f}`);return s}var em=Object.defineProperty,h0=Object.getOwnPropertySymbols,rm=Object.prototype.hasOwnProperty,im=Object.prototype.propertyIsEnumerable,u0=(f,s,h)=>s in f?em(f,s,{enumerable:!0,configurable:!0,writable:!0,value:h}):f[s]=h,nm=(f,s)=>{for(var h in s||(s={}))rm.call(s,h)&&u0(f,h,s[h]);if(h0)for(var h of h0(s))im.call(s,h)&&u0(f,h,s[h]);return f};function sm(f,s="-"){const h={},o="relay"+s;return Object.keys(f).forEach(p=>{if(p.startsWith(o)){const i=p.replace(o,""),M=f[p];h[i]=M}}),h}function am(f){f=f.includes("wc://")?f.replace("wc://",""):f,f=f.includes("wc:")?f.replace("wc:",""):f;const s=f.indexOf(":"),h=f.indexOf("?")!==-1?f.indexOf("?"):void 0,o=f.substring(0,s),p=f.substring(s+1,h).split("@"),i=typeof h<"u"?f.substring(h):"",M=Ii.parse(i);return{protocol:o,topic:om(p[0]),version:parseInt(p[1],10),symKey:M.symKey,relay:sm(M)}}function om(f){return f.startsWith("//")?f.substring(2):f}function fm(f,s="-"){const h="relay",o={};return Object.keys(f).forEach(p=>{const i=h+s+p;f[p]&&(o[i]=f[p])}),o}function hm(f){return`${f.protocol}:${f.topic}@${f.version}?`+Ii.stringify(nm({symKey:f.symKey},fm(f.relay)))}function si(f){const s=[];return f.forEach(h=>{const[o,p]=h.split(":");s.push(`${o}:${p}`)}),s}function um(f){const s=[];return Object.values(f).forEach(h=>{s.push(...si(h.accounts))}),s}function cm(f,s){const h=[];return Object.values(f).forEach(o=>{si(o.accounts).includes(s)&&h.push(...o.methods)}),h}function lm(f,s){const h=[];return Object.values(f).forEach(o=>{si(o.accounts).includes(s)&&h.push(...o.events)}),h}function dm(f,s){const h=an(f,s);if(h)throw new Error(h.message);const o={};for(const[p,i]of Object.entries(f))o[p]={methods:i.methods,events:i.events,chains:i.accounts.map(M=>`${M.split(":")[0]}:${M.split(":")[1]}`)};return o}function pm(f){return f.includes(":")}function fy(f){return pm(f)?f.split(":")[0]:f}const vm={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},mm={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Tt(f,s){const{message:h,code:o}=mm[f];return{message:s?`${h} ${s}`:h,code:o}}function Te(f,s){const{message:h,code:o}=vm[f];return{message:s?`${h} ${s}`:h,code:o}}function Li(f,s){return Array.isArray(f)?typeof s<"u"&&f.length?f.every(s):!0:!1}function Ei(f){return Object.getPrototypeOf(f)===Object.prototype&&Object.keys(f).length}function Ke(f){return typeof f>"u"}function Ne(f,s){return s&&Ke(f)?!0:typeof f=="string"&&!!f.trim().length}function uo(f,s){return s&&Ke(f)?!0:typeof f=="number"&&!isNaN(f)}function gm(f,s){const{requiredNamespaces:h}=s,o=Object.keys(f.namespaces),p=Object.keys(h);let i=!0;return Fr(p,o)?(o.forEach(M=>{const{accounts:w,methods:y,events:g}=f.namespaces[M],m=si(w),_=h[M];(!Fr(Xu(M,_),m)||!Fr(_.methods,y)||!Fr(_.events,g))&&(i=!1)}),i):!1}function ln(f){return Ne(f,!1)&&f.includes(":")?f.split(":").length===2:!1}function bm(f){if(Ne(f,!1)&&f.includes(":")){const s=f.split(":");if(s.length===3){const h=s[0]+":"+s[1];return!!s[2]&&ln(h)}}return!1}function ym(f){if(Ne(f,!1))try{return typeof new URL(f)<"u"}catch{return!1}return!1}function wm(f){var s;return(s=f==null?void 0:f.proposer)==null?void 0:s.publicKey}function Mm(f){return f==null?void 0:f.topic}function _m(f,s){let h=null;return Ne(f==null?void 0:f.publicKey,!1)||(h=Tt("MISSING_OR_INVALID",`${s} controller public key should be a string`)),h}function c0(f){let s=!0;return Li(f)?f.length&&(s=f.every(h=>Ne(h,!1))):s=!1,s}function xm(f,s,h){let o=null;return Li(s)&&s.length?s.forEach(p=>{o||ln(p)||(o=Te("UNSUPPORTED_CHAINS",`${h}, chain ${p} should be a string and conform to "namespace:chainId" format`))}):ln(f)||(o=Te("UNSUPPORTED_CHAINS",`${h}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),o}function Em(f,s,h){let o=null;return Object.entries(f).forEach(([p,i])=>{if(o)return;const M=xm(p,Xu(p,i),`${s} ${h}`);M&&(o=M)}),o}function Sm(f,s){let h=null;return Li(f)?f.forEach(o=>{h||bm(o)||(h=Te("UNSUPPORTED_ACCOUNTS",`${s}, account ${o} should be a string and conform to "namespace:chainId:address" format`))}):h=Te("UNSUPPORTED_ACCOUNTS",`${s}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),h}function Am(f,s){let h=null;return Object.values(f).forEach(o=>{if(h)return;const p=Sm(o==null?void 0:o.accounts,`${s} namespace`);p&&(h=p)}),h}function Im(f,s){let h=null;return c0(f==null?void 0:f.methods)?c0(f==null?void 0:f.events)||(h=Te("UNSUPPORTED_EVENTS",`${s}, events should be an array of strings or empty array for no events`)):h=Te("UNSUPPORTED_METHODS",`${s}, methods should be an array of strings or empty array for no methods`),h}function ac(f,s){let h=null;return Object.values(f).forEach(o=>{if(h)return;const p=Im(o,`${s}, namespace`);p&&(h=p)}),h}function Rm(f,s,h){let o=null;if(f&&Ei(f)){const p=ac(f,s);p&&(o=p);const i=Em(f,s,h);i&&(o=i)}else o=Tt("MISSING_OR_INVALID",`${s}, ${h} should be an object with data`);return o}function an(f,s){let h=null;if(f&&Ei(f)){const o=ac(f,s);o&&(h=o);const p=Am(f,s);p&&(h=p)}else h=Tt("MISSING_OR_INVALID",`${s}, namespaces should be an object with data`);return h}function oc(f){return Ne(f.protocol,!0)}function Bm(f,s){let h=!1;return s&&!f?h=!0:f&&Li(f)&&f.length&&f.forEach(o=>{h=oc(o)}),h}function Pm(f){return typeof f=="number"}function Ze(f){return typeof f<"u"&&typeof f!==null}function Tm(f){return!(!f||typeof f!="object"||!f.code||!uo(f.code,!1)||!f.message||!Ne(f.message,!1))}function Nm(f){return!(Ke(f)||!Ne(f.method,!1))}function Om(f){return!(Ke(f)||Ke(f.result)&&Ke(f.error)||!uo(f.id,!1)||!Ne(f.jsonrpc,!1))}function qm(f){return!(Ke(f)||!Ne(f.name,!1))}function l0(f,s){return!(!ln(s)||!um(f).includes(s))}function Cm(f,s,h){return Ne(h,!1)?cm(f,s).includes(h):!1}function Dm(f,s,h){return Ne(h,!1)?lm(f,s).includes(h):!1}function d0(f,s,h){let o=null;const p=Lm(f),i=km(s),M=Object.keys(p),w=Object.keys(i),y=p0(Object.keys(f)),g=p0(Object.keys(s)),m=y.filter(_=>!g.includes(_));return m.length&&(o=Tt("NON_CONFORMING_NAMESPACES",`${h} namespaces keys don't satisfy requiredNamespaces.
      Required: ${m.toString()}
      Received: ${Object.keys(s).toString()}`)),Fr(M,w)||(o=Tt("NON_CONFORMING_NAMESPACES",`${h} namespaces chains don't satisfy required namespaces.
      Required: ${M.toString()}
      Approved: ${w.toString()}`)),Object.keys(s).forEach(_=>{if(!_.includes(":")||o)return;const x=si(s[_].accounts);x.includes(_)||(o=Tt("NON_CONFORMING_NAMESPACES",`${h} namespaces accounts don't satisfy namespace accounts for ${_}
        Required: ${_}
        Approved: ${x.toString()}`))}),M.forEach(_=>{o||(Fr(p[_].methods,i[_].methods)?Fr(p[_].events,i[_].events)||(o=Tt("NON_CONFORMING_NAMESPACES",`${h} namespaces events don't satisfy namespace events for ${_}`)):o=Tt("NON_CONFORMING_NAMESPACES",`${h} namespaces methods don't satisfy namespace methods for ${_}`))}),o}function Lm(f){const s={};return Object.keys(f).forEach(h=>{var o;h.includes(":")?s[h]=f[h]:(o=f[h].chains)==null||o.forEach(p=>{s[p]={methods:f[h].methods,events:f[h].events}})}),s}function p0(f){return[...new Set(f.map(s=>s.includes(":")?s.split(":")[0]:s))]}function km(f){const s={};return Object.keys(f).forEach(h=>{if(h.includes(":"))s[h]=f[h];else{const o=si(f[h].accounts);o==null||o.forEach(p=>{s[p]={accounts:f[h].accounts.filter(i=>i.includes(`${p}:`)),methods:f[h].methods,events:f[h].events}})}}),s}function Um(f,s){return uo(f,!1)&&f<=s.max&&f>=s.min}function v0(){const f=Di();return new Promise(s=>{switch(f){case Xe.browser:s(Fm());break;case Xe.reactNative:s(zm());break;case Xe.node:s($m());break;default:s(!0)}})}function Fm(){return Ci()&&(navigator==null?void 0:navigator.onLine)}async function zm(){if(ni()&&typeof ne<"u"&&ne!=null&&ne.NetInfo){const f=await(ne==null?void 0:ne.NetInfo.fetch());return f==null?void 0:f.isConnected}return!0}function $m(){return!0}function Km(f){switch(Di()){case Xe.browser:Hm(f);break;case Xe.reactNative:jm(f);break}}function Hm(f){!ni()&&Ci()&&(window.addEventListener("online",()=>f(!0)),window.addEventListener("offline",()=>f(!1)))}function jm(f){var s;ni()&&typeof ne<"u"&&ne!=null&&ne.NetInfo&&((s=ne)==null||s.NetInfo.addEventListener(h=>f(h==null?void 0:h.isConnected)))}const va={};class tn{static get(s){return va[s]}static set(s,h){va[s]=h}static delete(s){delete va[s]}}const Vm="PARSE_ERROR",Gm="INVALID_REQUEST",Zm="METHOD_NOT_FOUND",Wm="INVALID_PARAMS",fc="INTERNAL_ERROR",co="SERVER_ERROR",Ym=[-32700,-32600,-32601,-32602,-32603],Si={[Vm]:{code:-32700,message:"Parse error"},[Gm]:{code:-32600,message:"Invalid Request"},[Zm]:{code:-32601,message:"Method not found"},[Wm]:{code:-32602,message:"Invalid params"},[fc]:{code:-32603,message:"Internal error"},[co]:{code:-32e3,message:"Server error"}},hc=co;function Jm(f){return Ym.includes(f)}function m0(f){return Object.keys(Si).includes(f)?Si[f]:Si[hc]}function Xm(f){const s=Object.values(Si).find(h=>h.code===f);return s||Si[hc]}function Qm(f,s,h){return f.message.includes("getaddrinfo ENOTFOUND")||f.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${h} RPC url at ${s}`):f}var uc={},yr={},g0;function tg(){if(g0)return yr;g0=1,Object.defineProperty(yr,"__esModule",{value:!0}),yr.isBrowserCryptoAvailable=yr.getSubtleCrypto=yr.getBrowerCrypto=void 0;function f(){return(Zt===null||Zt===void 0?void 0:Zt.crypto)||(Zt===null||Zt===void 0?void 0:Zt.msCrypto)||{}}yr.getBrowerCrypto=f;function s(){const o=f();return o.subtle||o.webkitSubtle}yr.getSubtleCrypto=s;function h(){return!!f()&&!!s()}return yr.isBrowserCryptoAvailable=h,yr}var wr={},b0;function eg(){if(b0)return wr;b0=1,Object.defineProperty(wr,"__esModule",{value:!0}),wr.isBrowser=wr.isNode=wr.isReactNative=void 0;function f(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}wr.isReactNative=f;function s(){return typeof or.exports<"u"&&typeof or.exports.versions<"u"&&typeof or.exports.versions.node<"u"}wr.isNode=s;function h(){return!f()&&!s()}return wr.isBrowser=h,wr}(function(f){Object.defineProperty(f,"__esModule",{value:!0});const s=gr.exports;s.__exportStar(tg(),f),s.__exportStar(eg(),f)})(uc);function lo(f=3){const s=Date.now()*Math.pow(10,f),h=Math.floor(Math.random()*Math.pow(10,f));return s+h}function cc(f=6){return BigInt(lo(f))}function Qr(f,s,h){return{id:h||lo(),jsonrpc:"2.0",method:f,params:s}}function po(f,s){return{id:f,jsonrpc:"2.0",result:s}}function vo(f,s,h){return{id:f,jsonrpc:"2.0",error:rg(s,h)}}function rg(f,s){return typeof f>"u"?m0(fc):(typeof f=="string"&&(f=Object.assign(Object.assign({},m0(co)),{message:f})),typeof s<"u"&&(f.data=s),Jm(f.code)&&(f=Xm(f.code)),f)}class ig{}class ng extends ig{constructor(){super()}}class sg extends ng{constructor(s){super()}}const ag="^https?:",og="^wss?:";function fg(f){const s=f.match(new RegExp(/^\w+:/,"gi"));if(!(!s||!s.length))return s[0]}function lc(f,s){const h=fg(f);return typeof h>"u"?!1:new RegExp(s).test(h)}function hy(f){return lc(f,ag)}function y0(f){return lc(f,og)}function hg(f){return new RegExp("wss?://localhost(:d{2,5})?").test(f)}function dc(f){return typeof f=="object"&&"id"in f&&"jsonrpc"in f&&f.jsonrpc==="2.0"}function mo(f){return dc(f)&&"method"in f}function In(f){return dc(f)&&(xr(f)||dr(f))}function xr(f){return"result"in f}function dr(f){return"error"in f}class ug extends sg{constructor(s){super(s),this.events=new Qe.exports.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(s),this.connection.connected&&this.registerEventListeners()}async connect(s=this.connection){await this.open(s)}async disconnect(){await this.close()}on(s,h){this.events.on(s,h)}once(s,h){this.events.once(s,h)}off(s,h){this.events.off(s,h)}removeListener(s,h){this.events.removeListener(s,h)}async request(s,h){return this.requestStrict(Qr(s.method,s.params||[],s.id||cc().toString()),h)}async requestStrict(s,h){return new Promise(async(o,p)=>{if(!this.connection.connected)try{await this.open()}catch(i){p(i)}this.events.on(`${s.id}`,i=>{dr(i)?p(i.error):o(i.result)});try{await this.connection.send(s,h)}catch(i){p(i)}})}setConnection(s=this.connection){return s}onPayload(s){this.events.emit("payload",s),In(s)?this.events.emit(`${s.id}`,s):this.events.emit("message",{type:s.method,data:s.params})}onClose(s){s&&s.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${s.code} ${s.reason?`(${s.reason})`:""}`)),this.events.emit("disconnect")}async open(s=this.connection){this.connection===s&&this.connection.connected||(this.connection.connected&&this.close(),typeof s=="string"&&(await this.connection.open(s),s=this.connection),this.connection=this.setConnection(s),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",s=>this.onPayload(s)),this.connection.on("close",s=>this.onClose(s)),this.connection.on("error",s=>this.events.emit("error",s)),this.connection.on("register_error",s=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const cg=()=>typeof WebSocket<"u"?WebSocket:typeof ne<"u"&&typeof ne.WebSocket<"u"?ne.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),lg=()=>typeof WebSocket<"u"||typeof ne<"u"&&typeof ne.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",w0=f=>f.split("?")[0],M0=10,dg=cg();class pg{constructor(s){if(this.url=s,this.events=new Qe.exports.EventEmitter,this.registering=!1,!y0(s))throw new Error(`Provided URL is not compatible with WebSocket connection: ${s}`);this.url=s}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(s,h){this.events.on(s,h)}once(s,h){this.events.once(s,h)}off(s,h){this.events.off(s,h)}removeListener(s,h){this.events.removeListener(s,h)}async open(s=this.url){await this.register(s)}async close(){return new Promise((s,h)=>{if(typeof this.socket>"u"){h(new Error("Connection already closed"));return}this.socket.onclose=o=>{this.onClose(o),s()},this.socket.close()})}async send(s){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Pi(s))}catch(h){this.onError(s.id,h)}}register(s=this.url){if(!y0(s))throw new Error(`Provided URL is not compatible with WebSocket connection: ${s}`);if(this.registering){const h=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=h||this.events.listenerCount("open")>=h)&&this.events.setMaxListeners(h+1),new Promise((o,p)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),p(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return p(new Error("WebSocket connection is missing or invalid"));o(this.socket)})})}return this.url=s,this.registering=!0,new Promise((h,o)=>{const p=new URLSearchParams(s).get("origin"),i=uc.isReactNative()?{headers:{origin:p}}:{rejectUnauthorized:!hg(s)},M=new dg(s,[],i);lg()?M.onerror=w=>{const y=w;o(this.emitError(y.error))}:M.on("error",w=>{o(this.emitError(w))}),M.onopen=()=>{this.onOpen(M),h(M)}})}onOpen(s){s.onmessage=h=>this.onPayload(h),s.onclose=h=>this.onClose(h),this.socket=s,this.registering=!1,this.events.emit("open")}onClose(s){this.socket=void 0,this.registering=!1,this.events.emit("close",s)}onPayload(s){if(typeof s.data>"u")return;const h=typeof s.data=="string"?dn(s.data):s.data;this.events.emit("payload",h)}onError(s,h){const o=this.parseError(h),p=o.message||o.toString(),i=vo(s,p);this.events.emit("payload",i)}parseError(s,h=this.url){return Qm(s,w0(h),"WS")}resetMaxListeners(){this.events.getMaxListeners()>M0&&this.events.setMaxListeners(M0)}emitError(s){const h=this.parseError(new Error((s==null?void 0:s.message)||`WebSocket connection failed for host: ${w0(this.url)}`));return this.events.emit("register_error",h),h}}var Oa={exports:{}};(function(f,s){var h=200,o="__lodash_hash_undefined__",p=1,i=2,M=9007199254740991,w="[object Arguments]",y="[object Array]",g="[object AsyncFunction]",m="[object Boolean]",_="[object Date]",x="[object Error]",E="[object Function]",S="[object GeneratorFunction]",R="[object Map]",P="[object Number]",O="[object Null]",B="[object Object]",C="[object Promise]",T="[object Proxy]",F="[object RegExp]",D="[object Set]",I="[object String]",k="[object Symbol]",K="[object Undefined]",Y="[object WeakMap]",d="[object ArrayBuffer]",t="[object DataView]",r="[object Float32Array]",n="[object Float64Array]",a="[object Int8Array]",l="[object Int16Array]",v="[object Int32Array]",b="[object Uint8Array]",u="[object Uint8ClampedArray]",e="[object Uint16Array]",c="[object Uint32Array]",q=/[\\^$.*+?()[\]{}|]/g,N=/^\[object .+?Constructor\]$/,L=/^(?:0|[1-9]\d*)$/,$={};$[r]=$[n]=$[a]=$[l]=$[v]=$[b]=$[u]=$[e]=$[c]=!0,$[w]=$[y]=$[d]=$[m]=$[t]=$[_]=$[x]=$[E]=$[R]=$[P]=$[B]=$[F]=$[D]=$[I]=$[Y]=!1;var V=typeof Zt=="object"&&Zt&&Zt.Object===Object&&Zt,z=typeof self=="object"&&self&&self.Object===Object&&self,G=V||z||Function("return this")(),U=s&&!s.nodeType&&s,A=U&&!0&&f&&!f.nodeType&&f,j=A&&A.exports===U,Z=j&&V.process,W=function(){try{return Z&&Z.binding&&Z.binding("util")}catch{}}(),Dt=W&&W.isTypedArray;function at(H,J){for(var Pt=-1,Nt=H==null?0:H.length,xe=0,Ht=[];++Pt<Nt;){var Ae=H[Pt];J(Ae,Pt,H)&&(Ht[xe++]=Ae)}return Ht}function nt(H,J){for(var Pt=-1,Nt=J.length,xe=H.length;++Pt<Nt;)H[xe+Pt]=J[Pt];return H}function Ft(H,J){for(var Pt=-1,Nt=H==null?0:H.length;++Pt<Nt;)if(J(H[Pt],Pt,H))return!0;return!1}function lt(H,J){for(var Pt=-1,Nt=Array(H);++Pt<H;)Nt[Pt]=J(Pt);return Nt}function ut(H){return function(J){return H(J)}}function kt(H,J){return H.has(J)}function st(H,J){return H==null?void 0:H[J]}function it(H){var J=-1,Pt=Array(H.size);return H.forEach(function(Nt,xe){Pt[++J]=[xe,Nt]}),Pt}function Ct(H,J){return function(Pt){return H(J(Pt))}}function et(H){var J=-1,Pt=Array(H.size);return H.forEach(function(Nt){Pt[++J]=Nt}),Pt}var tt=Array.prototype,qt=Function.prototype,X=Object.prototype,rt=G["__core-js_shared__"],Lt=qt.toString,Q=X.hasOwnProperty,ot=function(){var H=/[^.]+$/.exec(rt&&rt.keys&&rt.keys.IE_PROTO||"");return H?"Symbol(src)_1."+H:""}(),Ut=X.toString,ft=RegExp("^"+Lt.call(Q).replace(q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ht=j?G.Buffer:void 0,zt=G.Symbol,Et=G.Uint8Array,St=X.propertyIsEnumerable,ae=tt.splice,xt=zt?zt.toStringTag:void 0,At=Object.getOwnPropertySymbols,Ee=ht?ht.isBuffer:void 0,It=Ct(Object.keys,Object),dt=Gr(G,"DataView"),Gt=Gr(G,"Map"),pt=Gr(G,"Promise"),vt=Gr(G,"Set"),Wt=Gr(G,"WeakMap"),ct=Gr(Object,"create"),bt=Nr(dt),Yt=Nr(Gt),yt=Nr(pt),wt=Nr(vt),Jt=Nr(Wt),gt=zt?zt.prototype:void 0,mt=gt?gt.valueOf:void 0;function $t(H){var J=-1,Pt=H==null?0:H.length;for(this.clear();++J<Pt;){var Nt=H[J];this.set(Nt[0],Nt[1])}}function Mt(){this.__data__=ct?ct(null):{},this.size=0}function _t(H){var J=this.has(H)&&delete this.__data__[H];return this.size-=J?1:0,J}function Re(H){var J=this.__data__;if(ct){var Pt=J[H];return Pt===o?void 0:Pt}return Q.call(J,H)?J[H]:void 0}function Rt(H){var J=this.__data__;return ct?J[H]!==void 0:Q.call(J,H)}function Bt(H,J){var Pt=this.__data__;return this.size+=this.has(H)?0:1,Pt[H]=ct&&J===void 0?o:J,this}$t.prototype.clear=Mt,$t.prototype.delete=_t,$t.prototype.get=Re,$t.prototype.has=Rt,$t.prototype.set=Bt;function Xt(H){var J=-1,Pt=H==null?0:H.length;for(this.clear();++J<Pt;){var Nt=H[J];this.set(Nt[0],Nt[1])}}function fe(){this.__data__=[],this.size=0}function he(H){var J=this.__data__,Pt=Ui(J,H);if(Pt<0)return!1;var Nt=J.length-1;return Pt==Nt?J.pop():ae.call(J,Pt,1),--this.size,!0}function ue(H){var J=this.__data__,Pt=Ui(J,H);return Pt<0?void 0:J[Pt][1]}function ce(H){return Ui(this.__data__,H)>-1}function le(H,J){var Pt=this.__data__,Nt=Ui(Pt,H);return Nt<0?(++this.size,Pt.push([H,J])):Pt[Nt][1]=J,this}Xt.prototype.clear=fe,Xt.prototype.delete=he,Xt.prototype.get=ue,Xt.prototype.has=ce,Xt.prototype.set=le;function ee(H){var J=-1,Pt=H==null?0:H.length;for(this.clear();++J<Pt;){var Nt=H[J];this.set(Nt[0],Nt[1])}}function de(){this.size=0,this.__data__={hash:new $t,map:new(Gt||Xt),string:new $t}}function pe(H){var J=Fi(this,H).delete(H);return this.size-=J?1:0,J}function ve(H){return Fi(this,H).get(H)}function me(H){return Fi(this,H).has(H)}function ge(H,J){var Pt=Fi(this,H),Nt=Pt.size;return Pt.set(H,J),this.size+=Pt.size==Nt?0:1,this}ee.prototype.clear=de,ee.prototype.delete=pe,ee.prototype.get=ve,ee.prototype.has=me,ee.prototype.set=ge;function ie(H){var J=-1,Pt=H==null?0:H.length;for(this.__data__=new ee;++J<Pt;)this.add(H[J])}function be(H){return this.__data__.set(H,o),this}function ye(H){return this.__data__.has(H)}ie.prototype.add=ie.prototype.push=be,ie.prototype.has=ye;function te(H){var J=this.__data__=new Xt(H);this.size=J.size}function we(){this.__data__=new Xt,this.size=0}function Me(H){var J=this.__data__,Pt=J.delete(H);return this.size=J.size,Pt}function _e(H){return this.__data__.get(H)}function Tc(H){return this.__data__.has(H)}function Nc(H,J){var Pt=this.__data__;if(Pt instanceof Xt){var Nt=Pt.__data__;if(!Gt||Nt.length<h-1)return Nt.push([H,J]),this.size=++Pt.size,this;Pt=this.__data__=new ee(Nt)}return Pt.set(H,J),this.size=Pt.size,this}te.prototype.clear=we,te.prototype.delete=Me,te.prototype.get=_e,te.prototype.has=Tc,te.prototype.set=Nc;function Oc(H,J){var Pt=zi(H),Nt=!Pt&&Zc(H),xe=!Pt&&!Nt&&Pn(H),Ht=!Pt&&!Nt&&!xe&&Bo(H),Ae=Pt||Nt||xe||Ht,Be=Ae?lt(H.length,String):[],Oe=Be.length;for(var Se in H)(J||Q.call(H,Se))&&!(Ae&&(Se=="length"||xe&&(Se=="offset"||Se=="parent")||Ht&&(Se=="buffer"||Se=="byteLength"||Se=="byteOffset")||Kc(Se,Oe)))&&Be.push(Se);return Be}function Ui(H,J){for(var Pt=H.length;Pt--;)if(So(H[Pt][0],J))return Pt;return-1}function qc(H,J,Pt){var Nt=J(H);return zi(H)?Nt:nt(Nt,Pt(H))}function ai(H){return H==null?H===void 0?K:O:xt&&xt in Object(H)?zc(H):Gc(H)}function Mo(H){return oi(H)&&ai(H)==w}function _o(H,J,Pt,Nt,xe){return H===J?!0:H==null||J==null||!oi(H)&&!oi(J)?H!==H&&J!==J:Cc(H,J,Pt,Nt,_o,xe)}function Cc(H,J,Pt,Nt,xe,Ht){var Ae=zi(H),Be=zi(J),Oe=Ae?y:Sr(H),Se=Be?y:Sr(J);Oe=Oe==w?B:Oe,Se=Se==w?B:Se;var Ye=Oe==B,ur=Se==B,Ce=Oe==Se;if(Ce&&Pn(H)){if(!Pn(J))return!1;Ae=!0,Ye=!1}if(Ce&&!Ye)return Ht||(Ht=new te),Ae||Bo(H)?xo(H,J,Pt,Nt,xe,Ht):Uc(H,J,Oe,Pt,Nt,xe,Ht);if(!(Pt&p)){var er=Ye&&Q.call(H,"__wrapped__"),rr=ur&&Q.call(J,"__wrapped__");if(er||rr){var Ar=er?H.value():H,br=rr?J.value():J;return Ht||(Ht=new te),xe(Ar,br,Pt,Nt,Ht)}}return Ce?(Ht||(Ht=new te),Fc(H,J,Pt,Nt,xe,Ht)):!1}function Dc(H){if(!Ro(H)||jc(H))return!1;var J=Ao(H)?ft:N;return J.test(Nr(H))}function Lc(H){return oi(H)&&Io(H.length)&&!!$[ai(H)]}function kc(H){if(!Vc(H))return It(H);var J=[];for(var Pt in Object(H))Q.call(H,Pt)&&Pt!="constructor"&&J.push(Pt);return J}function xo(H,J,Pt,Nt,xe,Ht){var Ae=Pt&p,Be=H.length,Oe=J.length;if(Be!=Oe&&!(Ae&&Oe>Be))return!1;var Se=Ht.get(H);if(Se&&Ht.get(J))return Se==J;var Ye=-1,ur=!0,Ce=Pt&i?new ie:void 0;for(Ht.set(H,J),Ht.set(J,H);++Ye<Be;){var er=H[Ye],rr=J[Ye];if(Nt)var Ar=Ae?Nt(rr,er,Ye,J,H,Ht):Nt(er,rr,Ye,H,J,Ht);if(Ar!==void 0){if(Ar)continue;ur=!1;break}if(Ce){if(!Ft(J,function(br,Or){if(!kt(Ce,Or)&&(er===br||xe(er,br,Pt,Nt,Ht)))return Ce.push(Or)})){ur=!1;break}}else if(!(er===rr||xe(er,rr,Pt,Nt,Ht))){ur=!1;break}}return Ht.delete(H),Ht.delete(J),ur}function Uc(H,J,Pt,Nt,xe,Ht,Ae){switch(Pt){case t:if(H.byteLength!=J.byteLength||H.byteOffset!=J.byteOffset)return!1;H=H.buffer,J=J.buffer;case d:return!(H.byteLength!=J.byteLength||!Ht(new Et(H),new Et(J)));case m:case _:case P:return So(+H,+J);case x:return H.name==J.name&&H.message==J.message;case F:case I:return H==J+"";case R:var Be=it;case D:var Oe=Nt&p;if(Be||(Be=et),H.size!=J.size&&!Oe)return!1;var Se=Ae.get(H);if(Se)return Se==J;Nt|=i,Ae.set(H,J);var Ye=xo(Be(H),Be(J),Nt,xe,Ht,Ae);return Ae.delete(H),Ye;case k:if(mt)return mt.call(H)==mt.call(J)}return!1}function Fc(H,J,Pt,Nt,xe,Ht){var Ae=Pt&p,Be=Eo(H),Oe=Be.length,Se=Eo(J),Ye=Se.length;if(Oe!=Ye&&!Ae)return!1;for(var ur=Oe;ur--;){var Ce=Be[ur];if(!(Ae?Ce in J:Q.call(J,Ce)))return!1}var er=Ht.get(H);if(er&&Ht.get(J))return er==J;var rr=!0;Ht.set(H,J),Ht.set(J,H);for(var Ar=Ae;++ur<Oe;){Ce=Be[ur];var br=H[Ce],Or=J[Ce];if(Nt)var Po=Ae?Nt(Or,br,Ce,J,H,Ht):Nt(br,Or,Ce,H,J,Ht);if(!(Po===void 0?br===Or||xe(br,Or,Pt,Nt,Ht):Po)){rr=!1;break}Ar||(Ar=Ce=="constructor")}if(rr&&!Ar){var $i=H.constructor,Ki=J.constructor;$i!=Ki&&"constructor"in H&&"constructor"in J&&!(typeof $i=="function"&&$i instanceof $i&&typeof Ki=="function"&&Ki instanceof Ki)&&(rr=!1)}return Ht.delete(H),Ht.delete(J),rr}function Eo(H){return qc(H,Jc,$c)}function Fi(H,J){var Pt=H.__data__;return Hc(J)?Pt[typeof J=="string"?"string":"hash"]:Pt.map}function Gr(H,J){var Pt=st(H,J);return Dc(Pt)?Pt:void 0}function zc(H){var J=Q.call(H,xt),Pt=H[xt];try{H[xt]=void 0;var Nt=!0}catch{}var xe=Ut.call(H);return Nt&&(J?H[xt]=Pt:delete H[xt]),xe}var $c=At?function(H){return H==null?[]:(H=Object(H),at(At(H),function(J){return St.call(H,J)}))}:Xc,Sr=ai;(dt&&Sr(new dt(new ArrayBuffer(1)))!=t||Gt&&Sr(new Gt)!=R||pt&&Sr(pt.resolve())!=C||vt&&Sr(new vt)!=D||Wt&&Sr(new Wt)!=Y)&&(Sr=function(H){var J=ai(H),Pt=J==B?H.constructor:void 0,Nt=Pt?Nr(Pt):"";if(Nt)switch(Nt){case bt:return t;case Yt:return R;case yt:return C;case wt:return D;case Jt:return Y}return J});function Kc(H,J){return J=J==null?M:J,!!J&&(typeof H=="number"||L.test(H))&&H>-1&&H%1==0&&H<J}function Hc(H){var J=typeof H;return J=="string"||J=="number"||J=="symbol"||J=="boolean"?H!=="__proto__":H===null}function jc(H){return!!ot&&ot in H}function Vc(H){var J=H&&H.constructor,Pt=typeof J=="function"&&J.prototype||X;return H===Pt}function Gc(H){return Ut.call(H)}function Nr(H){if(H!=null){try{return Lt.call(H)}catch{}try{return H+""}catch{}}return""}function So(H,J){return H===J||H!==H&&J!==J}var Zc=Mo(function(){return arguments}())?Mo:function(H){return oi(H)&&Q.call(H,"callee")&&!St.call(H,"callee")},zi=Array.isArray;function Wc(H){return H!=null&&Io(H.length)&&!Ao(H)}var Pn=Ee||Qc;function Yc(H,J){return _o(H,J)}function Ao(H){if(!Ro(H))return!1;var J=ai(H);return J==E||J==S||J==g||J==T}function Io(H){return typeof H=="number"&&H>-1&&H%1==0&&H<=M}function Ro(H){var J=typeof H;return H!=null&&(J=="object"||J=="function")}function oi(H){return H!=null&&typeof H=="object"}var Bo=Dt?ut(Dt):Lc;function Jc(H){return Wc(H)?Oc(H):kc(H)}function Xc(){return[]}function Qc(){return!1}f.exports=Yc})(Oa,Oa.exports);const vg=Oa.exports;function mg(f,s){if(f.length>=255)throw new TypeError("Alphabet too long");for(var h=new Uint8Array(256),o=0;o<h.length;o++)h[o]=255;for(var p=0;p<f.length;p++){var i=f.charAt(p),M=i.charCodeAt(0);if(h[M]!==255)throw new TypeError(i+" is ambiguous");h[M]=p}var w=f.length,y=f.charAt(0),g=Math.log(w)/Math.log(256),m=Math.log(256)/Math.log(w);function _(S){if(S instanceof Uint8Array||(ArrayBuffer.isView(S)?S=new Uint8Array(S.buffer,S.byteOffset,S.byteLength):Array.isArray(S)&&(S=Uint8Array.from(S))),!(S instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(S.length===0)return"";for(var R=0,P=0,O=0,B=S.length;O!==B&&S[O]===0;)O++,R++;for(var C=(B-O)*m+1>>>0,T=new Uint8Array(C);O!==B;){for(var F=S[O],D=0,I=C-1;(F!==0||D<P)&&I!==-1;I--,D++)F+=256*T[I]>>>0,T[I]=F%w>>>0,F=F/w>>>0;if(F!==0)throw new Error("Non-zero carry");P=D,O++}for(var k=C-P;k!==C&&T[k]===0;)k++;for(var K=y.repeat(R);k<C;++k)K+=f.charAt(T[k]);return K}function x(S){if(typeof S!="string")throw new TypeError("Expected String");if(S.length===0)return new Uint8Array;var R=0;if(S[R]!==" "){for(var P=0,O=0;S[R]===y;)P++,R++;for(var B=(S.length-R)*g+1>>>0,C=new Uint8Array(B);S[R];){var T=h[S.charCodeAt(R)];if(T===255)return;for(var F=0,D=B-1;(T!==0||F<O)&&D!==-1;D--,F++)T+=w*C[D]>>>0,C[D]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");O=F,R++}if(S[R]!==" "){for(var I=B-O;I!==B&&C[I]===0;)I++;for(var k=new Uint8Array(P+(B-I)),K=P;I!==B;)k[K++]=C[I++];return k}}}function E(S){var R=x(S);if(R)return R;throw new Error(`Non-${s} character`)}return{encode:_,decodeUnsafe:x,decode:E}}var gg=mg,bg=gg;const pc=f=>{if(f instanceof Uint8Array&&f.constructor.name==="Uint8Array")return f;if(f instanceof ArrayBuffer)return new Uint8Array(f);if(ArrayBuffer.isView(f))return new Uint8Array(f.buffer,f.byteOffset,f.byteLength);throw new Error("Unknown type, must be binary type")},yg=f=>new TextEncoder().encode(f),wg=f=>new TextDecoder().decode(f);class Mg{constructor(s,h,o){this.name=s,this.prefix=h,this.baseEncode=o}encode(s){if(s instanceof Uint8Array)return`${this.prefix}${this.baseEncode(s)}`;throw Error("Unknown type, must be binary type")}}class _g{constructor(s,h,o){if(this.name=s,this.prefix=h,h.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=h.codePointAt(0),this.baseDecode=o}decode(s){if(typeof s=="string"){if(s.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(s)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(s.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(s){return vc(this,s)}}class xg{constructor(s){this.decoders=s}or(s){return vc(this,s)}decode(s){const h=s[0],o=this.decoders[h];if(o)return o.decode(s);throw RangeError(`Unable to decode multibase string ${JSON.stringify(s)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const vc=(f,s)=>new xg({...f.decoders||{[f.prefix]:f},...s.decoders||{[s.prefix]:s}});class Eg{constructor(s,h,o,p){this.name=s,this.prefix=h,this.baseEncode=o,this.baseDecode=p,this.encoder=new Mg(s,h,o),this.decoder=new _g(s,h,p)}encode(s){return this.encoder.encode(s)}decode(s){return this.decoder.decode(s)}}const Rn=({name:f,prefix:s,encode:h,decode:o})=>new Eg(f,s,h,o),ki=({prefix:f,name:s,alphabet:h})=>{const{encode:o,decode:p}=bg(h,s);return Rn({prefix:f,name:s,encode:o,decode:i=>pc(p(i))})},Sg=(f,s,h,o)=>{const p={};for(let m=0;m<s.length;++m)p[s[m]]=m;let i=f.length;for(;f[i-1]==="=";)--i;const M=new Uint8Array(i*h/8|0);let w=0,y=0,g=0;for(let m=0;m<i;++m){const _=p[f[m]];if(_===void 0)throw new SyntaxError(`Non-${o} character`);y=y<<h|_,w+=h,w>=8&&(w-=8,M[g++]=255&y>>w)}if(w>=h||255&y<<8-w)throw new SyntaxError("Unexpected end of data");return M},Ag=(f,s,h)=>{const o=s[s.length-1]==="=",p=(1<<h)-1;let i="",M=0,w=0;for(let y=0;y<f.length;++y)for(w=w<<8|f[y],M+=8;M>h;)M-=h,i+=s[p&w>>M];if(M&&(i+=s[p&w<<h-M]),o)for(;i.length*h&7;)i+="=";return i},qe=({name:f,prefix:s,bitsPerChar:h,alphabet:o})=>Rn({prefix:s,name:f,encode(p){return Ag(p,o,h)},decode(p){return Sg(p,o,h,f)}}),Ig=Rn({prefix:"\0",name:"identity",encode:f=>wg(f),decode:f=>yg(f)});var Rg=Object.freeze({__proto__:null,identity:Ig});const Bg=qe({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Pg=Object.freeze({__proto__:null,base2:Bg});const Tg=qe({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Ng=Object.freeze({__proto__:null,base8:Tg});const Og=ki({prefix:"9",name:"base10",alphabet:"0123456789"});var qg=Object.freeze({__proto__:null,base10:Og});const Cg=qe({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Dg=qe({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Lg=Object.freeze({__proto__:null,base16:Cg,base16upper:Dg});const kg=qe({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Ug=qe({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Fg=qe({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),zg=qe({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),$g=qe({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Kg=qe({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Hg=qe({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),jg=qe({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Vg=qe({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Gg=Object.freeze({__proto__:null,base32:kg,base32upper:Ug,base32pad:Fg,base32padupper:zg,base32hex:$g,base32hexupper:Kg,base32hexpad:Hg,base32hexpadupper:jg,base32z:Vg});const Zg=ki({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Wg=ki({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Yg=Object.freeze({__proto__:null,base36:Zg,base36upper:Wg});const Jg=ki({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Xg=ki({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Qg=Object.freeze({__proto__:null,base58btc:Jg,base58flickr:Xg});const t2=qe({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),e2=qe({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),r2=qe({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),i2=qe({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var n2=Object.freeze({__proto__:null,base64:t2,base64pad:e2,base64url:r2,base64urlpad:i2});const mc=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),s2=mc.reduce((f,s,h)=>(f[h]=s,f),[]),a2=mc.reduce((f,s,h)=>(f[s.codePointAt(0)]=h,f),[]);function o2(f){return f.reduce((s,h)=>(s+=s2[h],s),"")}function f2(f){const s=[];for(const h of f){const o=a2[h.codePointAt(0)];if(o===void 0)throw new Error(`Non-base256emoji character: ${h}`);s.push(o)}return new Uint8Array(s)}const h2=Rn({prefix:"\u{1F680}",name:"base256emoji",encode:o2,decode:f2});var u2=Object.freeze({__proto__:null,base256emoji:h2}),c2=gc,_0=128,l2=127,d2=~l2,p2=Math.pow(2,31);function gc(f,s,h){s=s||[],h=h||0;for(var o=h;f>=p2;)s[h++]=f&255|_0,f/=128;for(;f&d2;)s[h++]=f&255|_0,f>>>=7;return s[h]=f|0,gc.bytes=h-o+1,s}var v2=qa,m2=128,x0=127;function qa(f,o){var h=0,o=o||0,p=0,i=o,M,w=f.length;do{if(i>=w)throw qa.bytes=0,new RangeError("Could not decode varint");M=f[i++],h+=p<28?(M&x0)<<p:(M&x0)*Math.pow(2,p),p+=7}while(M>=m2);return qa.bytes=i-o,h}var g2=Math.pow(2,7),b2=Math.pow(2,14),y2=Math.pow(2,21),w2=Math.pow(2,28),M2=Math.pow(2,35),_2=Math.pow(2,42),x2=Math.pow(2,49),E2=Math.pow(2,56),S2=Math.pow(2,63),A2=function(f){return f<g2?1:f<b2?2:f<y2?3:f<w2?4:f<M2?5:f<_2?6:f<x2?7:f<E2?8:f<S2?9:10},I2={encode:c2,decode:v2,encodingLength:A2},bc=I2;const E0=(f,s,h=0)=>(bc.encode(f,s,h),s),S0=f=>bc.encodingLength(f),Ca=(f,s)=>{const h=s.byteLength,o=S0(f),p=o+S0(h),i=new Uint8Array(p+h);return E0(f,i,0),E0(h,i,o),i.set(s,p),new R2(f,h,s,i)};class R2{constructor(s,h,o,p){this.code=s,this.size=h,this.digest=o,this.bytes=p}}const yc=({name:f,code:s,encode:h})=>new B2(f,s,h);class B2{constructor(s,h,o){this.name=s,this.code=h,this.encode=o}digest(s){if(s instanceof Uint8Array){const h=this.encode(s);return h instanceof Uint8Array?Ca(this.code,h):h.then(o=>Ca(this.code,o))}else throw Error("Unknown type, must be binary type")}}const wc=f=>async s=>new Uint8Array(await crypto.subtle.digest(f,s)),P2=yc({name:"sha2-256",code:18,encode:wc("SHA-256")}),T2=yc({name:"sha2-512",code:19,encode:wc("SHA-512")});var N2=Object.freeze({__proto__:null,sha256:P2,sha512:T2});const Mc=0,O2="identity",_c=pc,q2=f=>Ca(Mc,_c(f)),C2={code:Mc,name:O2,encode:_c,digest:q2};var D2=Object.freeze({__proto__:null,identity:C2});new TextEncoder,new TextDecoder;const A0={...Rg,...Pg,...Ng,...qg,...Lg,...Gg,...Yg,...Qg,...n2,...u2};({...N2,...D2});function xc(f){return globalThis.Buffer!=null?new Uint8Array(f.buffer,f.byteOffset,f.byteLength):f}function L2(f=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?xc(globalThis.Buffer.allocUnsafe(f)):new Uint8Array(f)}function Ec(f,s,h,o){return{name:f,prefix:s,encoder:{name:f,prefix:s,encode:h},decoder:{decode:o}}}const I0=Ec("utf8","u",f=>"u"+new TextDecoder("utf8").decode(f),f=>new TextEncoder().encode(f.substring(1))),ma=Ec("ascii","a",f=>{let s="a";for(let h=0;h<f.length;h++)s+=String.fromCharCode(f[h]);return s},f=>{f=f.substring(1);const s=L2(f.length);for(let h=0;h<f.length;h++)s[h]=f.charCodeAt(h);return s}),k2={utf8:I0,"utf-8":I0,hex:A0.base16,latin1:ma,ascii:ma,binary:ma,...A0};function U2(f,s="utf8"){const h=k2[s];if(!h)throw new Error(`Unsupported encoding "${s}"`);return(s==="utf8"||s==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?xc(globalThis.Buffer.from(f,"utf-8")):h.decoder.decode(`${h.prefix}${f}`)}const Sc="wc",F2=2,go="core",Rr=`${Sc}@2:${go}:`,z2={name:go,logger:"error"},$2={database:":memory:"},K2="crypto",R0="client_ed25519_seed",H2=Ot.ONE_DAY,j2="keychain",V2="0.3",G2="messages",Z2="0.3",W2=Ot.SIX_HOURS,Y2="publisher",Ac="irn",J2="error",Ic="wss://relay.walletconnect.com",B0="wss://relay.walletconnect.org",X2="relayer",ze={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},Q2="_subscription",Mr={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},tb=Ot.ONE_SECOND,eb="2.10.5",rb=1e4,ib="0.3",nb="WALLETCONNECT_CLIENT_ID",cr={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},sb="subscription",ab="0.3",ob=Ot.FIVE_SECONDS*1e3,fb="pairing",hb="0.3",yi={wc_pairingDelete:{req:{ttl:Ot.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Ot.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Ot.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Ot.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Ot.ONE_DAY,prompt:!1,tag:0},res:{ttl:Ot.ONE_DAY,prompt:!1,tag:0}}},xi={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},mr={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},ub="history",cb="0.3",lb="expirer",ar={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},db="0.3",ga="verify-api",Jr="https://verify.walletconnect.com",Da="https://verify.walletconnect.org",pb=[Jr,Da];class vb{constructor(s,h){this.core=s,this.logger=h,this.keychain=new Map,this.name=j2,this.version=V2,this.initialized=!1,this.storagePrefix=Rr,this.init=async()=>{if(!this.initialized){const o=await this.getKeyChain();typeof o<"u"&&(this.keychain=o),this.initialized=!0}},this.has=o=>(this.isInitialized(),this.keychain.has(o)),this.set=async(o,p)=>{this.isInitialized(),this.keychain.set(o,p),await this.persist()},this.get=o=>{this.isInitialized();const p=this.keychain.get(o);if(typeof p>"u"){const{message:i}=Tt("NO_MATCHING_KEY",`${this.name}: ${o}`);throw new Error(i)}return p},this.del=async o=>{this.isInitialized(),this.keychain.delete(o),await this.persist()},this.core=s,this.logger=Qt.generateChildLogger(h,this.name)}get context(){return Qt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(s){await this.core.storage.setItem(this.storageKey,rc(s))}async getKeyChain(){const s=await this.core.storage.getItem(this.storageKey);return typeof s<"u"?ic(s):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:s}=Tt("NOT_INITIALIZED",this.name);throw new Error(s)}}}class mb{constructor(s,h,o){this.core=s,this.logger=h,this.name=K2,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=p=>(this.isInitialized(),this.keychain.has(p)),this.getClientId=async()=>{this.isInitialized();const p=await this.getClientSeed(),i=Xh(p);return $u(i.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const p=Tv();return this.setPrivateKey(p.publicKey,p.privateKey)},this.signJWT=async p=>{this.isInitialized();const i=await this.getClientSeed(),M=Xh(i),w=Ta();return await Jp(w,p,H2,M)},this.generateSharedKey=(p,i,M)=>{this.isInitialized();const w=this.getPrivateKey(p),y=Nv(w,i);return this.setSymKey(y,M)},this.setSymKey=async(p,i)=>{this.isInitialized();const M=i||Ov(p);return await this.keychain.set(M,p),M},this.deleteKeyPair=async p=>{this.isInitialized(),await this.keychain.del(p)},this.deleteSymKey=async p=>{this.isInitialized(),await this.keychain.del(p)},this.encode=async(p,i,M)=>{this.isInitialized();const w=ec(M),y=Pi(i);if(s0(w)){const x=w.senderPublicKey,E=w.receiverPublicKey;p=await this.generateSharedKey(x,E)}const g=this.getSymKey(p),{type:m,senderPublicKey:_}=w;return Cv({type:m,symKey:g,message:y,senderPublicKey:_})},this.decode=async(p,i,M)=>{this.isInitialized();const w=kv(i,M);if(s0(w)){const y=w.receiverPublicKey,g=w.senderPublicKey;p=await this.generateSharedKey(y,g)}try{const y=this.getSymKey(p),g=Dv({symKey:y,encoded:i});return dn(g)}catch(y){this.logger.error(`Failed to decode message from topic: '${p}', clientId: '${await this.getClientId()}'`),this.logger.error(y)}},this.getPayloadType=p=>{const i=cn(p);return qi(i.type)},this.getPayloadSenderPublicKey=p=>{const i=cn(p);return i.senderPublicKey?je(i.senderPublicKey,He):void 0},this.core=s,this.logger=Qt.generateChildLogger(h,this.name),this.keychain=o||new vb(this.core,this.logger)}get context(){return Qt.getLoggerContext(this.logger)}async setPrivateKey(s,h){return await this.keychain.set(s,h),s}getPrivateKey(s){return this.keychain.get(s)}async getClientSeed(){let s="";try{s=this.keychain.get(R0)}catch{s=Ta(),await this.keychain.set(R0,s)}return U2(s,"base16")}getSymKey(s){return this.keychain.get(s)}isInitialized(){if(!this.initialized){const{message:s}=Tt("NOT_INITIALIZED",this.name);throw new Error(s)}}}class gb extends ad{constructor(s,h){super(s,h),this.logger=s,this.core=h,this.messages=new Map,this.name=G2,this.version=Z2,this.initialized=!1,this.storagePrefix=Rr,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const o=await this.getRelayerMessages();typeof o<"u"&&(this.messages=o),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(o){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(o)}finally{this.initialized=!0}}},this.set=async(o,p)=>{this.isInitialized();const i=Xr(p);let M=this.messages.get(o);return typeof M>"u"&&(M={}),typeof M[i]<"u"||(M[i]=p,this.messages.set(o,M),await this.persist()),i},this.get=o=>{this.isInitialized();let p=this.messages.get(o);return typeof p>"u"&&(p={}),p},this.has=(o,p)=>{this.isInitialized();const i=this.get(o),M=Xr(p);return typeof i[M]<"u"},this.del=async o=>{this.isInitialized(),this.messages.delete(o),await this.persist()},this.logger=Qt.generateChildLogger(s,this.name),this.core=h}get context(){return Qt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(s){await this.core.storage.setItem(this.storageKey,rc(s))}async getRelayerMessages(){const s=await this.core.storage.getItem(this.storageKey);return typeof s<"u"?ic(s):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:s}=Tt("NOT_INITIALIZED",this.name);throw new Error(s)}}}class bb extends od{constructor(s,h){super(s,h),this.relayer=s,this.logger=h,this.events=new Qe.exports.EventEmitter,this.name=Y2,this.queue=new Map,this.publishTimeout=Ot.toMiliseconds(Ot.TEN_SECONDS),this.needsTransportRestart=!1,this.publish=async(o,p,i)=>{var M;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:o,message:p,opts:i}});try{const w=(i==null?void 0:i.ttl)||W2,y=Na(i),g=(i==null?void 0:i.prompt)||!1,m=(i==null?void 0:i.tag)||0,_=(i==null?void 0:i.id)||cc().toString(),x={topic:o,message:p,opts:{ttl:w,relay:y,prompt:g,tag:m,id:_}},E=setTimeout(()=>this.queue.set(_,x),this.publishTimeout);try{await await Ri(this.rpcPublish(o,p,w,y,g,m,_),this.publishTimeout,"Failed to publish payload, please try again."),this.removeRequestFromQueue(_),this.relayer.events.emit(ze.publish,x)}catch(S){if(this.logger.debug("Publishing Payload stalled"),this.needsTransportRestart=!0,(M=i==null?void 0:i.internal)!=null&&M.throwOnFailedPublish)throw this.removeRequestFromQueue(_),S;return}finally{clearTimeout(E)}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:o,message:p,opts:i}})}catch(w){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(w),w}},this.on=(o,p)=>{this.events.on(o,p)},this.once=(o,p)=>{this.events.once(o,p)},this.off=(o,p)=>{this.events.off(o,p)},this.removeListener=(o,p)=>{this.events.removeListener(o,p)},this.relayer=s,this.logger=Qt.generateChildLogger(h,this.name),this.registerEventListeners()}get context(){return Qt.getLoggerContext(this.logger)}rpcPublish(s,h,o,p,i,M,w){var y,g,m,_;const x={method:sn(p.protocol).publish,params:{topic:s,message:h,ttl:o,prompt:i,tag:M},id:w};return Ke((y=x.params)==null?void 0:y.prompt)&&((g=x.params)==null||delete g.prompt),Ke((m=x.params)==null?void 0:m.tag)&&((_=x.params)==null||delete _.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:x}),this.relayer.request(x)}removeRequestFromQueue(s){this.queue.delete(s)}checkQueue(){this.queue.forEach(async s=>{const{topic:h,message:o,opts:p}=s;await this.publish(h,o,p)})}registerEventListeners(){this.relayer.core.heartbeat.on(ti.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(ze.connection_stalled);return}this.checkQueue()}),this.relayer.on(ze.message_ack,s=>{this.removeRequestFromQueue(s.id.toString())})}}class yb{constructor(){this.map=new Map,this.set=(s,h)=>{const o=this.get(s);this.exists(s,h)||this.map.set(s,[...o,h])},this.get=s=>this.map.get(s)||[],this.exists=(s,h)=>this.get(s).includes(h),this.delete=(s,h)=>{if(typeof h>"u"){this.map.delete(s);return}if(!this.map.has(s))return;const o=this.get(s);if(!this.exists(s,h))return;const p=o.filter(i=>i!==h);if(!p.length){this.map.delete(s);return}this.map.set(s,p)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var wb=Object.defineProperty,Mb=Object.defineProperties,_b=Object.getOwnPropertyDescriptors,P0=Object.getOwnPropertySymbols,xb=Object.prototype.hasOwnProperty,Eb=Object.prototype.propertyIsEnumerable,T0=(f,s,h)=>s in f?wb(f,s,{enumerable:!0,configurable:!0,writable:!0,value:h}):f[s]=h,wi=(f,s)=>{for(var h in s||(s={}))xb.call(s,h)&&T0(f,h,s[h]);if(P0)for(var h of P0(s))Eb.call(s,h)&&T0(f,h,s[h]);return f},ba=(f,s)=>Mb(f,_b(s));class Sb extends ud{constructor(s,h){super(s,h),this.relayer=s,this.logger=h,this.subscriptions=new Map,this.topicMap=new yb,this.events=new Qe.exports.EventEmitter,this.name=sb,this.version=ab,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=Rr,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(o,p)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:o,opts:p}});try{const i=Na(p),M={topic:o,relay:i};this.pending.set(o,M);const w=await this.rpcSubscribe(o,i);return this.onSubscribe(w,M),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:o,opts:p}}),w}catch(i){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(i),i}},this.unsubscribe=async(o,p)=>{await this.restartToComplete(),this.isInitialized(),typeof(p==null?void 0:p.id)<"u"?await this.unsubscribeById(o,p.id,p):await this.unsubscribeByTopic(o,p)},this.isSubscribed=async o=>this.topics.includes(o)?!0:await new Promise((p,i)=>{const M=new Ot.Watch;M.start(this.pendingSubscriptionWatchLabel);const w=setInterval(()=>{!this.pending.has(o)&&this.topics.includes(o)&&(clearInterval(w),M.stop(this.pendingSubscriptionWatchLabel),p(!0)),M.elapsed(this.pendingSubscriptionWatchLabel)>=ob&&(clearInterval(w),M.stop(this.pendingSubscriptionWatchLabel),i(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1),this.on=(o,p)=>{this.events.on(o,p)},this.once=(o,p)=>{this.events.once(o,p)},this.off=(o,p)=>{this.events.off(o,p)},this.removeListener=(o,p)=>{this.events.removeListener(o,p)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=s,this.logger=Qt.generateChildLogger(h,this.name),this.clientId=""}get context(){return Qt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(s,h){let o=!1;try{o=this.getSubscription(s).topic===h}catch{}return o}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(s,h){const o=this.topicMap.get(s);await Promise.all(o.map(async p=>await this.unsubscribeById(s,p,h)))}async unsubscribeById(s,h,o){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:s,id:h,opts:o}});try{const p=Na(o);await this.rpcUnsubscribe(s,h,p);const i=Te("USER_DISCONNECTED",`${this.name}, ${s}`);await this.onUnsubscribe(s,h,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:s,id:h,opts:o}})}catch(p){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(p),p}}async rpcSubscribe(s,h){const o={method:sn(h.protocol).subscribe,params:{topic:s}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:o});try{await await Ri(this.relayer.request(o),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(ze.connection_stalled)}return Xr(s+this.clientId)}async rpcBatchSubscribe(s){if(!s.length)return;const h=s[0].relay,o={method:sn(h.protocol).batchSubscribe,params:{topics:s.map(p=>p.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:o});try{return await await Ri(this.relayer.request(o),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(ze.connection_stalled)}}rpcUnsubscribe(s,h,o){const p={method:sn(o.protocol).unsubscribe,params:{topic:s,id:h}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:p}),this.relayer.request(p)}onSubscribe(s,h){this.setSubscription(s,ba(wi({},h),{id:s})),this.pending.delete(h.topic)}onBatchSubscribe(s){s.length&&s.forEach(h=>{this.setSubscription(h.id,wi({},h)),this.pending.delete(h.topic)})}async onUnsubscribe(s,h,o){this.events.removeAllListeners(h),this.hasSubscription(h,s)&&this.deleteSubscription(h,o),await this.relayer.messages.del(s)}async setRelayerSubscriptions(s){await this.relayer.core.storage.setItem(this.storageKey,s)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(s,h){this.subscriptions.has(s)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:s,subscription:h}),this.addSubscription(s,h))}addSubscription(s,h){this.subscriptions.set(s,wi({},h)),this.topicMap.set(h.topic,s),this.events.emit(cr.created,h)}getSubscription(s){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:s});const h=this.subscriptions.get(s);if(!h){const{message:o}=Tt("NO_MATCHING_KEY",`${this.name}: ${s}`);throw new Error(o)}return h}deleteSubscription(s,h){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:s,reason:h});const o=this.getSubscription(s);this.subscriptions.delete(s),this.topicMap.delete(o.topic,s),this.events.emit(cr.deleted,ba(wi({},o),{reason:h}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(cr.sync)}async reset(){if(this.cached.length){const s=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let h=0;h<s;h++){const o=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(o)}}this.events.emit(cr.resubscribed)}async restore(){try{const s=await this.getRelayerSubscriptions();if(typeof s>"u"||!s.length)return;if(this.subscriptions.size){const{message:h}=Tt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(h),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(h)}this.cached=s,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(s){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(s)}}async batchSubscribe(s){if(!s.length)return;const h=await this.rpcBatchSubscribe(s);Li(h)&&this.onBatchSubscribe(h.map((o,p)=>ba(wi({},s[p]),{id:o})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||this.relayer.transportExplicitlyClosed)return;const s=[];this.pending.forEach(h=>{s.push(h)}),await this.batchSubscribe(s)}registerEventListeners(){this.relayer.core.heartbeat.on(ti.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(ze.connect,async()=>{await this.onConnect()}),this.relayer.on(ze.disconnect,()=>{this.onDisconnect()}),this.events.on(cr.created,async s=>{const h=cr.created;this.logger.info(`Emitting ${h}`),this.logger.debug({type:"event",event:h,data:s}),await this.persist()}),this.events.on(cr.deleted,async s=>{const h=cr.deleted;this.logger.info(`Emitting ${h}`),this.logger.debug({type:"event",event:h,data:s}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:s}=Tt("NOT_INITIALIZED",this.name);throw new Error(s)}}async restartToComplete(){this.restartInProgress&&await new Promise(s=>{const h=setInterval(()=>{this.restartInProgress||(clearInterval(h),s())},this.pollingInterval)})}}var Ab=Object.defineProperty,N0=Object.getOwnPropertySymbols,Ib=Object.prototype.hasOwnProperty,Rb=Object.prototype.propertyIsEnumerable,O0=(f,s,h)=>s in f?Ab(f,s,{enumerable:!0,configurable:!0,writable:!0,value:h}):f[s]=h,Bb=(f,s)=>{for(var h in s||(s={}))Ib.call(s,h)&&O0(f,h,s[h]);if(N0)for(var h of N0(s))Rb.call(s,h)&&O0(f,h,s[h]);return f};class Pb extends fd{constructor(s){super(s),this.protocol="wc",this.version=2,this.events=new Qe.exports.EventEmitter,this.name=X2,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.hasExperiencedNetworkDisruption=!1,this.request=async h=>{this.logger.debug("Publishing Request Payload");try{return await this.toEstablishConnection(),await this.provider.request(h)}catch(o){throw this.logger.debug("Failed to Publish Request"),this.logger.error(o),o}},this.onPayloadHandler=h=>{this.onProviderPayload(h)},this.onConnectHandler=()=>{this.events.emit(ze.connect)},this.onDisconnectHandler=()=>{this.onProviderDisconnect()},this.onProviderErrorHandler=h=>{this.logger.error(h),this.events.emit(ze.error,h),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(Mr.payload,this.onPayloadHandler),this.provider.on(Mr.connect,this.onConnectHandler),this.provider.on(Mr.disconnect,this.onDisconnectHandler),this.provider.on(Mr.error,this.onProviderErrorHandler)},this.core=s.core,this.logger=typeof s.logger<"u"&&typeof s.logger!="string"?Qt.generateChildLogger(s.logger,this.name):Qt.pino(Qt.getDefaultLoggerOptions({level:s.logger||J2})),this.messages=new gb(this.logger,s.core),this.subscriber=new Sb(this,this.logger),this.publisher=new bb(this,this.logger),this.relayUrl=(s==null?void 0:s.relayUrl)||Ic,this.projectId=s.projectId,this.bundleId=Hv(),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await this.createProvider(),await Promise.all([this.messages.init(),this.subscriber.init()]);try{await this.transportOpen()}catch{this.logger.warn(`Connection via ${this.relayUrl} failed, attempting to connect via failover domain ${B0}...`),await this.restartTransport(B0)}this.initialized=!0,setTimeout(async()=>{this.subscriber.topics.length===0&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},rb)}get context(){return Qt.getLoggerContext(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(s,h,o){this.isInitialized(),await this.publisher.publish(s,h,o),await this.recordMessageEvent({topic:s,message:h,publishedAt:Date.now()})}async subscribe(s,h){var o;this.isInitialized();let p=((o=this.subscriber.topicMap.get(s))==null?void 0:o[0])||"";if(p)return p;let i;const M=w=>{w.topic===s&&(this.subscriber.off(cr.created,M),i())};return await Promise.all([new Promise(w=>{i=w,this.subscriber.on(cr.created,M)}),new Promise(async w=>{p=await this.subscriber.subscribe(s,h),w()})]),p}async unsubscribe(s,h){this.isInitialized(),await this.subscriber.unsubscribe(s,h)}on(s,h){this.events.on(s,h)}once(s,h){this.events.once(s,h)}off(s,h){this.events.off(s,h)}removeListener(s,h){this.events.removeListener(s,h)}async transportClose(){this.transportExplicitlyClosed=!0,this.hasExperiencedNetworkDisruption&&this.connected?await Ri(this.provider.disconnect(),1e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.connected&&await this.provider.disconnect()}async transportOpen(s){if(this.transportExplicitlyClosed=!1,await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress){s&&s!==this.relayUrl&&(this.relayUrl=s,await this.transportClose(),await this.createProvider()),this.connectionAttemptInProgress=!0;try{await Promise.all([new Promise(h=>{if(!this.initialized)return h();this.subscriber.once(cr.resubscribed,()=>{h()})}),new Promise(async(h,o)=>{try{await Ri(this.provider.connect(),1e4,`Socket stalled when trying to connect to ${this.relayUrl}`)}catch(p){o(p);return}h()})])}catch(h){this.logger.error(h);const o=h;if(!this.isConnectionStalled(o.message))throw h;this.provider.events.emit(Mr.disconnect)}finally{this.connectionAttemptInProgress=!1,this.hasExperiencedNetworkDisruption=!1}}}async restartTransport(s){await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress&&(this.relayUrl=s||this.relayUrl,await this.transportClose(),await this.createProvider(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await v0())throw new Error("No internet connection detected. Please restart your network and try again.")}isConnectionStalled(s){return this.staleConnectionErrors.some(h=>s.includes(h))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const s=await this.core.crypto.signJWT(this.relayUrl);this.provider=new ug(new pg(Yv({sdkVersion:eb,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:s,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(s){const{topic:h,message:o}=s;await this.messages.set(h,o)}async shouldIgnoreMessageEvent(s){const{topic:h,message:o}=s;if(!o||o.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${o}`),!0;if(!await this.subscriber.isSubscribed(h))return this.logger.debug(`Ignoring message for non-subscribed topic ${h}`),!0;const p=this.messages.has(h,o);return p&&this.logger.debug(`Ignoring duplicate message: ${o}`),p}async onProviderPayload(s){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:s}),mo(s)){if(!s.method.endsWith(Q2))return;const h=s.params,{topic:o,message:p,publishedAt:i}=h.data,M={topic:o,message:p,publishedAt:i};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(Bb({type:"event",event:h.id},M)),this.events.emit(h.id,M),await this.acknowledgePayload(s),await this.onMessageEvent(M)}else In(s)&&this.events.emit(ze.message_ack,s)}async onMessageEvent(s){await this.shouldIgnoreMessageEvent(s)||(this.events.emit(ze.message,s),await this.recordMessageEvent(s))}async acknowledgePayload(s){const h=po(s.id,!0);await this.provider.connection.send(h)}unregisterProviderListeners(){this.provider.off(Mr.payload,this.onPayloadHandler),this.provider.off(Mr.connect,this.onConnectHandler),this.provider.off(Mr.disconnect,this.onDisconnectHandler),this.provider.off(Mr.error,this.onProviderErrorHandler)}async registerEventListeners(){this.events.on(ze.connection_stalled,()=>{this.restartTransport().catch(h=>this.logger.error(h))});let s=await v0();Km(async h=>{this.initialized&&s!==h&&(s=h,h?await this.restartTransport().catch(o=>this.logger.error(o)):(this.hasExperiencedNetworkDisruption=!0,await this.transportClose().catch(o=>this.logger.error(o))))})}onProviderDisconnect(){this.events.emit(ze.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||(this.logger.info("attemptToReconnect called. Connecting..."),setTimeout(async()=>{await this.restartTransport().catch(s=>this.logger.error(s))},Ot.toMiliseconds(tb)))}isInitialized(){if(!this.initialized){const{message:s}=Tt("NOT_INITIALIZED",this.name);throw new Error(s)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectionAttemptInProgress)return await new Promise(s=>{const h=setInterval(()=>{this.connected&&(clearInterval(h),s())},this.connectionStatusPollingInterval)});await this.restartTransport()}}}var Tb=Object.defineProperty,q0=Object.getOwnPropertySymbols,Nb=Object.prototype.hasOwnProperty,Ob=Object.prototype.propertyIsEnumerable,C0=(f,s,h)=>s in f?Tb(f,s,{enumerable:!0,configurable:!0,writable:!0,value:h}):f[s]=h,D0=(f,s)=>{for(var h in s||(s={}))Nb.call(s,h)&&C0(f,h,s[h]);if(q0)for(var h of q0(s))Ob.call(s,h)&&C0(f,h,s[h]);return f};class Bn extends hd{constructor(s,h,o,p=Rr,i=void 0){super(s,h,o,p),this.core=s,this.logger=h,this.name=o,this.map=new Map,this.version=ib,this.cached=[],this.initialized=!1,this.storagePrefix=Rr,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(M=>{this.getKey&&M!==null&&!Ke(M)?this.map.set(this.getKey(M),M):wm(M)?this.map.set(M.id,M):Mm(M)&&this.map.set(M.topic,M)}),this.cached=[],this.initialized=!0)},this.set=async(M,w)=>{this.isInitialized(),this.map.has(M)?await this.update(M,w):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:M,value:w}),this.map.set(M,w),await this.persist())},this.get=M=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:M}),this.getData(M)),this.getAll=M=>(this.isInitialized(),M?this.values.filter(w=>Object.keys(M).every(y=>vg(w[y],M[y]))):this.values),this.update=async(M,w)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:M,update:w});const y=D0(D0({},this.getData(M)),w);this.map.set(M,y),await this.persist()},this.delete=async(M,w)=>{this.isInitialized(),this.map.has(M)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:M,reason:w}),this.map.delete(M),await this.persist())},this.logger=Qt.generateChildLogger(h,this.name),this.storagePrefix=p,this.getKey=i}get context(){return Qt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(s){await this.core.storage.setItem(this.storageKey,s)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(s){const h=this.map.get(s);if(!h){const{message:o}=Tt("NO_MATCHING_KEY",`${this.name}: ${s}`);throw this.logger.error(o),new Error(o)}return h}async persist(){await this.setDataStore(this.values)}async restore(){try{const s=await this.getDataStore();if(typeof s>"u"||!s.length)return;if(this.map.size){const{message:h}=Tt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(h),new Error(h)}this.cached=s,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(s){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(s)}}isInitialized(){if(!this.initialized){const{message:s}=Tt("NOT_INITIALIZED",this.name);throw new Error(s)}}}class qb{constructor(s,h){this.core=s,this.logger=h,this.name=fb,this.version=hb,this.events=new Qe.exports,this.initialized=!1,this.storagePrefix=Rr,this.ignoredPayloadTypes=[Vr],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:o})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...o])]},this.create=async()=>{this.isInitialized();const o=Ta(),p=await this.core.crypto.setSymKey(o),i=lr(Ot.FIVE_MINUTES),M={protocol:Ac},w={topic:p,expiry:i,relay:M,active:!1},y=hm({protocol:this.core.protocol,version:this.core.version,topic:p,symKey:o,relay:M});return await this.pairings.set(p,w),await this.core.relayer.subscribe(p),this.core.expirer.set(p,i),{topic:p,uri:y}},this.pair=async o=>{this.isInitialized(),this.isValidPair(o);const{topic:p,symKey:i,relay:M}=am(o.uri);let w;if(this.pairings.keys.includes(p)&&(w=this.pairings.get(p),w.active))throw new Error(`Pairing already exists: ${p}. Please try again with a new connection URI.`);this.core.crypto.keychain.has(p)||(await this.core.crypto.setSymKey(i,p),await this.core.relayer.subscribe(p,{relay:M}));const y=lr(Ot.FIVE_MINUTES),g={topic:p,relay:M,expiry:y,active:!1};return await this.pairings.set(p,g),this.core.expirer.set(p,y),o.activatePairing&&await this.activate({topic:p}),this.events.emit(xi.create,g),g},this.activate=async({topic:o})=>{this.isInitialized();const p=lr(Ot.THIRTY_DAYS);await this.pairings.update(o,{active:!0,expiry:p}),this.core.expirer.set(o,p)},this.ping=async o=>{this.isInitialized(),await this.isValidPing(o);const{topic:p}=o;if(this.pairings.keys.includes(p)){const i=await this.sendRequest(p,"wc_pairingPing",{}),{done:M,resolve:w,reject:y}=Yr();this.events.once(Ie("pairing_ping",i),({error:g})=>{g?y(g):w()}),await M()}},this.updateExpiry=async({topic:o,expiry:p})=>{this.isInitialized(),await this.pairings.update(o,{expiry:p})},this.updateMetadata=async({topic:o,metadata:p})=>{this.isInitialized(),await this.pairings.update(o,{peerMetadata:p})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async o=>{this.isInitialized(),await this.isValidDisconnect(o);const{topic:p}=o;this.pairings.keys.includes(p)&&(await this.sendRequest(p,"wc_pairingDelete",Te("USER_DISCONNECTED")),await this.deletePairing(p))},this.sendRequest=async(o,p,i)=>{const M=Qr(p,i),w=await this.core.crypto.encode(o,M),y=yi[p].req;return this.core.history.set(o,M),this.core.relayer.publish(o,w,y),M.id},this.sendResult=async(o,p,i)=>{const M=po(o,i),w=await this.core.crypto.encode(p,M),y=await this.core.history.get(p,o),g=yi[y.request.method].res;await this.core.relayer.publish(p,w,g),await this.core.history.resolve(M)},this.sendError=async(o,p,i)=>{const M=vo(o,i),w=await this.core.crypto.encode(p,M),y=await this.core.history.get(p,o),g=yi[y.request.method]?yi[y.request.method].res:yi.unregistered_method.res;await this.core.relayer.publish(p,w,g),await this.core.history.resolve(M)},this.deletePairing=async(o,p)=>{await this.core.relayer.unsubscribe(o),await Promise.all([this.pairings.delete(o,Te("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(o),p?Promise.resolve():this.core.expirer.del(o)])},this.cleanup=async()=>{const o=this.pairings.getAll().filter(p=>Ir(p.expiry));await Promise.all(o.map(p=>this.deletePairing(p.topic)))},this.onRelayEventRequest=o=>{const{topic:p,payload:i}=o;switch(i.method){case"wc_pairingPing":return this.onPairingPingRequest(p,i);case"wc_pairingDelete":return this.onPairingDeleteRequest(p,i);default:return this.onUnknownRpcMethodRequest(p,i)}},this.onRelayEventResponse=async o=>{const{topic:p,payload:i}=o,M=(await this.core.history.get(p,i.id)).request.method;switch(M){case"wc_pairingPing":return this.onPairingPingResponse(p,i);default:return this.onUnknownRpcMethodResponse(M)}},this.onPairingPingRequest=async(o,p)=>{const{id:i}=p;try{this.isValidPing({topic:o}),await this.sendResult(i,o,!0),this.events.emit(xi.ping,{id:i,topic:o})}catch(M){await this.sendError(i,o,M),this.logger.error(M)}},this.onPairingPingResponse=(o,p)=>{const{id:i}=p;setTimeout(()=>{xr(p)?this.events.emit(Ie("pairing_ping",i),{}):dr(p)&&this.events.emit(Ie("pairing_ping",i),{error:p.error})},500)},this.onPairingDeleteRequest=async(o,p)=>{const{id:i}=p;try{this.isValidDisconnect({topic:o}),await this.deletePairing(o),this.events.emit(xi.delete,{id:i,topic:o})}catch(M){await this.sendError(i,o,M),this.logger.error(M)}},this.onUnknownRpcMethodRequest=async(o,p)=>{const{id:i,method:M}=p;try{if(this.registeredMethods.includes(M))return;const w=Te("WC_METHOD_UNSUPPORTED",M);await this.sendError(i,o,w),this.logger.error(w)}catch(w){await this.sendError(i,o,w),this.logger.error(w)}},this.onUnknownRpcMethodResponse=o=>{this.registeredMethods.includes(o)||this.logger.error(Te("WC_METHOD_UNSUPPORTED",o))},this.isValidPair=o=>{if(!Ze(o)){const{message:p}=Tt("MISSING_OR_INVALID",`pair() params: ${o}`);throw new Error(p)}if(!ym(o.uri)){const{message:p}=Tt("MISSING_OR_INVALID",`pair() uri: ${o.uri}`);throw new Error(p)}},this.isValidPing=async o=>{if(!Ze(o)){const{message:i}=Tt("MISSING_OR_INVALID",`ping() params: ${o}`);throw new Error(i)}const{topic:p}=o;await this.isValidPairingTopic(p)},this.isValidDisconnect=async o=>{if(!Ze(o)){const{message:i}=Tt("MISSING_OR_INVALID",`disconnect() params: ${o}`);throw new Error(i)}const{topic:p}=o;await this.isValidPairingTopic(p)},this.isValidPairingTopic=async o=>{if(!Ne(o,!1)){const{message:p}=Tt("MISSING_OR_INVALID",`pairing topic should be a string: ${o}`);throw new Error(p)}if(!this.pairings.keys.includes(o)){const{message:p}=Tt("NO_MATCHING_KEY",`pairing topic doesn't exist: ${o}`);throw new Error(p)}if(Ir(this.pairings.get(o).expiry)){await this.deletePairing(o);const{message:p}=Tt("EXPIRED",`pairing topic: ${o}`);throw new Error(p)}},this.core=s,this.logger=Qt.generateChildLogger(h,this.name),this.pairings=new Bn(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Qt.getLoggerContext(this.logger)}isInitialized(){if(!this.initialized){const{message:s}=Tt("NOT_INITIALIZED",this.name);throw new Error(s)}}registerRelayerEvents(){this.core.relayer.on(ze.message,async s=>{const{topic:h,message:o}=s;if(!this.pairings.keys.includes(h)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(o)))return;const p=await this.core.crypto.decode(h,o);try{mo(p)?(this.core.history.set(h,p),this.onRelayEventRequest({topic:h,payload:p})):In(p)&&(await this.core.history.resolve(p),await this.onRelayEventResponse({topic:h,payload:p}),this.core.history.delete(h,p.id))}catch(i){this.logger.error(i)}})}registerExpirerEvents(){this.core.expirer.on(ar.expired,async s=>{const{topic:h}=sc(s.target);h&&this.pairings.keys.includes(h)&&(await this.deletePairing(h,!0),this.events.emit(xi.expire,{topic:h}))})}}class Cb extends sd{constructor(s,h){super(s,h),this.core=s,this.logger=h,this.records=new Map,this.events=new Qe.exports.EventEmitter,this.name=ub,this.version=cb,this.cached=[],this.initialized=!1,this.storagePrefix=Rr,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>this.records.set(o.id,o)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(o,p,i)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:o,request:p,chainId:i}),this.records.has(p.id))return;const M={id:p.id,topic:o,request:{method:p.method,params:p.params||null},chainId:i,expiry:lr(Ot.THIRTY_DAYS)};this.records.set(M.id,M),this.events.emit(mr.created,M)},this.resolve=async o=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:o}),!this.records.has(o.id))return;const p=await this.getRecord(o.id);typeof p.response>"u"&&(p.response=dr(o)?{error:o.error}:{result:o.result},this.records.set(p.id,p),this.events.emit(mr.updated,p))},this.get=async(o,p)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:o,id:p}),await this.getRecord(p)),this.delete=(o,p)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:p}),this.values.forEach(i=>{if(i.topic===o){if(typeof p<"u"&&i.id!==p)return;this.records.delete(i.id),this.events.emit(mr.deleted,i)}})},this.exists=async(o,p)=>(this.isInitialized(),this.records.has(p)?(await this.getRecord(p)).topic===o:!1),this.on=(o,p)=>{this.events.on(o,p)},this.once=(o,p)=>{this.events.once(o,p)},this.off=(o,p)=>{this.events.off(o,p)},this.removeListener=(o,p)=>{this.events.removeListener(o,p)},this.logger=Qt.generateChildLogger(h,this.name)}get context(){return Qt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const s=[];return this.values.forEach(h=>{if(typeof h.response<"u")return;const o={topic:h.topic,request:Qr(h.request.method,h.request.params,h.id),chainId:h.chainId};return s.push(o)}),s}async setJsonRpcRecords(s){await this.core.storage.setItem(this.storageKey,s)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(s){this.isInitialized();const h=this.records.get(s);if(!h){const{message:o}=Tt("NO_MATCHING_KEY",`${this.name}: ${s}`);throw new Error(o)}return h}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(mr.sync)}async restore(){try{const s=await this.getJsonRpcRecords();if(typeof s>"u"||!s.length)return;if(this.records.size){const{message:h}=Tt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(h),new Error(h)}this.cached=s,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(s){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(s)}}registerEventListeners(){this.events.on(mr.created,s=>{const h=mr.created;this.logger.info(`Emitting ${h}`),this.logger.debug({type:"event",event:h,record:s}),this.persist()}),this.events.on(mr.updated,s=>{const h=mr.updated;this.logger.info(`Emitting ${h}`),this.logger.debug({type:"event",event:h,record:s}),this.persist()}),this.events.on(mr.deleted,s=>{const h=mr.deleted;this.logger.info(`Emitting ${h}`),this.logger.debug({type:"event",event:h,record:s}),this.persist()}),this.core.heartbeat.on(ti.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.records.forEach(s=>{Ot.toMiliseconds(s.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${s.id}`),this.delete(s.topic,s.id))})}catch(s){this.logger.warn(s)}}isInitialized(){if(!this.initialized){const{message:s}=Tt("NOT_INITIALIZED",this.name);throw new Error(s)}}}class Db extends cd{constructor(s,h){super(s,h),this.core=s,this.logger=h,this.expirations=new Map,this.events=new Qe.exports.EventEmitter,this.name=lb,this.version=db,this.cached=[],this.initialized=!1,this.storagePrefix=Rr,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>this.expirations.set(o.target,o)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=o=>{try{const p=this.formatTarget(o);return typeof this.getExpiration(p)<"u"}catch{return!1}},this.set=(o,p)=>{this.isInitialized();const i=this.formatTarget(o),M={target:i,expiry:p};this.expirations.set(i,M),this.checkExpiry(i,M),this.events.emit(ar.created,{target:i,expiration:M})},this.get=o=>{this.isInitialized();const p=this.formatTarget(o);return this.getExpiration(p)},this.del=o=>{if(this.isInitialized(),this.has(o)){const p=this.formatTarget(o),i=this.getExpiration(p);this.expirations.delete(p),this.events.emit(ar.deleted,{target:p,expiration:i})}},this.on=(o,p)=>{this.events.on(o,p)},this.once=(o,p)=>{this.events.once(o,p)},this.off=(o,p)=>{this.events.off(o,p)},this.removeListener=(o,p)=>{this.events.removeListener(o,p)},this.logger=Qt.generateChildLogger(h,this.name)}get context(){return Qt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(s){if(typeof s=="string")return Jv(s);if(typeof s=="number")return Xv(s);const{message:h}=Tt("UNKNOWN_TYPE",`Target type: ${typeof s}`);throw new Error(h)}async setExpirations(s){await this.core.storage.setItem(this.storageKey,s)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(ar.sync)}async restore(){try{const s=await this.getExpirations();if(typeof s>"u"||!s.length)return;if(this.expirations.size){const{message:h}=Tt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(h),new Error(h)}this.cached=s,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(s){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(s)}}getExpiration(s){const h=this.expirations.get(s);if(!h){const{message:o}=Tt("NO_MATCHING_KEY",`${this.name}: ${s}`);throw this.logger.error(o),new Error(o)}return h}checkExpiry(s,h){const{expiry:o}=h;Ot.toMiliseconds(o)-Date.now()<=0&&this.expire(s,h)}expire(s,h){this.expirations.delete(s),this.events.emit(ar.expired,{target:s,expiration:h})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((s,h)=>this.checkExpiry(h,s))}registerEventListeners(){this.core.heartbeat.on(ti.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(ar.created,s=>{const h=ar.created;this.logger.info(`Emitting ${h}`),this.logger.debug({type:"event",event:h,data:s}),this.persist()}),this.events.on(ar.expired,s=>{const h=ar.expired;this.logger.info(`Emitting ${h}`),this.logger.debug({type:"event",event:h,data:s}),this.persist()}),this.events.on(ar.deleted,s=>{const h=ar.deleted;this.logger.info(`Emitting ${h}`),this.logger.debug({type:"event",event:h,data:s}),this.persist()})}isInitialized(){if(!this.initialized){const{message:s}=Tt("NOT_INITIALIZED",this.name);throw new Error(s)}}}class Lb extends ld{constructor(s,h){super(s,h),this.projectId=s,this.logger=h,this.name=ga,this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=async o=>{if(this.verifyDisabled||ni()||!Ci())return;const p=this.getVerifyUrl(o==null?void 0:o.verifyUrl);this.verifyUrl!==p&&this.removeIframe(),this.verifyUrl=p;try{await this.createIframe()}catch(i){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(i)}if(!this.initialized){this.removeIframe(),this.verifyUrl=Da;try{await this.createIframe()}catch(i){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(i),this.verifyDisabled=!0}}},this.register=async o=>{this.initialized?this.sendPost(o.attestationId):(this.addToQueue(o.attestationId),await this.init())},this.resolve=async o=>{if(this.isDevEnv)return"";const p=this.getVerifyUrl(o==null?void 0:o.verifyUrl);let i;try{i=await this.fetchAttestation(o.attestationId,p)}catch(M){this.logger.info(`failed to resolve attestation: ${o.attestationId} from url: ${p}`),this.logger.info(M),i=await this.fetchAttestation(o.attestationId,Da)}return i},this.fetchAttestation=async(o,p)=>{this.logger.info(`resolving attestation: ${o} from url: ${p}`);const i=this.startAbortTimer(Ot.ONE_SECOND*2),M=await fetch(`${p}/attestation/${o}`,{signal:this.abortController.signal});return clearTimeout(i),M.status===200?await M.json():void 0},this.addToQueue=o=>{this.queue.push(o)},this.processQueue=()=>{this.queue.length!==0&&(this.queue.forEach(o=>this.sendPost(o)),this.queue=[])},this.sendPost=o=>{var p;try{if(!this.iframe)return;(p=this.iframe.contentWindow)==null||p.postMessage(o,"*"),this.logger.info(`postMessage sent: ${o} ${this.verifyUrl}`)}catch{}},this.createIframe=async()=>{let o;const p=i=>{i.data==="verify_ready"&&(this.initialized=!0,this.processQueue(),window.removeEventListener("message",p),o())};await Promise.race([new Promise(i=>{if(document.getElementById(ga))return i();window.addEventListener("message",p);const M=document.createElement("iframe");M.id=ga,M.src=`${this.verifyUrl}/${this.projectId}`,M.style.display="none",document.body.append(M),this.iframe=M,o=i}),new Promise((i,M)=>setTimeout(()=>{window.removeEventListener("message",p),M("verify iframe load timeout")},Ot.toMiliseconds(Ot.FIVE_SECONDS)))])},this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.getVerifyUrl=o=>{let p=o||Jr;return pb.includes(p)||(this.logger.info(`verify url: ${p}, not included in trusted list, assigning default: ${Jr}`),p=Jr),p},this.logger=Qt.generateChildLogger(h,this.name),this.verifyUrl=Jr,this.abortController=new AbortController,this.isDevEnv=ho()&&{}.IS_VITEST}get context(){return Qt.getLoggerContext(this.logger)}startAbortTimer(s){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Ot.toMiliseconds(s))}}var kb=Object.defineProperty,L0=Object.getOwnPropertySymbols,Ub=Object.prototype.hasOwnProperty,Fb=Object.prototype.propertyIsEnumerable,k0=(f,s,h)=>s in f?kb(f,s,{enumerable:!0,configurable:!0,writable:!0,value:h}):f[s]=h,U0=(f,s)=>{for(var h in s||(s={}))Ub.call(s,h)&&k0(f,h,s[h]);if(L0)for(var h of L0(s))Fb.call(s,h)&&k0(f,h,s[h]);return f};class bo extends nd{constructor(s){super(s),this.protocol=Sc,this.version=F2,this.name=go,this.events=new Qe.exports.EventEmitter,this.initialized=!1,this.on=(o,p)=>this.events.on(o,p),this.once=(o,p)=>this.events.once(o,p),this.off=(o,p)=>this.events.off(o,p),this.removeListener=(o,p)=>this.events.removeListener(o,p),this.projectId=s==null?void 0:s.projectId,this.relayUrl=(s==null?void 0:s.relayUrl)||Ic,this.customStoragePrefix=s!=null&&s.customStoragePrefix?`:${s.customStoragePrefix}`:"";const h=typeof(s==null?void 0:s.logger)<"u"&&typeof(s==null?void 0:s.logger)!="string"?s.logger:Qt.pino(Qt.getDefaultLoggerOptions({level:(s==null?void 0:s.logger)||z2.logger}));this.logger=Qt.generateChildLogger(h,this.name),this.heartbeat=new ti.HeartBeat,this.crypto=new mb(this,this.logger,s==null?void 0:s.keychain),this.history=new Cb(this,this.logger),this.expirer=new Db(this,this.logger),this.storage=s!=null&&s.storage?s.storage:new zl(U0(U0({},$2),s==null?void 0:s.storageOptions)),this.relayer=new Pb({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new qb(this,this.logger),this.verify=new Lb(this.projectId||"",this.logger)}static async init(s){const h=new bo(s);await h.initialize();const o=await h.crypto.getClientId();return await h.storage.setItem(nb,o),h}get context(){return Qt.getLoggerContext(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(s){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,s),this.logger.error(s.message),s}}}const zb=bo,Rc="wc",Bc=2,Pc="client",yo=`${Rc}@${Bc}:${Pc}:`,ya={name:Pc,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},F0="WALLETCONNECT_DEEPLINK_CHOICE",$b="proposal",Kb="Proposal expired",Hb="session",en=Ot.SEVEN_DAYS,jb="engine",Mi={wc_sessionPropose:{req:{ttl:Ot.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Ot.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:Ot.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Ot.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Ot.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Ot.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Ot.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Ot.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Ot.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Ot.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Ot.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Ot.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Ot.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Ot.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Ot.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:Ot.THIRTY_SECONDS,prompt:!1,tag:1115}}},wa={min:Ot.FIVE_MINUTES,max:Ot.SEVEN_DAYS},_r={idle:"IDLE",active:"ACTIVE"},Vb="request",Gb=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var Zb=Object.defineProperty,Wb=Object.defineProperties,Yb=Object.getOwnPropertyDescriptors,z0=Object.getOwnPropertySymbols,Jb=Object.prototype.hasOwnProperty,Xb=Object.prototype.propertyIsEnumerable,$0=(f,s,h)=>s in f?Zb(f,s,{enumerable:!0,configurable:!0,writable:!0,value:h}):f[s]=h,Ve=(f,s)=>{for(var h in s||(s={}))Jb.call(s,h)&&$0(f,h,s[h]);if(z0)for(var h of z0(s))Xb.call(s,h)&&$0(f,h,s[h]);return f},_i=(f,s)=>Wb(f,Yb(s));class Qb extends pd{constructor(s){super(s),this.name=jb,this.events=new Qe.exports,this.initialized=!1,this.ignoredPayloadTypes=[Vr],this.requestQueue={state:_r.idle,queue:[]},this.sessionRequestQueue={state:_r.idle,queue:[]},this.requestQueueDelay=Ot.ONE_SECOND,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(Mi)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Ot.toMiliseconds(this.requestQueueDelay)))},this.connect=async h=>{await this.isInitialized();const o=_i(Ve({},h),{requiredNamespaces:h.requiredNamespaces||{},optionalNamespaces:h.optionalNamespaces||{}});await this.isValidConnect(o);const{pairingTopic:p,requiredNamespaces:i,optionalNamespaces:M,sessionProperties:w,relays:y}=o;let g=p,m,_=!1;if(g&&(_=this.client.core.pairing.pairings.get(g).active),!g||!_){const{topic:C,uri:T}=await this.client.core.pairing.create();g=C,m=T}const x=await this.client.core.crypto.generateKeyPair(),E=Ve({requiredNamespaces:i,optionalNamespaces:M,relays:y!=null?y:[{protocol:Ac}],proposer:{publicKey:x,metadata:this.client.metadata}},w&&{sessionProperties:w}),{reject:S,resolve:R,done:P}=Yr(Ot.FIVE_MINUTES,Kb);if(this.events.once(Ie("session_connect"),async({error:C,session:T})=>{if(C)S(C);else if(T){T.self.publicKey=x;const F=_i(Ve({},T),{requiredNamespaces:T.requiredNamespaces,optionalNamespaces:T.optionalNamespaces});await this.client.session.set(T.topic,F),await this.setExpiry(T.topic,T.expiry),g&&await this.client.core.pairing.updateMetadata({topic:g,metadata:T.peer.metadata}),R(F)}}),!g){const{message:C}=Tt("NO_MATCHING_KEY",`connect() pairing topic: ${g}`);throw new Error(C)}const O=await this.sendRequest({topic:g,method:"wc_sessionPropose",params:E}),B=lr(Ot.FIVE_MINUTES);return await this.setProposal(O,Ve({id:O,expiry:B},E)),{uri:m,approval:P}},this.pair=async h=>(await this.isInitialized(),await this.client.core.pairing.pair(h)),this.approve=async h=>{await this.isInitialized(),await this.isValidApprove(h);const{id:o,relayProtocol:p,namespaces:i,sessionProperties:M}=h,w=this.client.proposal.get(o);let{pairingTopic:y,proposer:g,requiredNamespaces:m,optionalNamespaces:_}=w;y=y||"",Ei(m)||(m=dm(i,"approve()"));const x=await this.client.core.crypto.generateKeyPair(),E=g.publicKey,S=await this.client.core.crypto.generateSharedKey(x,E);y&&o&&(await this.client.core.pairing.updateMetadata({topic:y,metadata:g.metadata}),await this.sendResult({id:o,topic:y,result:{relay:{protocol:p!=null?p:"irn"},responderPublicKey:x}}),await this.client.proposal.delete(o,Te("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:y}));const R=Ve({relay:{protocol:p!=null?p:"irn"},namespaces:i,requiredNamespaces:m,optionalNamespaces:_,pairingTopic:y,controller:{publicKey:x,metadata:this.client.metadata},expiry:lr(en)},M&&{sessionProperties:M});await this.client.core.relayer.subscribe(S),await this.sendRequest({topic:S,method:"wc_sessionSettle",params:R,throwOnFailedPublish:!0});const P=_i(Ve({},R),{topic:S,pairingTopic:y,acknowledged:!1,self:R.controller,peer:{publicKey:g.publicKey,metadata:g.metadata},controller:x});return await this.client.session.set(S,P),await this.setExpiry(S,lr(en)),{topic:S,acknowledged:()=>new Promise(O=>setTimeout(()=>O(this.client.session.get(S)),500))}},this.reject=async h=>{await this.isInitialized(),await this.isValidReject(h);const{id:o,reason:p}=h,{pairingTopic:i}=this.client.proposal.get(o);i&&(await this.sendError(o,i,p),await this.client.proposal.delete(o,Te("USER_DISCONNECTED")))},this.update=async h=>{await this.isInitialized(),await this.isValidUpdate(h);const{topic:o,namespaces:p}=h,i=await this.sendRequest({topic:o,method:"wc_sessionUpdate",params:{namespaces:p}}),{done:M,resolve:w,reject:y}=Yr();return this.events.once(Ie("session_update",i),({error:g})=>{g?y(g):w()}),await this.client.session.update(o,{namespaces:p}),{acknowledged:M}},this.extend=async h=>{await this.isInitialized(),await this.isValidExtend(h);const{topic:o}=h,p=await this.sendRequest({topic:o,method:"wc_sessionExtend",params:{}}),{done:i,resolve:M,reject:w}=Yr();return this.events.once(Ie("session_extend",p),({error:y})=>{y?w(y):M()}),await this.setExpiry(o,lr(en)),{acknowledged:i}},this.request=async h=>{await this.isInitialized(),await this.isValidRequest(h);const{chainId:o,request:p,topic:i,expiry:M}=h,w=lo(),{done:y,resolve:g,reject:m}=Yr(M,"Request expired. Please try again.");return this.events.once(Ie("session_request",w),({error:_,result:x})=>{_?m(_):g(x)}),await Promise.all([new Promise(async _=>{await this.sendRequest({clientRpcId:w,topic:i,method:"wc_sessionRequest",params:{request:p,chainId:o},expiry:M,throwOnFailedPublish:!0}).catch(x=>m(x)),this.client.events.emit("session_request_sent",{topic:i,request:p,chainId:o,id:w}),_()}),new Promise(async _=>{const x=await this.client.core.storage.getItem(F0);Qv({id:w,topic:i,wcDeepLink:x}),_()}),y()]).then(_=>_[2])},this.respond=async h=>{await this.isInitialized(),await this.isValidRespond(h);const{topic:o,response:p}=h,{id:i}=p;xr(p)?await this.sendResult({id:i,topic:o,result:p.result,throwOnFailedPublish:!0}):dr(p)&&await this.sendError(i,o,p.error),this.cleanupAfterResponse(h)},this.ping=async h=>{await this.isInitialized(),await this.isValidPing(h);const{topic:o}=h;if(this.client.session.keys.includes(o)){const p=await this.sendRequest({topic:o,method:"wc_sessionPing",params:{}}),{done:i,resolve:M,reject:w}=Yr();this.events.once(Ie("session_ping",p),({error:y})=>{y?w(y):M()}),await i()}else this.client.core.pairing.pairings.keys.includes(o)&&await this.client.core.pairing.ping({topic:o})},this.emit=async h=>{await this.isInitialized(),await this.isValidEmit(h);const{topic:o,event:p,chainId:i}=h;await this.sendRequest({topic:o,method:"wc_sessionEvent",params:{event:p,chainId:i}})},this.disconnect=async h=>{await this.isInitialized(),await this.isValidDisconnect(h);const{topic:o}=h;this.client.session.keys.includes(o)?(await this.sendRequest({topic:o,method:"wc_sessionDelete",params:Te("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession(o)):await this.client.core.pairing.disconnect({topic:o})},this.find=h=>(this.isInitialized(),this.client.session.getAll().filter(o=>gm(o,h))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.cleanupDuplicatePairings=async h=>{if(h.pairingTopic)try{const o=this.client.core.pairing.pairings.get(h.pairingTopic),p=this.client.core.pairing.pairings.getAll().filter(i=>{var M,w;return((M=i.peerMetadata)==null?void 0:M.url)&&((w=i.peerMetadata)==null?void 0:w.url)===h.peer.metadata.url&&i.topic&&i.topic!==o.topic});if(p.length===0)return;this.client.logger.info(`Cleaning up ${p.length} duplicate pairing(s)`),await Promise.all(p.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(o){this.client.logger.error(o)}},this.deleteSession=async(h,o)=>{const{self:p}=this.client.session.get(h);await this.client.core.relayer.unsubscribe(h),this.client.session.delete(h,Te("USER_DISCONNECTED")),this.client.core.crypto.keychain.has(p.publicKey)&&await this.client.core.crypto.deleteKeyPair(p.publicKey),this.client.core.crypto.keychain.has(h)&&await this.client.core.crypto.deleteSymKey(h),o||this.client.core.expirer.del(h),this.client.core.storage.removeItem(F0).catch(i=>this.client.logger.warn(i))},this.deleteProposal=async(h,o)=>{await Promise.all([this.client.proposal.delete(h,Te("USER_DISCONNECTED")),o?Promise.resolve():this.client.core.expirer.del(h)])},this.deletePendingSessionRequest=async(h,o,p=!1)=>{await Promise.all([this.client.pendingRequest.delete(h,o),p?Promise.resolve():this.client.core.expirer.del(h)]),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==h),p&&(this.sessionRequestQueue.state=_r.idle)},this.setExpiry=async(h,o)=>{this.client.session.keys.includes(h)&&await this.client.session.update(h,{expiry:o}),this.client.core.expirer.set(h,o)},this.setProposal=async(h,o)=>{await this.client.proposal.set(h,o),this.client.core.expirer.set(h,o.expiry)},this.setPendingSessionRequest=async h=>{const o=Mi.wc_sessionRequest.req.ttl,{id:p,topic:i,params:M,verifyContext:w}=h;await this.client.pendingRequest.set(p,{id:p,topic:i,params:M,verifyContext:w}),o&&this.client.core.expirer.set(p,lr(o))},this.sendRequest=async h=>{const{topic:o,method:p,params:i,expiry:M,relayRpcId:w,clientRpcId:y,throwOnFailedPublish:g}=h,m=Qr(p,i,y);if(Ci()&&Gb.includes(p)){const E=Xr(JSON.stringify(m));this.client.core.verify.register({attestationId:E})}const _=await this.client.core.crypto.encode(o,m),x=Mi[p].req;return M&&(x.ttl=M),w&&(x.id=w),this.client.core.history.set(o,m),g?(x.internal=_i(Ve({},x.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(o,_,x)):this.client.core.relayer.publish(o,_,x).catch(E=>this.client.logger.error(E)),m.id},this.sendResult=async h=>{const{id:o,topic:p,result:i,throwOnFailedPublish:M}=h,w=po(o,i),y=await this.client.core.crypto.encode(p,w),g=await this.client.core.history.get(p,o),m=Mi[g.request.method].res;M?(m.internal=_i(Ve({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(p,y,m)):this.client.core.relayer.publish(p,y,m).catch(_=>this.client.logger.error(_)),await this.client.core.history.resolve(w)},this.sendError=async(h,o,p)=>{const i=vo(h,p),M=await this.client.core.crypto.encode(o,i),w=await this.client.core.history.get(o,h),y=Mi[w.request.method].res;this.client.core.relayer.publish(o,M,y),await this.client.core.history.resolve(i)},this.cleanup=async()=>{const h=[],o=[];this.client.session.getAll().forEach(p=>{Ir(p.expiry)&&h.push(p.topic)}),this.client.proposal.getAll().forEach(p=>{Ir(p.expiry)&&o.push(p.id)}),await Promise.all([...h.map(p=>this.deleteSession(p)),...o.map(p=>this.deleteProposal(p))])},this.onRelayEventRequest=async h=>{this.requestQueue.queue.push(h),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===_r.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=_r.active;const h=this.requestQueue.queue.shift();if(h)try{this.processRequest(h),await new Promise(o=>setTimeout(o,300))}catch(o){this.client.logger.warn(o)}}this.requestQueue.state=_r.idle},this.processRequest=h=>{const{topic:o,payload:p}=h,i=p.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeRequest(o,p);case"wc_sessionSettle":return this.onSessionSettleRequest(o,p);case"wc_sessionUpdate":return this.onSessionUpdateRequest(o,p);case"wc_sessionExtend":return this.onSessionExtendRequest(o,p);case"wc_sessionPing":return this.onSessionPingRequest(o,p);case"wc_sessionDelete":return this.onSessionDeleteRequest(o,p);case"wc_sessionRequest":return this.onSessionRequest(o,p);case"wc_sessionEvent":return this.onSessionEventRequest(o,p);default:return this.client.logger.info(`Unsupported request method ${i}`)}},this.onRelayEventResponse=async h=>{const{topic:o,payload:p}=h,i=(await this.client.core.history.get(o,p.id)).request.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeResponse(o,p);case"wc_sessionSettle":return this.onSessionSettleResponse(o,p);case"wc_sessionUpdate":return this.onSessionUpdateResponse(o,p);case"wc_sessionExtend":return this.onSessionExtendResponse(o,p);case"wc_sessionPing":return this.onSessionPingResponse(o,p);case"wc_sessionRequest":return this.onSessionRequestResponse(o,p);default:return this.client.logger.info(`Unsupported response method ${i}`)}},this.onRelayEventUnknownPayload=h=>{const{topic:o}=h,{message:p}=Tt("MISSING_OR_INVALID",`Decoded payload on topic ${o} is not identifiable as a JSON-RPC request or a response.`);throw new Error(p)},this.onSessionProposeRequest=async(h,o)=>{const{params:p,id:i}=o;try{this.isValidConnect(Ve({},o.params));const M=lr(Ot.FIVE_MINUTES),w=Ve({id:i,pairingTopic:h,expiry:M},p);await this.setProposal(i,w);const y=Xr(JSON.stringify(o)),g=await this.getVerifyContext(y,w.proposer.metadata);this.client.events.emit("session_proposal",{id:i,params:w,verifyContext:g})}catch(M){await this.sendError(i,h,M),this.client.logger.error(M)}},this.onSessionProposeResponse=async(h,o)=>{const{id:p}=o;if(xr(o)){const{result:i}=o;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:i});const M=this.client.proposal.get(p);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:M});const w=M.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:w});const y=i.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:y});const g=await this.client.core.crypto.generateSharedKey(w,y);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:g});const m=await this.client.core.relayer.subscribe(g);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:m}),await this.client.core.pairing.activate({topic:h})}else dr(o)&&(await this.client.proposal.delete(p,Te("USER_DISCONNECTED")),this.events.emit(Ie("session_connect"),{error:o.error}))},this.onSessionSettleRequest=async(h,o)=>{const{id:p,params:i}=o;try{this.isValidSessionSettleRequest(i);const{relay:M,controller:w,expiry:y,namespaces:g,requiredNamespaces:m,optionalNamespaces:_,sessionProperties:x,pairingTopic:E}=o.params,S=Ve({topic:h,relay:M,expiry:y,namespaces:g,acknowledged:!0,pairingTopic:E,requiredNamespaces:m,optionalNamespaces:_,controller:w.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:w.publicKey,metadata:w.metadata}},x&&{sessionProperties:x});await this.sendResult({id:o.id,topic:h,result:!0}),this.events.emit(Ie("session_connect"),{session:S}),this.cleanupDuplicatePairings(S)}catch(M){await this.sendError(p,h,M),this.client.logger.error(M)}},this.onSessionSettleResponse=async(h,o)=>{const{id:p}=o;xr(o)?(await this.client.session.update(h,{acknowledged:!0}),this.events.emit(Ie("session_approve",p),{})):dr(o)&&(await this.client.session.delete(h,Te("USER_DISCONNECTED")),this.events.emit(Ie("session_approve",p),{error:o.error}))},this.onSessionUpdateRequest=async(h,o)=>{const{params:p,id:i}=o;try{const M=`${h}_session_update`,w=tn.get(M);if(w&&this.isRequestOutOfSync(w,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidUpdate(Ve({topic:h},p)),await this.client.session.update(h,{namespaces:p.namespaces}),await this.sendResult({id:i,topic:h,result:!0}),this.client.events.emit("session_update",{id:i,topic:h,params:p}),tn.set(M,i)}catch(M){await this.sendError(i,h,M),this.client.logger.error(M)}},this.isRequestOutOfSync=(h,o)=>parseInt(o.toString().slice(0,-3))<=parseInt(h.toString().slice(0,-3)),this.onSessionUpdateResponse=(h,o)=>{const{id:p}=o;xr(o)?this.events.emit(Ie("session_update",p),{}):dr(o)&&this.events.emit(Ie("session_update",p),{error:o.error})},this.onSessionExtendRequest=async(h,o)=>{const{id:p}=o;try{this.isValidExtend({topic:h}),await this.setExpiry(h,lr(en)),await this.sendResult({id:p,topic:h,result:!0}),this.client.events.emit("session_extend",{id:p,topic:h})}catch(i){await this.sendError(p,h,i),this.client.logger.error(i)}},this.onSessionExtendResponse=(h,o)=>{const{id:p}=o;xr(o)?this.events.emit(Ie("session_extend",p),{}):dr(o)&&this.events.emit(Ie("session_extend",p),{error:o.error})},this.onSessionPingRequest=async(h,o)=>{const{id:p}=o;try{this.isValidPing({topic:h}),await this.sendResult({id:p,topic:h,result:!0}),this.client.events.emit("session_ping",{id:p,topic:h})}catch(i){await this.sendError(p,h,i),this.client.logger.error(i)}},this.onSessionPingResponse=(h,o)=>{const{id:p}=o;setTimeout(()=>{xr(o)?this.events.emit(Ie("session_ping",p),{}):dr(o)&&this.events.emit(Ie("session_ping",p),{error:o.error})},500)},this.onSessionDeleteRequest=async(h,o)=>{const{id:p}=o;try{this.isValidDisconnect({topic:h,reason:o.params}),await Promise.all([new Promise(i=>{this.client.core.relayer.once(ze.publish,async()=>{i(await this.deleteSession(h))})}),this.sendResult({id:p,topic:h,result:!0})]),this.client.events.emit("session_delete",{id:p,topic:h})}catch(i){this.client.logger.error(i)}},this.onSessionRequest=async(h,o)=>{const{id:p,params:i}=o;try{this.isValidRequest(Ve({topic:h},i));const M=Xr(JSON.stringify(Qr("wc_sessionRequest",i,p))),w=this.client.session.get(h),y=await this.getVerifyContext(M,w.peer.metadata),g={id:p,topic:h,params:i,verifyContext:y};await this.setPendingSessionRequest(g),this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue()}catch(M){await this.sendError(p,h,M),this.client.logger.error(M)}},this.onSessionRequestResponse=(h,o)=>{const{id:p}=o;xr(o)?this.events.emit(Ie("session_request",p),{result:o.result}):dr(o)&&this.events.emit(Ie("session_request",p),{error:o.error})},this.onSessionEventRequest=async(h,o)=>{const{id:p,params:i}=o;try{const M=`${h}_session_event_${i.event.name}`,w=tn.get(M);if(w&&this.isRequestOutOfSync(w,p)){this.client.logger.info(`Discarding out of sync request - ${p}`);return}this.isValidEmit(Ve({topic:h},i)),this.client.events.emit("session_event",{id:p,topic:h,params:i}),tn.set(M,p)}catch(M){await this.sendError(p,h,M),this.client.logger.error(M)}},this.addSessionRequestToSessionRequestQueue=h=>{this.sessionRequestQueue.queue.push(h)},this.cleanupAfterResponse=h=>{this.deletePendingSessionRequest(h.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=_r.idle,this.processSessionRequestQueue()},Ot.toMiliseconds(this.requestQueueDelay))},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===_r.active){this.client.logger.info("session request queue is already active.");return}const h=this.sessionRequestQueue.queue[0];if(!h){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=_r.active,this.client.events.emit("session_request",h)}catch(o){this.client.logger.error(o)}},this.onPairingCreated=h=>{if(h.active)return;const o=this.client.proposal.getAll().find(p=>p.pairingTopic===h.topic);o&&this.onSessionProposeRequest(h.topic,Qr("wc_sessionPropose",{requiredNamespaces:o.requiredNamespaces,optionalNamespaces:o.optionalNamespaces,relays:o.relays,proposer:o.proposer},o.id))},this.isValidConnect=async h=>{if(!Ze(h)){const{message:y}=Tt("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(h)}`);throw new Error(y)}const{pairingTopic:o,requiredNamespaces:p,optionalNamespaces:i,sessionProperties:M,relays:w}=h;if(Ke(o)||await this.isValidPairingTopic(o),!Bm(w,!0)){const{message:y}=Tt("MISSING_OR_INVALID",`connect() relays: ${w}`);throw new Error(y)}!Ke(p)&&Ei(p)!==0&&this.validateNamespaces(p,"requiredNamespaces"),!Ke(i)&&Ei(i)!==0&&this.validateNamespaces(i,"optionalNamespaces"),Ke(M)||this.validateSessionProps(M,"sessionProperties")},this.validateNamespaces=(h,o)=>{const p=Rm(h,"connect()",o);if(p)throw new Error(p.message)},this.isValidApprove=async h=>{if(!Ze(h))throw new Error(Tt("MISSING_OR_INVALID",`approve() params: ${h}`).message);const{id:o,namespaces:p,relayProtocol:i,sessionProperties:M}=h;await this.isValidProposalId(o);const w=this.client.proposal.get(o),y=an(p,"approve()");if(y)throw new Error(y.message);const g=d0(w.requiredNamespaces,p,"approve()");if(g)throw new Error(g.message);if(!Ne(i,!0)){const{message:m}=Tt("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(m)}Ke(M)||this.validateSessionProps(M,"sessionProperties")},this.isValidReject=async h=>{if(!Ze(h)){const{message:i}=Tt("MISSING_OR_INVALID",`reject() params: ${h}`);throw new Error(i)}const{id:o,reason:p}=h;if(await this.isValidProposalId(o),!Tm(p)){const{message:i}=Tt("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(p)}`);throw new Error(i)}},this.isValidSessionSettleRequest=h=>{if(!Ze(h)){const{message:g}=Tt("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${h}`);throw new Error(g)}const{relay:o,controller:p,namespaces:i,expiry:M}=h;if(!oc(o)){const{message:g}=Tt("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(g)}const w=_m(p,"onSessionSettleRequest()");if(w)throw new Error(w.message);const y=an(i,"onSessionSettleRequest()");if(y)throw new Error(y.message);if(Ir(M)){const{message:g}=Tt("EXPIRED","onSessionSettleRequest()");throw new Error(g)}},this.isValidUpdate=async h=>{if(!Ze(h)){const{message:y}=Tt("MISSING_OR_INVALID",`update() params: ${h}`);throw new Error(y)}const{topic:o,namespaces:p}=h;await this.isValidSessionTopic(o);const i=this.client.session.get(o),M=an(p,"update()");if(M)throw new Error(M.message);const w=d0(i.requiredNamespaces,p,"update()");if(w)throw new Error(w.message)},this.isValidExtend=async h=>{if(!Ze(h)){const{message:p}=Tt("MISSING_OR_INVALID",`extend() params: ${h}`);throw new Error(p)}const{topic:o}=h;await this.isValidSessionTopic(o)},this.isValidRequest=async h=>{if(!Ze(h)){const{message:y}=Tt("MISSING_OR_INVALID",`request() params: ${h}`);throw new Error(y)}const{topic:o,request:p,chainId:i,expiry:M}=h;await this.isValidSessionTopic(o);const{namespaces:w}=this.client.session.get(o);if(!l0(w,i)){const{message:y}=Tt("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(y)}if(!Nm(p)){const{message:y}=Tt("MISSING_OR_INVALID",`request() ${JSON.stringify(p)}`);throw new Error(y)}if(!Cm(w,i,p.method)){const{message:y}=Tt("MISSING_OR_INVALID",`request() method: ${p.method}`);throw new Error(y)}if(M&&!Um(M,wa)){const{message:y}=Tt("MISSING_OR_INVALID",`request() expiry: ${M}. Expiry must be a number (in seconds) between ${wa.min} and ${wa.max}`);throw new Error(y)}},this.isValidRespond=async h=>{if(!Ze(h)){const{message:i}=Tt("MISSING_OR_INVALID",`respond() params: ${h}`);throw new Error(i)}const{topic:o,response:p}=h;if(await this.isValidSessionTopic(o),!Om(p)){const{message:i}=Tt("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(p)}`);throw new Error(i)}},this.isValidPing=async h=>{if(!Ze(h)){const{message:p}=Tt("MISSING_OR_INVALID",`ping() params: ${h}`);throw new Error(p)}const{topic:o}=h;await this.isValidSessionOrPairingTopic(o)},this.isValidEmit=async h=>{if(!Ze(h)){const{message:w}=Tt("MISSING_OR_INVALID",`emit() params: ${h}`);throw new Error(w)}const{topic:o,event:p,chainId:i}=h;await this.isValidSessionTopic(o);const{namespaces:M}=this.client.session.get(o);if(!l0(M,i)){const{message:w}=Tt("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(w)}if(!qm(p)){const{message:w}=Tt("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(p)}`);throw new Error(w)}if(!Dm(M,i,p.name)){const{message:w}=Tt("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(p)}`);throw new Error(w)}},this.isValidDisconnect=async h=>{if(!Ze(h)){const{message:p}=Tt("MISSING_OR_INVALID",`disconnect() params: ${h}`);throw new Error(p)}const{topic:o}=h;await this.isValidSessionOrPairingTopic(o)},this.getVerifyContext=async(h,o)=>{const p={verified:{verifyUrl:o.verifyUrl||Jr,validation:"UNKNOWN",origin:o.url||""}};try{const i=await this.client.core.verify.resolve({attestationId:h,verifyUrl:o.verifyUrl});i&&(p.verified.origin=i.origin,p.verified.isScam=i.isScam,p.verified.validation=i.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(i){this.client.logger.info(i)}return this.client.logger.info(`Verify context: ${JSON.stringify(p)}`),p},this.validateSessionProps=(h,o)=>{Object.values(h).forEach(p=>{if(!Ne(p,!1)){const{message:i}=Tt("MISSING_OR_INVALID",`${o} must be in Record<string, string> format. Received: ${JSON.stringify(p)}`);throw new Error(i)}})}}async isInitialized(){if(!this.initialized){const{message:s}=Tt("NOT_INITIALIZED",this.name);throw new Error(s)}await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(ze.message,async s=>{const{topic:h,message:o}=s;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(o)))return;const p=await this.client.core.crypto.decode(h,o);try{mo(p)?(this.client.core.history.set(h,p),this.onRelayEventRequest({topic:h,payload:p})):In(p)?(await this.client.core.history.resolve(p),await this.onRelayEventResponse({topic:h,payload:p}),this.client.core.history.delete(h,p.id)):this.onRelayEventUnknownPayload({topic:h,payload:p})}catch(i){this.client.logger.error(i)}})}registerExpirerEvents(){this.client.core.expirer.on(ar.expired,async s=>{const{topic:h,id:o}=sc(s.target);if(o&&this.client.pendingRequest.keys.includes(o))return await this.deletePendingSessionRequest(o,Tt("EXPIRED"),!0);h?this.client.session.keys.includes(h)&&(await this.deleteSession(h,!0),this.client.events.emit("session_expire",{topic:h})):o&&(await this.deleteProposal(o,!0),this.client.events.emit("proposal_expire",{id:o}))})}registerPairingEvents(){this.client.core.pairing.events.on(xi.create,s=>this.onPairingCreated(s))}isValidPairingTopic(s){if(!Ne(s,!1)){const{message:h}=Tt("MISSING_OR_INVALID",`pairing topic should be a string: ${s}`);throw new Error(h)}if(!this.client.core.pairing.pairings.keys.includes(s)){const{message:h}=Tt("NO_MATCHING_KEY",`pairing topic doesn't exist: ${s}`);throw new Error(h)}if(Ir(this.client.core.pairing.pairings.get(s).expiry)){const{message:h}=Tt("EXPIRED",`pairing topic: ${s}`);throw new Error(h)}}async isValidSessionTopic(s){if(!Ne(s,!1)){const{message:h}=Tt("MISSING_OR_INVALID",`session topic should be a string: ${s}`);throw new Error(h)}if(!this.client.session.keys.includes(s)){const{message:h}=Tt("NO_MATCHING_KEY",`session topic doesn't exist: ${s}`);throw new Error(h)}if(Ir(this.client.session.get(s).expiry)){await this.deleteSession(s);const{message:h}=Tt("EXPIRED",`session topic: ${s}`);throw new Error(h)}}async isValidSessionOrPairingTopic(s){if(this.client.session.keys.includes(s))await this.isValidSessionTopic(s);else if(this.client.core.pairing.pairings.keys.includes(s))this.isValidPairingTopic(s);else if(Ne(s,!1)){const{message:h}=Tt("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${s}`);throw new Error(h)}else{const{message:h}=Tt("MISSING_OR_INVALID",`session or pairing topic should be a string: ${s}`);throw new Error(h)}}async isValidProposalId(s){if(!Pm(s)){const{message:h}=Tt("MISSING_OR_INVALID",`proposal id should be a number: ${s}`);throw new Error(h)}if(!this.client.proposal.keys.includes(s)){const{message:h}=Tt("NO_MATCHING_KEY",`proposal id doesn't exist: ${s}`);throw new Error(h)}if(Ir(this.client.proposal.get(s).expiry)){await this.deleteProposal(s);const{message:h}=Tt("EXPIRED",`proposal id: ${s}`);throw new Error(h)}}}class ty extends Bn{constructor(s,h){super(s,h,$b,yo),this.core=s,this.logger=h}}class ey extends Bn{constructor(s,h){super(s,h,Hb,yo),this.core=s,this.logger=h}}class ry extends Bn{constructor(s,h){super(s,h,Vb,yo,o=>o.id),this.core=s,this.logger=h}}class wo extends dd{constructor(s){super(s),this.protocol=Rc,this.version=Bc,this.name=ya.name,this.events=new Qe.exports.EventEmitter,this.on=(o,p)=>this.events.on(o,p),this.once=(o,p)=>this.events.once(o,p),this.off=(o,p)=>this.events.off(o,p),this.removeListener=(o,p)=>this.events.removeListener(o,p),this.removeAllListeners=o=>this.events.removeAllListeners(o),this.connect=async o=>{try{return await this.engine.connect(o)}catch(p){throw this.logger.error(p.message),p}},this.pair=async o=>{try{return await this.engine.pair(o)}catch(p){throw this.logger.error(p.message),p}},this.approve=async o=>{try{return await this.engine.approve(o)}catch(p){throw this.logger.error(p.message),p}},this.reject=async o=>{try{return await this.engine.reject(o)}catch(p){throw this.logger.error(p.message),p}},this.update=async o=>{try{return await this.engine.update(o)}catch(p){throw this.logger.error(p.message),p}},this.extend=async o=>{try{return await this.engine.extend(o)}catch(p){throw this.logger.error(p.message),p}},this.request=async o=>{try{return await this.engine.request(o)}catch(p){throw this.logger.error(p.message),p}},this.respond=async o=>{try{return await this.engine.respond(o)}catch(p){throw this.logger.error(p.message),p}},this.ping=async o=>{try{return await this.engine.ping(o)}catch(p){throw this.logger.error(p.message),p}},this.emit=async o=>{try{return await this.engine.emit(o)}catch(p){throw this.logger.error(p.message),p}},this.disconnect=async o=>{try{return await this.engine.disconnect(o)}catch(p){throw this.logger.error(p.message),p}},this.find=o=>{try{return this.engine.find(o)}catch(p){throw this.logger.error(p.message),p}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(o){throw this.logger.error(o.message),o}},this.name=(s==null?void 0:s.name)||ya.name,this.metadata=(s==null?void 0:s.metadata)||Vv();const h=typeof(s==null?void 0:s.logger)<"u"&&typeof(s==null?void 0:s.logger)!="string"?s.logger:Qt.pino(Qt.getDefaultLoggerOptions({level:(s==null?void 0:s.logger)||ya.logger}));this.core=(s==null?void 0:s.core)||new zb(s),this.logger=Qt.generateChildLogger(h,this.name),this.session=new ey(this.core,this.logger),this.proposal=new ty(this.core,this.logger),this.pendingRequest=new ry(this.core,this.logger),this.engine=new Qb(this)}static async init(s){const h=new wo(s);return await h.initialize(),h}get context(){return Qt.getLoggerContext(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(s){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(s.message),s}}}const uy=wo;export{Bn as $,pm as A,Ei as B,sy as C,ze as D,ug as J,zb as N,wo as Q,ay as R,oy as S,Te as U,Ov as V,fy as X,Um as Z,Vr as _,dr as a,Tt as b,Qt as c,mo as d,In as e,vo as f,xi as g,Ot as h,xr as i,ym as j,Qr as k,po as l,uy as m,md as n,Sd as o,Ya as p,Ci as q,ri as r,An as s,Ti as t,hy as u,Pi as v,dn as w,Qm as x,Kb as y,Li as z};
